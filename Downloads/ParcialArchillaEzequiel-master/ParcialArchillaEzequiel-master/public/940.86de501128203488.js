"use strict";(self.webpackChunkParcial_Archilla_Ezequiel=self.webpackChunkParcial_Archilla_Ezequiel||[]).push([[940],{9940:(J,u,n)=>{n.r(u),n.d(u,{RepartidoresModule:()=>O});var p=n(9808),l=n(3809),a=n(2382);class c{constructor(){this.dni="",this.nombre="",this.edad=0,this.capacidadDeTransporte=0,this.pais="",this.unidadPropia=!1}}var e=n(5e3),g=n(7566);let m=(()=>{class r{constructor(t){this.db=t,this.repartidorRef=this.db.collection("repartidores")}crearRepartidor(t){return this.repartidorRef.add(Object.assign({},t))}obtenerRepartidor(){return this.repartidorRef.valueChanges()}update(t,o){return this.repartidorRef.doc(t).update(o)}delete(t){return this.repartidorRef.doc(t).delete()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(g.ST))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var v=n(2290);let h=(()=>{class r{constructor(t){this.toastr=t}showSuccess(t){this.toastr.success(t)}showError(t){this.toastr.error(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(v._W))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var f=n(5146);function _(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",4)(1,"input",5),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().valueChange(s)}),e.qZA(),e.TgZ(2,"h6",6),e._uU(3),e.qZA(),e._UZ(4,"img",7),e.qZA()}if(2&r){const t=i.$implicit;e.xp6(1),e.Q6J("value",t),e.xp6(2),e.Oqu(t.name.common),e.xp6(1),e.Q6J("src",t.flags.png,e.LSH)}}let Z=(()=>{class r{constructor(t){this.apiService=t,this.paisOut=new e.vpe}ngOnInit(){this.apiService.ObtenerPaises().subscribe(t=>{this.paises=t.filter(o=>"Nigeria"==o.name.common||"Spain"==o.name.common||"Germany"==o.name.common)})}valueChange(t){this.paisOut.emit(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(f.s))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-tabla-paises"]],outputs:{paisOut:"paisOut"},decls:5,vars:1,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-primary"],[1,"list-group","mb-3"],["class","list-group-item d-flex justify-content-between lh-sm",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","lh-sm"],["type","radio","name","radioPaises",3,"value","click"],[1,"my-0"],["width","80","height","50",3,"src"]],template:function(t,o){1&t&&(e.TgZ(0,"h4",0)(1,"span",1),e._uU(2,"Pais"),e.qZA()(),e.TgZ(3,"div",2),e.YNc(4,_,5,3,"div",3),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngForOf",o.paises))},directives:[p.sg],styles:[""]}),r})();function b(r,i){1&r&&(e.TgZ(0,"div",26),e._uU(1," El nombre es requerido "),e.qZA())}function T(r,i){1&r&&(e.TgZ(0,"div",26),e._uU(1," La edad es incorrecta "),e.qZA())}let A=(()=>{class r{constructor(t,o,d,s){this.repartidorFire=t,this.fb=o,this.toastService=d,this.router=s,this.paisSeleccionado="",this.nuevoRepartidor=new c,this.repartidorForm=o.group({dni:["",[a.kI.required]],nombre:["",[a.kI.required]],edad:["",[a.kI.min(18),a.kI.max(65)]],capacidadDeTransporte:["",[a.kI.required]]})}ngOnInit(){}asignarPaisSeleccionado(t){this.nuevoRepartidor.pais=t,this.paisSeleccionado=t.name.common}crearRepartidor(){this.nuevoRepartidor.dni=this.repartidorForm.controls.dni.value,this.nuevoRepartidor.nombre=this.repartidorForm.controls.nombre.value,this.nuevoRepartidor.edad=this.repartidorForm.controls.edad.value,this.nuevoRepartidor.capacidadDeTransporte=this.repartidorForm.controls.capacidadDeTransporte.value,this.repartidorFire.crearRepartidor(this.nuevoRepartidor).then(()=>{this.toastService.showSuccess("Actor creado correctamente"),this.router.navigate(["bienvenido"])}).catch(t=>{this.toastService.showError("Ocurrio un error inesperado"),this.router.navigate(["bienvenido"])})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(m),e.Y36(a.qu),e.Y36(h),e.Y36(l.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-alta-repartidor"]],decls:44,vars:7,consts:[[1,"bg-light"],[1,"container"],[1,"py-5","mb-4","text-center","bg-lightBlue"],[1,"row"],[1,"col-md-4","order-md-2","mb-4"],[3,"paisOut"],[1,"col-md-8","order-md-1"],[1,"mb-3","text-primary"],[1,"needs-validation",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","dni"],["type","text","id","dni","placeholder","","value","","formControlName","dni",1,"form-control"],["for","firstName"],["type","text","id","firstName","placeholder","","value","","formControlName","nombre",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","edad"],["type","number","id","edad","placeholder","","value","","formControlName","edad",1,"form-control"],["for","capacidadDeTransporte"],["type","email","id","capacidadDeTransporte","formControlName","capacidadDeTransporte",1,"form-control"],["type","checkbox","id","unidadPropia",1,"form-check-input",3,"value"],["for","flexCheckDefault",1,"form-check-label"],["for","pais"],["type","text","id","pais",1,"form-control",3,"value"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"my-5","pt-5","text-muted","text-center","text-small"],[1,"mb-1"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"body",0)(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4,"Complete los datos del repartidor"),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4)(7,"app-tabla-paises",5),e.NdJ("paisOut",function(s){return o.asignarPaisSeleccionado(s)}),e.qZA()(),e.TgZ(8,"div",6)(9,"h4",7),e._uU(10,"Informacion basica"),e.qZA(),e.TgZ(11,"form",8),e.NdJ("ngSubmit",function(){return o.crearRepartidor()}),e.TgZ(12,"div",3)(13,"div",9)(14,"label",10),e._uU(15,"Dni"),e.qZA(),e._UZ(16,"input",11),e.qZA(),e.TgZ(17,"div",9)(18,"label",12),e._uU(19,"Nombre"),e.qZA(),e._UZ(20,"input",13),e.YNc(21,b,2,0,"div",14),e.qZA(),e.TgZ(22,"div",9)(23,"label",15),e._uU(24,"Edad"),e.qZA(),e._UZ(25,"input",16),e.YNc(26,T,2,0,"div",14),e.qZA()(),e.TgZ(27,"div",9)(28,"label",17),e._uU(29,"Capacidad de transporte"),e.qZA(),e._UZ(30,"input",18),e.qZA(),e._UZ(31,"input",19),e.TgZ(32,"label",20),e._uU(33," Transporte Propio "),e.qZA(),e.TgZ(34,"div",9)(35,"label",21),e._uU(36,"Pais"),e.qZA(),e._UZ(37,"input",22),e.qZA(),e._UZ(38,"br"),e.TgZ(39,"button",23),e._uU(40," Aceptar "),e.qZA()()()(),e.TgZ(41,"footer",24)(42,"p",25),e._uU(43,"\xa9 Ezequiel Archilla 2022"),e.qZA()()()()),2&t&&(e.xp6(11),e.Q6J("formGroup",o.repartidorForm),e.xp6(10),e.Q6J("ngIf",(null==o.repartidorForm.controls.nombre.errors?null:o.repartidorForm.controls.nombre.errors.required)&&o.repartidorForm.controls.nombre.touched),e.xp6(5),e.Q6J("ngIf",(null==o.repartidorForm.controls.edad.errors?null:o.repartidorForm.controls.edad.errors.required)&&o.repartidorForm.controls.edad.touched),e.xp6(5),e.Q6J("value",o.nuevoRepartidor.unidadPropia),e.xp6(6),e.Q6J("value",o.paisSeleccionado),e.uIk("disabled",!0),e.xp6(2),e.Q6J("disabled",o.repartidorForm.invalid||""==o.paisSeleccionado))},directives:[Z,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,p.O5,a.wV],styles:[".container[_ngcontent-%COMP%]{max-width:960px}.lh-condensed[_ngcontent-%COMP%]{line-height:1.25}.bg-lightBlue[_ngcontent-%COMP%]{background-color:#afdee6}"]}),r})();var R=n(5861);function C(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",2)(1,"div")(2,"h6",3),e._uU(3),e.qZA(),e.TgZ(4,"small",4),e._uU(5),e.qZA()(),e.TgZ(6,"button",5),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().mostrarDetalle(s)}),e._uU(7,"Detalle"),e.qZA()()}if(2&r){const t=i.$implicit;e.xp6(3),e.Oqu(t.dni),e.xp6(2),e.Oqu(t.nombre)}}let y=(()=>{class r{constructor(t){this.repartidorFireService=t,this.detalleProducto=new e.vpe,this.listaRepartidores=[]}ngOnInit(){this.repartidorFireService.obtenerRepartidor().subscribe(t=>{this.listaRepartidores=t})}mostrarDetalle(t){this.detalleProducto.emit(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(m))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-listado-repartidor"]],outputs:{detalleProducto:"detalleProducto"},decls:2,vars:1,consts:[[1,"list-group","mb-3"],["class","list-group-item d-flex justify-content-between lh-sm",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","lh-sm"],[1,"my-0"],[1,"text-muted"],[1,"btn","btn-outline-info",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"ul",0),e.YNc(1,C,8,2,"li",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",o.listaRepartidores))},directives:[p.sg],styles:[""]}),r})(),x=(()=>{class r{constructor(){this.repartidorSeleccionado=new c}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-detalle-repartidor-seleccionado"]],inputs:{repartidorSeleccionado:"repartidorSeleccionado"},decls:12,vars:4,consts:[[1,"text-primary"],[1,"my-0"]],template:function(t,o){1&t&&(e.TgZ(0,"span",0),e._uU(1,"Detalle"),e.qZA(),e._UZ(2,"br"),e.TgZ(3,"div")(4,"h6",1),e._uU(5),e.qZA(),e.TgZ(6,"h6",1),e._uU(7),e.qZA(),e.TgZ(8,"h6",1),e._uU(9),e.qZA(),e.TgZ(10,"h6",1),e._uU(11),e.qZA()()),2&t&&(e.xp6(5),e.hij("Dni: ",o.repartidorSeleccionado.dni,""),e.xp6(2),e.hij("Nombre: ",o.repartidorSeleccionado.nombre,""),e.xp6(2),e.hij("Pais: ",o.repartidorSeleccionado.pais.name.common,""),e.xp6(2),e.hij("Capacidad: ",o.repartidorSeleccionado.capacidadDeTransporte," unidades"))},styles:[""]}),r})();function F(r,i){if(1&r&&e._UZ(0,"app-detalle-repartidor-seleccionado",14),2&r){const t=e.oxw();e.Q6J("repartidorSeleccionado",t.repartidor)}}function q(r,i){if(1&r&&(e.TgZ(0,"div")(1,"h6",18),e._uU(2),e.qZA(),e.TgZ(3,"h6",18),e._uU(4),e.qZA(),e.TgZ(5,"h6",18),e._uU(6),e.qZA(),e.TgZ(7,"h6",18),e._uU(8),e.qZA(),e._UZ(9,"img",19),e.qZA()),2&r){const t=e.oxw(2);e.xp6(2),e.hij("Nombre: ",t.repartidor.pais.name.common,""),e.xp6(2),e.hij("Capital: ",t.repartidor.pais.capital,""),e.xp6(2),e.hij("Region: ",t.repartidor.pais.region,""),e.xp6(2),e.hij("Sub region: ",t.repartidor.pais.subregion,""),e.xp6(1),e.Q6J("src",t.repartidor.pais.flags.png,e.LSH)}}function S(r,i){if(1&r&&(e.TgZ(0,"div",8)(1,"div",15)(2,"span",16),e._uU(3,"Pais de origen"),e.qZA(),e._UZ(4,"br"),e.YNc(5,q,10,5,"div",17),e.qZA()()),2&r){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",null!=t.repartidor)}}let U=(()=>{class r{constructor(t){this.apiService=t,this.repartidor=new c}ngOnInit(){}mostrarDetalle(t){var o=this;return(0,R.Z)(function*(){o.repartidor=t,console.log(t)})()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(f.s))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-detalle-repartidor"]],decls:18,vars:2,consts:[[1,"container","py-4"],[1,"pb-3","mb-4","border-bottom"],["href","/",1,"d-flex","align-items-center","text-dark","text-decoration-none"],[1,"fs-4"],[1,"p-5","mb-4","bg-light","rounded-3"],[1,"container-fluid"],[3,"detalleProducto"],[1,"row","align-items-md-stretch"],[1,"col-md-6"],[1,"h-100","p-5","text-white","bg-dark","rounded-3"],[3,"repartidorSeleccionado",4,"ngIf"],["class","col-md-6",4,"ngIf"],[1,"pt-3","mt-4","text-muted","border-top"],[1,"mb-1"],[3,"repartidorSeleccionado"],[1,"h-100","p-5","bg-light","border","rounded-3"],[1,"text-primary"],[4,"ngIf"],[1,"my-0"],["width","80","height","50",1,"my-2",3,"src"]],template:function(t,o){1&t&&(e.TgZ(0,"body")(1,"main")(2,"div",0)(3,"header",1)(4,"a",2)(5,"span",3),e._uU(6,"Repartidores"),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5)(9,"app-listado-repartidor",6),e.NdJ("detalleProducto",function(s){return o.mostrarDetalle(s)}),e.qZA()()(),e.TgZ(10,"div",7)(11,"div",8)(12,"div",9),e.YNc(13,F,1,1,"app-detalle-repartidor-seleccionado",10),e.qZA()(),e.YNc(14,S,6,1,"div",11),e.qZA(),e.TgZ(15,"footer",12)(16,"p",13),e._uU(17,"\xa9 Archilla Ezequiel LAboratorio 4 2021"),e.qZA()()()()()),2&t&&(e.xp6(13),e.Q6J("ngIf",""!=o.repartidor.nombre),e.xp6(1),e.Q6J("ngIf",""!=o.repartidor.nombre))},directives:[y,p.O5,x],styles:[""]}),r})();var w=n(1228);const P=[{path:"",component:(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-repartidores"]],decls:2,vars:0,template:function(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1,"repartidores works!"),e.qZA())},styles:[""]}),r})()},{path:"alta",component:A,canActivate:[(()=>{class r{constructor(t,o,d){this.router=t,this.auth=o,this.toast=d}canActivate(t,o){return 1==this.auth.logged||(this.router.navigate(["bienvenido"]),this.toast.showError("No se encuentra logueado"),!1)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(l.F0),e.LFG(w.e),e.LFG(h))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()]},{path:"detalle",component:U}];let D=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[l.Bz.forChild(P)],l.Bz]}),r})(),O=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez,D]]}),r})()}}]);