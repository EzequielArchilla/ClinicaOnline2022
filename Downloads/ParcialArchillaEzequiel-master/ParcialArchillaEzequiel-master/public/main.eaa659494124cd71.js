"use strict";var hI=Object.defineProperty,fI=Object.defineProperties,pI=Object.getOwnPropertyDescriptors,OE=Object.getOwnPropertySymbols,gI=Object.prototype.hasOwnProperty,mI=Object.prototype.propertyIsEnumerable,PE=(jt,ze,U)=>ze in jt?hI(jt,ze,{enumerable:!0,configurable:!0,writable:!0,value:U}):jt[ze]=U,NE=(jt,ze)=>{for(var U in ze||(ze={}))gI.call(ze,U)&&PE(jt,U,ze[U]);if(OE)for(var U of OE(ze))mI.call(ze,U)&&PE(jt,U,ze[U]);return jt},kE=(jt,ze)=>fI(jt,pI(ze));(self.webpackChunkParcial_Archilla_Ezequiel=self.webpackChunkParcial_Archilla_Ezequiel||[]).push([[179],{440:(jt,ze,U)=>{U.d(ze,{nm:()=>nr});var m=U(5813);U(5e3),U(5867);var oe=U(5861),ve=U(9681),Ke=U(4859),Ge=U(2090),ot=U(1877);const de=new Map,Xe={activated:!1,tokenObservers:[]},se={initialized:!1,enabled:!1};function ke(Ne){return de.get(Ne)||Xe}function _e(Ne,Ie){de.set(Ne,Ie)}function tt(){return se}class yn{constructor(Ie,Je,mt,Lt,Jt){if(this.operation=Ie,this.retryPolicy=Je,this.getWaitDuration=mt,this.lowerBound=Lt,this.upperBound=Jt,this.pending=null,this.nextErrorWaitInterval=Lt,Lt>Jt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ie){var Je=this;return(0,oe.Z)(function*(){Je.stop();try{Je.pending=new Ge.BH,yield function Qt(Ne){return new Promise(Ie=>{setTimeout(Ie,Ne)})}(Je.getNextRun(Ie)),Je.pending.resolve(),yield Je.pending.promise,Je.pending=new Ge.BH,yield Je.operation(),Je.pending.resolve(),yield Je.pending.promise,Je.process(!0).catch(()=>{})}catch(mt){Je.retryPolicy(mt)?Je.process(!1).catch(()=>{}):Je.stop()}})()}getNextRun(Ie){if(Ie)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Je=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Je}}}const et=new Ge.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Be(Ne){if(!ke(Ne).activated)throw et.create("use-before-activation",{appName:Ne.name})}function Wn(Ne,Ie){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,oe.Z)(function*({url:Ne,body:Ie},Je){const mt={"Content-Type":"application/json"},Lt=Je.getImmediate({optional:!0});if(Lt){const Jr=yield Lt.getHeartbeatsHeader();Jr&&(mt["X-Firebase-Client"]=Jr)}const Jt={method:"POST",body:JSON.stringify(Ie),headers:mt};let mr,Jn;try{mr=yield fetch(Ne,Jt)}catch(Jr){throw et.create("fetch-network-error",{originalErrorMessage:Jr.message})}if(200!==mr.status)throw et.create("fetch-status-error",{httpStatus:mr.status});try{Jn=yield mr.json()}catch(Jr){throw et.create("fetch-parse-error",{originalErrorMessage:Jr.message})}const tr=Jn.ttl.match(/^([\d.]+)(s)$/);if(!tr||!tr[2]||isNaN(Number(tr[1])))throw et.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Jn.ttl}`});const _s=1e3*Number(tr[1]),vs=Date.now();return{token:Jn.token,expireTimeMillis:vs+_s,issuedAtTimeMillis:vs}})).apply(this,arguments)}function sr(Ne,Ie){const{projectId:Je,appId:mt,apiKey:Lt}=Ne.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Je}/apps/${mt}:exchangeDebugToken?key=${Lt}`,body:{debug_token:Ie}}}const gn="firebase-app-check-store";let wn=null;function _i(){return wn||(wn=new Promise((Ne,Ie)=>{try{const Je=indexedDB.open("firebase-app-check-database",1);Je.onsuccess=mt=>{Ne(mt.target.result)},Je.onerror=mt=>{var Lt;Ie(et.create("storage-open",{originalErrorMessage:null===(Lt=mt.target.error)||void 0===Lt?void 0:Lt.message}))},Je.onupgradeneeded=mt=>{0===mt.oldVersion&&mt.target.result.createObjectStore(gn,{keyPath:"compositeKey"})}}catch(Je){Ie(et.create("storage-open",{originalErrorMessage:Je.message}))}}),wn)}function He(){return(He=(0,oe.Z)(function*(Ne,Ie){const mt=(yield _i()).transaction(gn,"readwrite"),Jt=mt.objectStore(gn).put({compositeKey:Ne,value:Ie});return new Promise((mr,Jn)=>{Jt.onsuccess=tr=>{mr()},mt.onerror=tr=>{var _s;Jn(et.create("storage-set",{originalErrorMessage:null===(_s=tr.target.error)||void 0===_s?void 0:_s.message}))}})})).apply(this,arguments)}const _n=new ot.Yd("@firebase/app-check");function br(Ne,Ie){return(0,Ge.hl)()?function gt(Ne,Ie){return function Et(Ne,Ie){return He.apply(this,arguments)}(function pn(Ne){return`${Ne.options.appId}-${Ne.name}`}(Ne),Ie)}(Ne,Ie).catch(Je=>{_n.warn(`Failed to write token to IndexedDB. Error: ${Je}`)}):Promise.resolve()}function ge(){return tt().enabled}function Ce(){return yt.apply(this,arguments)}function yt(){return(yt=(0,oe.Z)(function*(){const Ne=tt();if(Ne.enabled&&Ne.token)return Ne.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Pe={error:"UNKNOWN_ERROR"};function wt(Ne){return Ge.US.encodeString(JSON.stringify(Ne),!1)}function Bt(Ne){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,oe.Z)(function*(Ne,Ie=!1){const Je=Ne.app;Be(Je);const mt=ke(Je);let Jt,Lt=mt.token;if(!Lt){const tr=yield mt.cachedTokenPromise;tr&&Fi(tr)&&(Lt=tr)}if(!Ie&&Lt&&Fi(Lt))return{token:Lt.token};let Jn,mr=!1;if(ge()){mt.exchangeTokenPromise||(mt.exchangeTokenPromise=Wn(sr(Je,yield Ce()),Ne.heartbeatServiceProvider).then(_s=>(mt.exchangeTokenPromise=void 0,_s)),mr=!0);const tr=yield mt.exchangeTokenPromise;return yield br(Je,tr),_e(Je,Object.assign(Object.assign({},mt),{token:tr})),{token:tr.token}}try{mt.exchangeTokenPromise||(mt.exchangeTokenPromise=mt.provider.getToken().then(tr=>(mt.exchangeTokenPromise=void 0,tr)),mr=!0),Lt=yield mt.exchangeTokenPromise}catch(tr){"appCheck/throttled"===tr.code?_n.warn(tr.message):_n.error(tr),Jt=tr}return Lt?(Jn={token:Lt.token},_e(Je,Object.assign(Object.assign({},mt),{token:Lt})),yield br(Je,Lt)):Jn=qe(Jt),mr&&qr(Je,Jn),Jn})).apply(this,arguments)}function vr(Ne,Ie){const Je=ke(Ne),mt=Je.tokenObservers.filter(Lt=>Lt.next!==Ie);0===mt.length&&Je.tokenRefresher&&Je.tokenRefresher.isRunning()&&Je.tokenRefresher.stop(),_e(Ne,Object.assign(Object.assign({},Je),{tokenObservers:mt}))}function dn(Ne){const{app:Ie}=Ne,Je=ke(Ie);let mt=Je.tokenRefresher;mt||(mt=function Rr(Ne){const{app:Ie}=Ne;return new yn((0,oe.Z)(function*(){let mt;if(mt=ke(Ie).token?yield Bt(Ne,!0):yield Bt(Ne),mt.error)throw mt.error}),()=>!0,()=>{const Je=ke(Ie);if(Je.token){let mt=Je.token.issuedAtTimeMillis+.5*(Je.token.expireTimeMillis-Je.token.issuedAtTimeMillis)+3e5;return mt=Math.min(mt,Je.token.expireTimeMillis-3e5),Math.max(0,mt-Date.now())}return 0},3e4,96e4)}(Ne),_e(Ie,Object.assign(Object.assign({},Je),{tokenRefresher:mt}))),!mt.isRunning()&&Je.isTokenAutoRefreshEnabled&&mt.start()}function qr(Ne,Ie){const Je=ke(Ne).tokenObservers;for(const mt of Je)try{"EXTERNAL"===mt.type&&null!=Ie.error?mt.error(Ie.error):mt.next(Ie)}catch(Lt){}}function Fi(Ne){return Ne.expireTimeMillis-Date.now()>0}function qe(Ne){return{token:wt(Pe),error:Ne}}class Me{constructor(Ie,Je){this.app=Ie,this.heartbeatServiceProvider=Je}_delete(){const{tokenObservers:Ie}=ke(this.app);for(const Je of Ie)vr(this.app,Je.next);return Promise.resolve()}}const Ci="app-check-internal";!function Ur(){(0,ve._registerComponent)(new Ke.wA("app-check",Ne=>function ie(Ne,Ie){return new Me(Ne,Ie)}(Ne.getProvider("app").getImmediate(),Ne.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ne,Ie,Je)=>{Ne.getProvider(Ci).initialize()})),(0,ve._registerComponent)(new Ke.wA(Ci,Ne=>function Le(Ne){return{getToken:Ie=>Bt(Ne,Ie),addTokenListener:Ie=>function ln(Ne,Ie,Je,mt){const{app:Lt}=Ne,Jt=ke(Lt),mr={next:Je,error:mt,type:Ie};if(_e(Lt,Object.assign(Object.assign({},Jt),{tokenObservers:[...Jt.tokenObservers,mr]})),Jt.token&&Fi(Jt.token)){const Jn=Jt.token;Promise.resolve().then(()=>{Je({token:Jn.token}),dn(Ne)}).catch(()=>{})}Jt.cachedTokenPromise.then(()=>dn(Ne))}(Ne,"INTERNAL",Ie),removeTokenListener:Ie=>vr(Ne.app,Ie)}}(Ne.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ve.registerVersion)("@firebase/app-check","0.5.8")}();class nr{constructor(){return(0,m.vb)("app-check")}}"undefined"!=typeof window&&window},1205:(jt,ze,U)=>{U.d(ze,{zQ:()=>We,ww:()=>It,rT:()=>se,f7:()=>_e,L6:()=>de,_Q:()=>Xe,lh:()=>ke,Qv:()=>ot,nw:()=>tt});var m=U(5e3),O=U(7579),X=U(9646),Te=U(8306),De=U(8996),Ae=U(6451),Ue=U(6063);class Oe extends O.x{constructor(Ot=1/0,Zt=1/0,Ct=Ue.l){super(),this._bufferSize=Ot,this._windowTime=Zt,this._timestampProvider=Ct,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Zt===1/0,this._bufferSize=Math.max(1,Ot),this._windowTime=Math.max(1,Zt)}next(Ot){const{isStopped:Zt,_buffer:Ct,_infiniteTimeWindow:yn,_timestampProvider:Qt,_windowTime:nt}=this;Zt||(Ct.push(Ot),!yn&&Ct.push(Qt.now()+nt)),this._trimBuffer(),super.next(Ot)}_subscribe(Ot){this._throwIfClosed(),this._trimBuffer();const Zt=this._innerSubscribe(Ot),{_infiniteTimeWindow:Ct,_buffer:yn}=this,Qt=yn.slice();for(let nt=0;nt<Qt.length&&!Ot.closed;nt+=Ct?1:2)Ot.next(Qt[nt]);return this._checkFinalizedStatuses(Ot),Zt}_trimBuffer(){const{_bufferSize:Ot,_timestampProvider:Zt,_buffer:Ct,_infiniteTimeWindow:yn}=this,Qt=(yn?1:2)*Ot;if(Ot<1/0&&Qt<Ct.length&&Ct.splice(0,Ct.length-Qt),!yn){const nt=Zt.now();let et=0;for(let we=1;we<Ct.length&&Ct[we]<=nt;we+=2)et=we;et&&Ct.splice(0,et+1)}}}var je=U(3099);function pe(Nt,Ot,Zt){let Ct,yn=!1;return Nt&&"object"==typeof Nt?({bufferSize:Ct=1/0,windowTime:Ot=1/0,refCount:yn=!1,scheduler:Zt}=Nt):Ct=null!=Nt?Nt:1/0,(0,je.B)({connector:()=>new Oe(Ct,Ot,Zt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:yn})}var fe=U(3900),Ve=U(576);function St(Nt,Ot){return(0,Ve.m)(Ot)?(0,fe.w)(()=>Nt,Ot):(0,fe.w)(()=>Nt)}var it=U(5363),ht=U(4004),Mt=U(590),Ze=U(9468),dt=U(9300),Vt=U(5813),Ut=U(2011),oe=U(9808),ve=U(440),Ke=U(127);const ot=new m.OlP("angularfire2.auth.use-emulator"),de=new m.OlP("angularfire2.auth.settings"),Xe=new m.OlP("angularfire2.auth.tenant-id"),se=new m.OlP("angularfire2.auth.langugage-code"),ke=new m.OlP("angularfire2.auth.use-device-language"),_e=new m.OlP("angularfire.auth.persistence"),tt=(Nt,Ot,Zt,Ct,yn,Qt,nt,et)=>(0,Ut.cc)(`${Nt.name}.auth`,"AngularFireAuth",Nt.name,()=>{const we=Ot.runOutsideAngular(()=>Nt.auth());if(Zt&&we.useEmulator(...Zt),Ct&&(we.tenantId=Ct),we.languageCode=yn,Qt&&we.useDeviceLanguage(),nt)for(const[Be,Dt]of Object.entries(nt))we.settings[Be]=Dt;return et&&we.setPersistence(et),we},[Zt,Ct,yn,Qt,nt,et]);let We=(()=>{class Nt{constructor(Zt,Ct,yn,Qt,nt,et,we,Be,Dt,Ht,Pn,Wn){const Zn=new O.x,pr=(0,X.of)(void 0).pipe((0,it.Q)(nt.outsideAngular),(0,fe.w)(()=>Qt.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,7092)))),(0,ht.U)(()=>(0,Ut.on)(Zt,Qt,Ct)),(0,ht.U)(lr=>tt(lr,Qt,et,Be,Dt,Ht,we,Pn)),pe({bufferSize:1,refCount:!1}));if((0,oe.PM)(yn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,X.of)(null);else{pr.pipe((0,Mt.P)()).subscribe();const sr=pr.pipe((0,fe.w)(gn=>gn.getRedirectResult().then(Mn=>Mn,()=>null)),Vt.iC,pe({bufferSize:1,refCount:!1})),Xn=pr.pipe((0,fe.w)(gn=>new Te.y(Mn=>({unsubscribe:Qt.runOutsideAngular(()=>gn.onAuthStateChanged(wn=>Mn.next(wn),wn=>Mn.error(wn),()=>Mn.complete()))})))),sn=pr.pipe((0,fe.w)(gn=>new Te.y(Mn=>({unsubscribe:Qt.runOutsideAngular(()=>gn.onIdTokenChanged(wn=>Mn.next(wn),wn=>Mn.error(wn),()=>Mn.complete()))}))));this.authState=sr.pipe(St(Xn),(0,Ze.R)(nt.outsideAngular),(0,it.Q)(nt.insideAngular)),this.user=sr.pipe(St(sn),(0,Ze.R)(nt.outsideAngular),(0,it.Q)(nt.insideAngular)),this.idToken=this.user.pipe((0,fe.w)(gn=>gn?(0,De.D)(gn.getIdToken()):(0,X.of)(null))),this.idTokenResult=this.user.pipe((0,fe.w)(gn=>gn?(0,De.D)(gn.getIdTokenResult()):(0,X.of)(null))),this.credential=(0,Ae.T)(sr,Zn,this.authState.pipe((0,dt.h)(gn=>!gn))).pipe((0,ht.U)(gn=>(null==gn?void 0:gn.user)?gn:null),(0,Ze.R)(nt.outsideAngular),(0,it.Q)(nt.insideAngular))}return(0,Ut.pX)(this,pr,Qt,{spy:{apply:(lr,sr,Xn)=>{(lr.startsWith("signIn")||lr.startsWith("createUser"))&&Xn.then(sn=>Zn.next(sn))}}})}}return Nt.\u0275fac=function(Zt){return new(Zt||Nt)(m.LFG(Ut.Dh),m.LFG(Ut.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Vt.HU),m.LFG(ot,8),m.LFG(de,8),m.LFG(Xe,8),m.LFG(se,8),m.LFG(ke,8),m.LFG(_e,8),m.LFG(ve.nm,8))},Nt.\u0275prov=m.Yz7({token:Nt,factory:Nt.\u0275fac,providedIn:"any"}),Nt})(),It=(()=>{class Nt{constructor(){Ke.Z.registerVersion("angularfire",Vt.q4.full,"auth-compat")}}return Nt.\u0275fac=function(Zt){return new(Zt||Nt)},Nt.\u0275mod=m.oAB({type:Nt}),Nt.\u0275inj=m.cJS({providers:[We]}),Nt})()},7566:(jt,ze,U)=>{U.d(ze,{ST:()=>Md,yb:()=>fh});var m=U(5e3),O=U(4986),X=U(8306),Te=U(8996),De=U(9646),Ae=U(5813),Ue=U(4482),Oe=U(5403);function je(){return(0,Ue.e)((i,e)=>{let t,o=!1;i.subscribe((0,Oe.x)(e,u=>{const h=t;t=u,o&&e.next([h,u]),o=!0}))})}var pe=U(4671);function Ve(i,e){return i===e}var se,St=U(8675),it=U(4004),ht=U(5026),Mt=U(9300),Ze=U(2011),dt=U(9808),Ut=(U(7092),U(3942)),oe=U(5861),ve=U(9681),Ke=U(4859),Ge=U(1877),ot=U(2090),de="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Xe={},ke=ke||{},_e=de||self;function tt(){}function We(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function It(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Ot="closure_uid_"+(1e9*Math.random()>>>0),Zt=0;function Ct(i,e,t){return i.call.apply(i.bind,arguments)}function yn(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Qt(i,e,t){return(Qt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ct:yn).apply(null,arguments)}function nt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function et(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,u,h){for(var v=Array(arguments.length-2),A=2;A<arguments.length;A++)v[A-2]=arguments[A];return e.prototype[u].apply(o,v)}}function we(){this.s=this.s,this.o=this.o}var Dt={};we.prototype.s=!1,we.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Nt(i){return Object.prototype.hasOwnProperty.call(i,Ot)&&i[Ot]||(i[Ot]=++Zt)}(this);delete Dt[i]}},we.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ht=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},Pn=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const o=i.length,u="string"==typeof i?i.split(""):i;for(let h=0;h<o;h++)h in u&&e.call(t,u[h],h,i)};function Zn(i){return Array.prototype.concat.apply([],arguments)}function pr(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function lr(i){return/^[\s\xa0]*$/.test(i)}var gn,sr=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Xn(i,e){return-1!=i.indexOf(e)}function sn(i,e){return i<e?-1:i>e?1:0}e:{var Mn=_e.navigator;if(Mn){var wn=Mn.userAgent;if(wn){gn=wn;break e}}gn=""}function _i(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function ui(i){const e={};for(const t in i)e[t]=i[t];return e}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function be(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let h=0;h<gt.length;h++)t=gt[h],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function Se(i){return Se[" "](i),i}Se[" "]=tt;var br,i,He=Xn(gn,"Opera"),_t=Xn(gn,"Trident")||Xn(gn,"MSIE"),kt=Xn(gn,"Edge"),pn=kt||_t,_n=Xn(gn,"Gecko")&&!(Xn(gn.toLowerCase(),"webkit")&&!Xn(gn,"Edge"))&&!(Xn(gn,"Trident")||Xn(gn,"MSIE"))&&!Xn(gn,"Edge"),bn=Xn(gn.toLowerCase(),"webkit")&&!Xn(gn,"Edge");function Yr(){var i=_e.document;return i?i.documentMode:void 0}e:{var Yn="",ue=(i=gn,_n?/rv:([^\);]+)(\)|;)/.exec(i):kt?/Edge\/([\d\.]+)/.exec(i):_t?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):bn?/WebKit\/(\S+)/.exec(i):He?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(ue&&(Yn=ue?ue[1]:""),_t){var ge=Yr();if(null!=ge&&ge>parseFloat(Yn)){br=String(ge);break e}}br=Yn}var Ce={};var wt=_e.document&&_t&&(Yr()||parseInt(br,10))||void 0,Bt=function(){if(!_e.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{_e.addEventListener("test",tt,e),_e.removeEventListener("test",tt,e)}catch(t){}return i}();function Wt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function ln(i,e){if(Wt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(_n){e:{try{Se(e.nodeName);var u=!0;break e}catch(h){}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:vr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&ln.Z.h.call(this)}}Wt.prototype.h=function(){this.defaultPrevented=!0},et(ln,Wt);var vr={2:"touch",3:"pen",4:"mouse"};ln.prototype.h=function(){ln.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var dn="closure_listenable_"+(1e6*Math.random()|0),Rr=0;function qr(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ia=u,this.key=++Rr,this.ca=this.fa=!1}function Fi(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function qe(i){this.src=i,this.g={},this.h=0}function Me(i,e){var t=e.type;if(t in i.g){var h,o=i.g[t],u=Ht(o,e);(h=0<=u)&&Array.prototype.splice.call(o,u,1),h&&(Fi(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function ie(i,e,t,o){for(var u=0;u<i.length;++u){var h=i[u];if(!h.ca&&h.listener==e&&h.capture==!!t&&h.ia==o)return u}return-1}qe.prototype.add=function(i,e,t,o,u){var h=i.toString();(i=this.g[h])||(i=this.g[h]=[],this.h++);var v=ie(i,e,o,u);return-1<v?(e=i[v],t||(e.fa=!1)):((e=new qr(e,this.src,h,!!o,u)).fa=t,i.push(e)),e};var Le="closure_lm_"+(1e6*Math.random()|0),ft={};function tn(i,e,t,o,u){if(o&&o.once)return Qr(i,e,t,o,u);if(Array.isArray(e)){for(var h=0;h<e.length;h++)tn(i,e[h],t,o,u);return null}return t=$t(t),i&&i[dn]?i.N(e,t,It(o)?!!o.capture:!!o,u):mn(i,e,t,!1,o,u)}function mn(i,e,t,o,u,h){if(!e)throw Error("Invalid event type");var v=It(u)?!!u.capture:!!u,A=Vi(i);if(A||(i[Le]=A=new qe(i)),(t=A.add(e,t,o,v,h)).proxy)return t;if(o=function gr(){var e=Gr;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)Bt||(u=v),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(li(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function Qr(i,e,t,o,u){if(Array.isArray(e)){for(var h=0;h<e.length;h++)Qr(i,e[h],t,o,u);return null}return t=$t(t),i&&i[dn]?i.O(e,t,It(o)?!!o.capture:!!o,u):mn(i,e,t,!0,o,u)}function Li(i,e,t,o,u){if(Array.isArray(e))for(var h=0;h<e.length;h++)Li(i,e[h],t,o,u);else o=It(o)?!!o.capture:!!o,t=$t(t),i&&i[dn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=ie(h=i.g[e],t,o,u))&&(Fi(h[t]),Array.prototype.splice.call(h,t,1),0==h.length&&(delete i.g[e],i.h--))):i&&(i=Vi(i))&&(e=i.g[e.toString()],i=-1,e&&(i=ie(e,t,o,u)),(t=-1<i?e[i]:null)&&vi(t))}function vi(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[dn])Me(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(li(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Vi(e))?(Me(t,i),0==t.h&&(t.src=null,e[Le]=null)):Fi(i)}}}function li(i){return i in ft?ft[i]:ft[i]="on"+i}function Gr(i,e){if(i.ca)i=!0;else{e=new ln(e,this);var t=i.listener,o=i.ia||i.src;i.fa&&vi(i),i=t.call(o,e)}return i}function Vi(i){return(i=i[Le])instanceof qe?i:null}var Ir="__closure_events_fn_"+(1e9*Math.random()>>>0);function $t(i){return"function"==typeof i?i:(i[Ir]||(i[Ir]=function(e){return i.handleEvent(e)}),i[Ir])}function Gt(){we.call(this),this.i=new qe(this),this.P=this,this.I=null}function Tn(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Wt(e,i);else if(e instanceof Wt)e.target=e.target||i;else{var u=e;be(e=new Wt(o,i),u)}if(u=!0,t)for(var h=t.length-1;0<=h;h--){var v=e.g=t[h];u=xr(v,o,!0,e)&&u}if(u=xr(v=e.g=i,o,!0,e)&&u,u=xr(v,o,!1,e)&&u,t)for(h=0;h<t.length;h++)u=xr(v=e.g=t[h],o,!1,e)&&u}function xr(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,h=0;h<e.length;++h){var v=e[h];if(v&&!v.ca&&v.capture==t){var A=v.listener,G=v.ia||v.src;v.fa&&Me(i.i,v),u=!1!==A.call(G,o)&&u}}return u&&!o.defaultPrevented}et(Gt,we),Gt.prototype[dn]=!0,Gt.prototype.removeEventListener=function(i,e,t,o){Li(this,i,e,t,o)},Gt.prototype.M=function(){if(Gt.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)Fi(t[o]);delete i.g[e],i.h--}}this.I=null},Gt.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},Gt.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Ri=_e.JSON.stringify;function Qn(){var i=Ci;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var xi,cr=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new ci,i=>i.reset());class ci{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function kr(i){_e.setTimeout(()=>{throw i},0)}function Nn(i,e){xi||function Ms(){var i=_e.Promise.resolve(void 0);xi=function(){i.then(Ur)}}(),os||(xi(),os=!0),Ci.add(i,e)}var os=!1,Ci=new class Ei{constructor(){this.h=this.g=null}add(e,t){const o=cr.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function Ur(){for(var i;i=Qn();){try{i.h.call(i.g)}catch(t){kr(t)}var e=cr;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}os=!1}function Br(i,e){Gt.call(this),this.h=i||1,this.g=e||_e,this.j=Qt(this.kb,this),this.l=Date.now()}function Wr(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function nr(i,e,t){if("function"==typeof i)t&&(i=Qt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Qt(i.handleEvent,i)}return 2147483647<Number(e)?-1:_e.setTimeout(i,e||0)}function Kn(i){i.g=nr(()=>{i.g=null,i.i&&(i.i=!1,Kn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}et(Br,Gt),(se=Br.prototype).da=!1,se.S=null,se.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Tn(this,"tick"),this.da&&(Wr(this),this.start()))}},se.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},se.M=function(){Br.Z.M.call(this),Wr(this),delete this.g};class ys extends we{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Kn(this)}M(){super.M(),this.g&&(_e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ni(i){we.call(this),this.h=i,this.g={}}et(ni,we);var ri=[];function di(i,e,t,o){Array.isArray(t)||(t&&(ri[0]=t.toString()),t=ri);for(var u=0;u<t.length;u++){var h=tn(e,t[u],o||i.handleEvent,!1,i.h||i);if(!h)break;i.g[h.key]=h}}function $i(i){_i(i.g,function(e,t){this.g.hasOwnProperty(t)&&vi(e)},i),i.g={}}function Gs(){this.g=!0}function ls(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function oa(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var h=u[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var v=1;v<u.length;v++)u[v]=""}}}return Ri(t)}catch(A){return e}}(i,t)+(o?" "+o:"")})}ni.prototype.M=function(){ni.Z.M.call(this),$i(this)},ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gs.prototype.Aa=function(){this.g=!1},Gs.prototype.info=function(){};var Dr={},Gi=null;function zs(){return Gi=Gi||new Gt}function Ne(i){Wt.call(this,Dr.Ma,i)}function Ie(i){const e=zs();Tn(e,new Ne(e,i))}function Je(i,e){Wt.call(this,Dr.STAT_EVENT,i),this.stat=e}function mt(i){const e=zs();Tn(e,new Je(e,i))}function Lt(i,e){Wt.call(this,Dr.Na,i),this.size=e}function Jt(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return _e.setTimeout(function(){i()},e)}Dr.Ma="serverreachability",et(Ne,Wt),Dr.STAT_EVENT="statevent",et(Je,Wt),Dr.Na="timingevent",et(Lt,Wt);var mr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Jn={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function tr(){}function vs(){}tr.prototype.h=null;var hi,Jr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function bo(){Wt.call(this,"d")}function Rs(){Wt.call(this,"c")}function to(){}function no(i,e,t,o){this.l=i,this.j=e,this.m=t,this.X=o||1,this.V=new ni(this),this.P=qs,this.W=new Br(i=pn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ii}function ii(){this.i=null,this.g="",this.h=!1}et(bo,Wt),et(Rs,Wt),et(to,tr),to.prototype.g=function(){return new XMLHttpRequest},to.prototype.i=function(){return{}},hi=new to;var qs=45e3,zi={},wi={};function Io(i,e,t){i.K=1,i.v=on(W(e)),i.s=t,i.U=!0,xs(i,null)}function xs(i,e){i.F=Date.now(),fi(i),i.A=W(i.v);var t=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),V(t.h,"t",o),i.C=0,t=i.l.H,i.h=new ii,i.g=Da(i.l,t?e:null,!i.s),0<i.O&&(i.L=new ys(Qt(i.Ia,i,i.g),i.O)),di(i.V,i.g,"readystatechange",i.gb),e=i.H?ui(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Ie(1),function as(i,e,t,o,u,h){i.info(function(){if(i.g)if(h)for(var v="",A=h.split("&"),G=0;G<A.length;G++){var K=A[G].split("=");if(1<K.length){var ce=K[0];K=K[1];var xe=ce.split("_");v=2<=xe.length&&"type"==xe[1]?v+(ce+"=")+K+"&":v+(ce+"=redacted&")}}else v=null;else v=h;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+v})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Bo(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Di(i,e,t){let u,o=!0;for(;!i.I&&i.C<t.length;){if(u=ro(i,t),u==wi){4==e&&(i.o=4,mt(14),o=!1),ls(i.j,i.m,null,"[Incomplete Response]");break}if(u==zi){i.o=4,mt(15),ls(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}ls(i.j,i.m,u,null),To(i,u)}Bo(i)&&u!=wi&&u!=zi&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,mt(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),yr(e),e.L=!0,mt(11))):(ls(i.j,i.m,t,"[Invalid Chunked Response]"),Fr(i),qi(i))}function ro(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?wi:(t=Number(e.substring(t,o)),isNaN(t)?zi:(o+=1)+t>e.length?wi:(e=e.substr(o,t),i.C=o+t,e))}function fi(i){i.Y=Date.now()+i.P,Mo(i,i.P)}function Mo(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Jt(Qt(i.eb,i),e)}function si(i){i.B&&(_e.clearTimeout(i.B),i.B=null)}function qi(i){0==i.l.G||i.I||uo(i.l,i)}function Fr(i){si(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Wr(i.W),$i(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function To(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Bi(t.i,i)))if(t.I=i.N,!i.J&&Bi(t.i,i)&&3==t.G){try{var o=t.Ca.g.parse(e)}catch(K){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(t.u)t.ta=u[1],0<t.ta-t.U&&37500>u[2]&&t.N&&0==t.A&&!t.v&&(t.v=Jt(Qt(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;Ua(t),ai(t)}Po(t),mt(18)}if(1>=rr(t.i)&&t.ka){try{t.ka()}catch(K){}t.ka=void 0}}else fs(t,11)}else if((i.J||t.g==i)&&Ua(t),!lr(e))for(u=t.Ca.g.parse(e),e=0;e<u.length;e++){let K=u[e];if(t.U=K[0],K=K[1],2==t.G)if("c"==K[0]){t.J=K[1],t.la=K[2];const ce=K[3];null!=ce&&(t.ma=ce,t.h.info("VER="+t.ma));const xe=K[4];null!=xe&&(t.za=xe,t.h.info("SVER="+t.za));const lt=K[5];null!=lt&&"number"==typeof lt&&0<lt&&(t.K=o=1.5*lt,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;const Rt=i.g;if(Rt){const Pt=Rt.g?Rt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pt){var h=o.i;!h.g&&(Xn(Pt,"spdy")||Xn(Pt,"quic")||Xn(Pt,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Es(h,h.h),h.h=null))}if(o.D){const fn=Rt.g?Rt.g.getResponseHeader("X-HTTP-Session-Id"):null;fn&&(o.sa=fn,ct(o.F,o.D,fn))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var v=i;if((o=t).oa=co(o,o.H?o.la:null,o.W),v.J){ji(o.i,v);var A=v,G=o.K;G&&A.setTimeout(G),A.B&&(si(A),fi(A)),o.g=v}else ao(o);0<t.l.length&&Vu(t)}else"stop"!=K[0]&&"close"!=K[0]||fs(t,7);else 3==t.G&&("stop"==K[0]||"close"==K[0]?"stop"==K[0]?fs(t,7):ha(t):"noop"!=K[0]&&t.j&&t.j.wa(K),t.A=0)}Ie(4)}catch(K){}}function so(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(We(i)||"string"==typeof i)Pn(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(We(i)||"string"==typeof i){t=[];for(var o=i.length,u=0;u<o;u++)t.push(u)}else for(u in t=[],o=0,i)t[o++]=u;o=function io(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(We(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length;for(var h=0;h<u;h++)e.call(void 0,o[h],t&&t[h],i)}}function Wi(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof Wi)for(t=i.T(),o=0;o<t.length;o++)this.set(t[o],i.get(t[o]));else for(o in i)this.set(o,i[o])}function cs(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var o=i.g[e];bi(i.h,o)&&(i.g[t++]=o),e++}i.g.length=t}if(i.i!=i.g.length){var u={};for(t=e=0;e<i.g.length;)bi(u,o=i.g[e])||(i.g[t++]=o,u[o]=1),e++;i.g.length=t}}function bi(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(se=no.prototype).setTimeout=function(i){this.P=i},se.gb=function(i){i=i.target;const e=this.L;e&&3==oo(i)?e.l():this.Ia(i)},se.Ia=function(i){try{if(i==this.g)e:{const ce=oo(this.g);var e=this.g.Da();const xe=this.g.ba();if(!(3>ce)&&(3!=ce||pn||this.g&&(this.h.h||this.g.ga()||Za(this.g)))){this.I||4!=ce||7==e||Ie(8==e||0>=xe?3:2),si(this);var t=this.g.ba();this.N=t;t:if(Bo(this)){var o=Za(this.g);i="";var u=o.length,h=4==oo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Fr(this),qi(this);var v="";break t}this.h.i=new _e.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:h&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,v=this.h.g}else v=this.g.ga();if(this.i=200==t,function us(i,e,t,o,u,h,v){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+h+" "+v})}(this.j,this.u,this.A,this.m,this.X,ce,t),this.i){if(this.$&&!this.J){t:{if(this.g){var A,G=this.g;if((A=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lr(A)){var K=A;break t}}K=null}if(!(t=K)){this.i=!1,this.o=3,mt(12),Fr(this),qi(this);break e}ls(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,To(this,t)}this.U?(Di(this,ce,v),pn&&this.i&&3==ce&&(di(this.V,this.W,"tick",this.fb),this.W.start())):(ls(this.j,this.m,v,null),To(this,v)),4==ce&&Fr(this),this.i&&!this.I&&(4==ce?uo(this.l,this):(this.i=!1,fi(this)))}else 400==t&&0<v.indexOf("Unknown SID")?(this.o=3,mt(12)):(this.o=0,mt(13)),Fr(this),qi(this)}}}catch(ce){}},se.fb=function(){if(this.g){var i=oo(this.g),e=this.g.ga();this.C<e.length&&(si(this),Di(this,i,e),this.i&&4!=i&&fi(this))}},se.cancel=function(){this.I=!0,Fr(this)},se.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Uo(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ie(3),mt(17)),Fr(this),this.o=2,qi(this)):Mo(this,this.Y-i)},(se=Wi.prototype).R=function(){cs(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},se.T=function(){return cs(this),this.g.concat()},se.get=function(i,e){return bi(this.h,i)?this.h[i]:e},se.set=function(i,e){bi(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},se.forEach=function(i,e){for(var t=this.T(),o=0;o<t.length;o++){var u=t[o],h=this.get(u);i.call(e,h,u,this)}};var jo=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function F(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof F){this.g=void 0!==e?e:i.g,k(this,i.j),this.s=i.s,J(this,i.i),Ee(this,i.m),this.l=i.l,e=i.h;var t=new Oi;t.i=e.i,e.g&&(t.g=new Wi(e.g),t.h=e.h),at(this,t),this.o=i.o}else i&&(t=String(i).match(jo))?(this.g=!!e,k(this,t[1]||"",!0),this.s=kn(t[2]||""),J(this,t[3]||"",!0),Ee(this,t[4]),this.l=kn(t[5]||"",!0),at(this,t[6]||"",!0),this.o=kn(t[7]||"")):(this.g=!!e,this.h=new Oi(null,this.g))}function W(i){return new F(i)}function k(i,e,t){i.j=t?kn(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function J(i,e,t){i.i=t?kn(e,!0):e}function Ee(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function at(i,e,t){e instanceof Oi?(i.h=e,function R(i,e){e&&!i.j&&(Os(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(Co(this,o),V(this,u,t))},i)),i.j=e}(i.h,i.g)):(t||(e=qn(e,Ui)),i.h=new Oi(e,i.g))}function ct(i,e,t){i.h.set(e,t)}function on(i){return ct(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function kn(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function qn(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,jr),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function jr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}F.prototype.toString=function(){var i=[],e=this.j;e&&i.push(qn(e,Er,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(qn(e,Er,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(qn(t,"/"==t.charAt(0)?Ki:Lr,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",qn(t,An)),i.join("")};var Er=/[#\/\?@]/g,Lr=/[#\?:]/g,Ki=/[#\?]/g,Ui=/[#\?@]/g,An=/#/g;function Oi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Os(i){i.g||(i.g=new Wi,i.h=0,i.i&&function Mr(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var h=i[t].substring(0,o);u=i[t].substring(o+1)}else h=i[t];e(h,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Co(i,e){Os(i),e=N(i,e),bi(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,bi((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&cs(i)))}function aa(i,e){return Os(i),e=N(i,e),bi(i.g.h,e)}function V(i,e,t){Co(i,e),0<t.length&&(i.i=null,i.g.set(N(i,e),pr(t)),i.h+=t.length)}function N(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function me(i){this.l=i||Tt,i=_e.PerformanceNavigationTiming?0<(i=_e.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(_e.g&&_e.g.Ea&&_e.g.Ea()&&_e.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(se=Oi.prototype).add=function(i,e){Os(this),this.i=null,i=N(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},se.forEach=function(i,e){Os(this),this.g.forEach(function(t,o){Pn(t,function(u){i.call(e,u,o,this)},this)},this)},se.T=function(){Os(this);for(var i=this.g.R(),e=this.g.T(),t=[],o=0;o<e.length;o++)for(var u=i[o],h=0;h<u.length;h++)t.push(e[o]);return t},se.R=function(i){Os(this);var e=[];if("string"==typeof i)aa(this,i)&&(e=Zn(e,this.g.get(N(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=Zn(e,i[t])}return e},se.set=function(i,e){return Os(this),this.i=null,aa(this,i=N(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},se.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},se.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var o=e[t],u=encodeURIComponent(String(o));o=this.R(o);for(var h=0;h<o.length;h++){var v=u;""!==o[h]&&(v+="="+encodeURIComponent(String(o[h]))),i.push(v)}}return this.i=i.join("&")};var Tt=10;function or(i){return!!i.h||!!i.g&&i.g.size>=i.j}function rr(i){return i.h?1:i.g?i.g.size:0}function Bi(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Es(i,e){i.g?i.g.add(e):i.h=e}function ji(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Ws(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return pr(i.i)}function ua(){}function ku(){this.g=new ua}function Fu(i,e,t){const o=t||"";try{so(i,function(u,h){let v=u;It(u)&&(v=Ri(u)),e.push(o+h+"="+encodeURIComponent(v))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Ks(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch(h){}}function pi(i){this.l=i.$b||null,this.j=i.ib||!1}function ws(i,e){Gt.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Ia,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}me.prototype.cancel=function(){if(this.i=Ws(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},ua.prototype.stringify=function(i){return _e.JSON.stringify(i,void 0)},ua.prototype.parse=function(i){return _e.JSON.parse(i,void 0)},et(pi,tr),pi.prototype.g=function(){return new ws(this.l,this.j)},pi.prototype.i=function(i){return function(){return i}}({}),et(ws,Gt);var Ia=0;function Ro(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function ds(i){i.readyState=4,i.l=null,i.j=null,i.A=null,la(i)}function la(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(se=ws.prototype).open=function(i,e){if(this.readyState!=Ia)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,la(this)},se.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||_e).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},se.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ds(this)),this.readyState=Ia},se.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,la(this)),this.g&&(this.readyState=3,la(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==_e.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ro(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},se.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?ds(this):la(this),3==this.readyState&&Ro(this)}},se.Ua=function(i){this.g&&(this.response=this.responseText=i,ds(this))},se.Ta=function(i){this.g&&(this.response=i,ds(this))},se.ha=function(){this.g&&ds(this)},se.setRequestHeader=function(i,e){this.v.append(i,e)},se.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},se.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(ws.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var yu=_e.JSON.parse;function oi(i){Gt.call(this),this.headers=new Wi,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ka,this.K=this.L=!1}et(oi,Gt);var Ka="",Fa=/^https?$/i,Ar=["POST","PUT"];function ca(i){return"content-type"==i.toLowerCase()}function Ta(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Ca(i),La(i)}function Ca(i){i.D||(i.D=!0,Tn(i,"complete"),Tn(i,"error"))}function xo(i){if(i.h&&void 0!==ke&&(!i.C[1]||4!=oo(i)||2!=i.ba()))if(i.v&&4==oo(i))nr(i.Fa,0,i);else if(Tn(i,"readystatechange"),4==oo(i)){i.h=!1;try{const A=i.ba();e:switch(A){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===A){var u=String(i.H).match(jo)[1]||null;if(!u&&_e.self&&_e.self.location){var h=_e.self.location.protocol;u=h.substr(0,h.length-1)}o=!Fa.test(u?u.toLowerCase():"")}t=o}if(t)Tn(i,"complete"),Tn(i,"success");else{i.m=6;try{var v=2<oo(i)?i.g.statusText:""}catch(G){v=""}i.j=v+" ["+i.ba()+"]",Ca(i)}}finally{La(i)}}}function La(i,e){if(i.g){Ho(i);const t=i.g,o=i.C[0]?tt:null;i.g=null,i.C=null,e||Tn(i,"ready");try{t.onreadystatechange=o}catch(u){}}}function Ho(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(_e.clearTimeout(i.A),i.A=null)}function oo(i){return i.g?i.g.readyState:0}function Za(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Ka:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function _u(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function da(i){let e="";return _i(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):ct(i,e,t))}function Oo(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function hs(i){this.za=0,this.l=[],this.h=new Gs,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Oo("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Oo("baseRetryDelayMs",5e3,i),this.$a=Oo("retryDelaySeedMs",1e4,i),this.Ya=Oo("forwardChannelMaxRetries",2,i),this.ra=Oo("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new me(i&&i.concurrentRequestLimit),this.Ca=new ku,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function ha(i){if(Va(i),3==i.G){var e=i.V++,t=W(i.F);ct(t,"SID",i.J),ct(t,"RID",e),ct(t,"TYPE","terminate"),Ya(i,t),(e=new no(i,i.h,e,void 0)).K=2,e.v=on(W(t)),t=!1,_e.navigator&&_e.navigator.sendBeacon&&(t=_e.navigator.sendBeacon(e.v.toString(),"")),!t&&_e.Image&&((new Image).src=e.v,t=!0),t||(e.g=Da(e.l,null),e.g.ea(e.v)),e.F=Date.now(),fi(e)}Uu(i)}function ai(i){i.g&&(yr(i),i.g.cancel(),i.g=null)}function Va(i){ai(i),i.u&&(_e.clearTimeout(i.u),i.u=null),Ua(i),i.i.cancel(),i.m&&("number"==typeof i.m&&_e.clearTimeout(i.m),i.m=null)}function Lu(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Vu(i)}function Vu(i){or(i.i)||i.m||(i.m=!0,Nn(i.Ha,i),i.C=0)}function gl(i,e){var t;t=e?e.m:i.V++;const o=W(i.F);ct(o,"SID",i.J),ct(o,"RID",t),ct(o,"AID",i.U),Ya(i,o),i.o&&i.s&&_u(o,i.o,i.s),t=new no(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=$o(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Es(i.i,t),Io(t,o,e)}function Ya(i,e){i.j&&so({},function(t,o){ct(e,o,t)})}function $o(i,e,t){t=Math.min(i.l.length,t);var o=i.j?Qt(i.j.Oa,i.j,i):null;e:{var u=i.l;let h=-1;for(;;){const v=["count="+t];-1==h?0<t?(h=u[0].h,v.push("ofs="+h)):h=0:v.push("ofs="+h);let A=!0;for(let G=0;G<t;G++){let K=u[G].h;const ce=u[G].g;if(K-=h,0>K)h=Math.max(0,u[G].h-100),A=!1;else try{Fu(ce,v,"req"+K+"_")}catch(xe){o&&o(ce)}}if(A){o=v.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,o}function ao(i){i.g||i.u||(i.Y=1,Nn(i.Ga,i),i.A=0)}function Po(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Jt(Qt(i.Ga,i),lo(i,i.A)),i.A++,0))}function yr(i){null!=i.B&&(_e.clearTimeout(i.B),i.B=null)}function Qa(i){i.g=new no(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=W(i.oa);ct(e,"RID","rpc"),ct(e,"SID",i.J),ct(e,"CI",i.N?"0":"1"),ct(e,"AID",i.U),Ya(i,e),ct(e,"TYPE","xmlhttp"),i.o&&i.s&&_u(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=on(W(e)),t.s=null,t.U=!0,xs(t,i)}function Ua(i){null!=i.v&&(_e.clearTimeout(i.v),i.v=null)}function uo(i,e){var t=null;if(i.g==e){Ua(i),yr(i),i.g=null;var o=2}else{if(!Bi(i.i,e))return;t=e.D,ji(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;Tn(o=zs(),new Lt(o,t,e,u)),Vu(i)}else ao(i);else if(3==(u=e.o)||0==u&&0<i.I||!(1==o&&function vu(i,e){return!(rr(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Jt(Qt(i.Ha,i,e),lo(i,i.C)),i.C++,0)))}(i,e)||2==o&&Po(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),u){case 1:fs(i,5);break;case 4:fs(i,10);break;case 3:fs(i,6);break;default:fs(i,2)}}function lo(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function fs(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var o=Qt(i.jb,i);t||(t=new F("//www.google.com/images/cleardot.gif"),_e.location&&"http"==_e.location.protocol||k(t,"https"),on(t)),function Ol(i,e){const t=new Gs;if(_e.Image){const o=new Image;o.onload=nt(Ks,t,o,"TestLoadImage: loaded",!0,e),o.onerror=nt(Ks,t,o,"TestLoadImage: error",!1,e),o.onabort=nt(Ks,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=nt(Ks,t,o,"TestLoadImage: timeout",!1,e),_e.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else mt(2);i.G=0,i.j&&i.j.va(e),Uu(i),Va(i)}function Uu(i){i.G=0,i.I=-1,i.j&&((0!=Ws(i.i).length||0!=i.l.length)&&(i.i.i.length=0,pr(i.l),i.l.length=0),i.j.ua())}function co(i,e,t){let o=function Vn(i){return i instanceof F?W(i):new F(i,void 0)}(t);if(""!=o.i)e&&J(o,e+"."+o.i),Ee(o,o.m);else{const u=_e.location;o=function dr(i,e,t,o){var u=new F(null,void 0);return i&&k(u,i),e&&J(u,e),t&&Ee(u,t),o&&(u.l=o),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,t)}return i.aa&&_i(i.aa,function(u,h){ct(o,h,u)}),t=i.sa,(e=i.D)&&t&&ct(o,e,t),ct(o,"VER",i.ma),Ya(i,o),o}function Da(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new oi(t&&i.Ba&&!i.qa?new pi({ib:!0}):i.qa)).L=i.H,e}function Bu(){}function Ba(){if(_t&&!(10<=Number(wt)))throw Error("Environmental error: no available transport.")}function Fs(i,e){Gt.call(this),this.g=new hs(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!lr(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!lr(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Zs(this)}function Ls(i){bo.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function fa(){Rs.call(this),this.status=1}function Zs(i){this.g=i}(se=oi.prototype).ea=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hi.g(),this.C=function _s(i){return i.h||(i.h=i.i())}(this.u?this.u:hi),this.g.onreadystatechange=Qt(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(h){return void Ta(this,h)}i=t||"";const u=new Wi(this.headers);o&&so(o,function(h,v){u.set(v,h)}),o=function Wn(i){e:{var e=ca;const t=i.length,o="string"==typeof i?i.split(""):i;for(let u=0;u<t;u++)if(u in o&&e.call(void 0,o[u],u,i)){e=u;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(u.T()),t=_e.FormData&&i instanceof _e.FormData,!(0<=Ht(Ar,e))||o||t||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(h,v){this.g.setRequestHeader(v,h)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ho(this),0<this.B&&((this.K=function ir(i){return _t&&function yt(){return function Et(i){var e=Ce;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=sr(String(br)).split("."),t=sr("9").split("."),o=Math.max(e.length,t.length);for(let v=0;0==i&&v<o;v++){var u=e[v]||"",h=t[v]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==u[0].length&&0==h[0].length)break;i=sn(0==u[1].length?0:parseInt(u[1],10),0==h[1].length?0:parseInt(h[1],10))||sn(0==u[2].length,0==h[2].length)||sn(u[2],h[2]),u=u[3],h=h[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qt(this.pa,this)):this.A=nr(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(h){Ta(this,h)}},se.pa=function(){void 0!==ke&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tn(this,"timeout"),this.abort(8))},se.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Tn(this,"complete"),Tn(this,"abort"),La(this))},se.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),La(this,!0)),oi.Z.M.call(this)},se.Fa=function(){this.s||(this.F||this.v||this.l?xo(this):this.cb())},se.cb=function(){xo(this)},se.ba=function(){try{return 2<oo(this)?this.g.status:-1}catch(i){return-1}},se.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},se.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),yu(e)}},se.Da=function(){return this.m},se.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(se=hs.prototype).ma=8,se.G=1,se.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},se.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const u=new no(this,this.h,i,void 0);let h=this.s;if(this.P&&(h?(h=ui(h),be(h,this.P)):h=this.P),null===this.o&&(u.H=h),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var o=this.l[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=$o(this,u,e),ct(t=W(this.F),"RID",i),ct(t,"CVER",22),this.D&&ct(t,"X-HTTP-Session-Id",this.D),Ya(this,t),this.o&&h&&_u(t,this.o,h),Es(this.i,u),this.Ra&&ct(t,"TYPE","init"),this.ja?(ct(t,"$req",e),ct(t,"SID","null"),u.$=!0,Io(u,t,null)):Io(u,t,e),this.G=2}}else 3==this.G&&(i?gl(this,i):0==this.l.length||or(this.i)||gl(this))},se.Ga=function(){if(this.u=null,Qa(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Jt(Qt(this.bb,this),i)}},se.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,mt(10),ai(this),Qa(this))},se.ab=function(){null!=this.v&&(this.v=null,ai(this),Po(this),mt(19))},se.jb=function(i){i?(this.h.info("Successfully pinged google.com"),mt(2)):(this.h.info("Failed to ping google.com"),mt(1))},(se=Bu.prototype).xa=function(){},se.wa=function(){},se.va=function(){},se.ua=function(){},se.Oa=function(){},Ba.prototype.g=function(i,e){return new Fs(i,e)},et(Fs,Gt),Fs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Nn(Qt(i.hb,i,e))),mt(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=co(i,null,i.W),Vu(i)},Fs.prototype.close=function(){ha(this.g)},Fs.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,Lu(this.g,e)}else this.v?((e={}).__data__=Ri(i),Lu(this.g,e)):Lu(this.g,i)},Fs.prototype.M=function(){this.g.j=null,delete this.j,ha(this.g),delete this.g,Fs.Z.M.call(this)},et(Ls,bo),et(fa,Rs),et(Zs,Bu),Zs.prototype.xa=function(){Tn(this.g,"a")},Zs.prototype.wa=function(i){Tn(this.g,new Ls(i))},Zs.prototype.va=function(i){Tn(this.g,new fa(i))},Zs.prototype.ua=function(){Tn(this.g,"b")},Ba.prototype.createWebChannel=Ba.prototype.g,Fs.prototype.send=Fs.prototype.u,Fs.prototype.open=Fs.prototype.m,Fs.prototype.close=Fs.prototype.close,mr.NO_ERROR=0,mr.TIMEOUT=8,mr.HTTP_ERROR=6,Jn.COMPLETE="complete",vs.EventType=Jr,Jr.OPEN="a",Jr.CLOSE="b",Jr.ERROR="c",Jr.MESSAGE="d",Gt.prototype.listen=Gt.prototype.N,oi.prototype.listenOnce=oi.prototype.O,oi.prototype.getLastError=oi.prototype.La,oi.prototype.getLastErrorCode=oi.prototype.Da,oi.prototype.getStatus=oi.prototype.ba,oi.prototype.getResponseJson=oi.prototype.Qa,oi.prototype.getResponseText=oi.prototype.ga,oi.prototype.send=oi.prototype.ea;var Vs=Xe.createWebChannelTransport=function(){return new Ba},Ys=Xe.getStatEventTarget=function(){return zs()},ja=Xe.ErrorCode=mr,Go=Xe.EventType=Jn,Do=Xe.Event=Dr,gi=Xe.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ai=Xe.FetchXmlHttpFactory=pi,ho=Xe.WebChannel=vs,zo=Xe.XhrIo=oi;const Ja="@firebase/firestore";class Pi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pi.UNAUTHENTICATED=new Pi(null),Pi.GOOGLE_CREDENTIALS=new Pi("google-credentials-uid"),Pi.FIRST_PARTY=new Pi("first-party-uid"),Pi.MOCK_USER=new Pi("mock-user");let fo="9.8.0";const qo=new Ge.Yd("@firebase/firestore");function Ha(){return qo.logLevel}function Ft(i,...e){if(qo.logLevel<=Ge.in.DEBUG){const t=e.map(T);qo.debug(`Firestore (${fo}): ${i}`,...t)}}function zr(i,...e){if(qo.logLevel<=Ge.in.ERROR){const t=e.map(T);qo.error(`Firestore (${fo}): ${i}`,...t)}}function D(i,...e){if(qo.logLevel<=Ge.in.WARN){const t=e.map(T);qo.warn(`Firestore (${fo}): ${i}`,...t)}}function T(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function E(i="Unexpected state"){const e=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: `+i;throw zr(e),new Error(e)}function M(i,e){i||E()}function z(i,e){return i}const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends ot.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class st{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class en{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $n{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pi.UNAUTHENTICATED))}shutdown(){}}class an{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class hr{constructor(e){this.t=e,this.currentUser=Pi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const h=K=>this.i!==u?(u=this.i,t(K)):Promise.resolve();let v=new st;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new st,e.enqueueRetryable(()=>h(this.currentUser))};const A=()=>{const K=v;e.enqueueRetryable((0,oe.Z)(function*(){yield K.promise,yield h(o.currentUser)}))},G=K=>{Ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.auth.addAuthTokenListener(this.o),A()};this.t.onInit(K=>G(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?G(K):(Ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new st)}},0),A()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(M("string"==typeof o.accessToken),new en(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return M(null===e||"string"==typeof e),new Pi(e)}}class Tr{constructor(e,t,o){this.type="FirstParty",this.user=Pi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const u=e.auth.getAuthHeaderValueForFirstParty([]);u&&this.headers.set("Authorization",u),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class Ni{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new Tr(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Pi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zi{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class No{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const o=h=>{null!=h.error&&Ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const v=h.token!==this.p;return this.p=h.token,Ft("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?t(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>o(h))};const u=h=>{Ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.g.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.g.getImmediate({optional:!0});h?u(h):Ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(M("string"==typeof t.token),this.p=t.token,new Zi(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Kr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.I(o),this.T=o=>t.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function po(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}Kr.A=-1;class Wo{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=po(40);for(let h=0;h<u.length;++h)o.length<20&&u[h]<t&&(o+=e.charAt(u[h]%e.length))}return o}}function Ln(i,e){return i<e?-1:i>e?1:0}function ga(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}function Aa(i){return i+"\0"}class Or{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new re(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new re(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new re(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Or.fromMillis(Date.now())}static fromDate(e){return Or.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Or(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ln(this.nanoseconds,e.nanoseconds):Ln(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Sn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Sn(e)}static min(){return new Sn(new Or(0,0))}static max(){return new Sn(new Or(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Xr(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Xa(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Pl(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Eu{constructor(e,t,o){void 0===t?t=0:t>e.length&&E(),void 0===o?o=e.length-t:o>e.length-t&&E(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Eu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Eu?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const h=e.get(u),v=t.get(u);if(h<v)return-1;if(h>v)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class fr extends Eu{construct(e,t,o){return new fr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new re(q.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new fr(t)}static emptyPath(){return new fr([])}}const wu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ps extends Eu{construct(e,t,o){return new ps(e,t,o)}static isValidIdentifier(e){return wu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ps.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ps(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const h=()=>{if(0===o.length)throw new re(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let v=!1;for(;u<e.length;){const A=e[u];if("\\"===A){if(u+1===e.length)throw new re(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const G=e[u+1];if("\\"!==G&&"."!==G&&"`"!==G)throw new re(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=G,u+=2}else"`"===A?(v=!v,u++):"."!==A||v?(o+=A,u++):(h(),u++)}if(h(),v)throw new re(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ps(t)}static emptyPath(){return new ps([])}}class $a{constructor(e){this.fields=e,e.sort(ps.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ga(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Hi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Hi(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Hi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ln(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hi.EMPTY_BYTE_STRING=new Hi("");const Yi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mi(i){if(M(!!i),"string"==typeof i){let e=0;const t=Yi.exec(i);if(M(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:ei(i.seconds),nanos:ei(i.nanos)}}function ei(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ko(i){return"string"==typeof i?Hi.fromBase64String(i):Hi.fromUint8Array(i)}function eu(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ps(i){const e=i.mapValue.fields.__previous_value__;return eu(e)?Ps(e):e}function Is(i){const e=mi(i.mapValue.fields.__local_write_time__.timestampValue);return new Or(e.seconds,e.nanos)}class ju{constructor(e,t,o,u,h,v,A,G){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=h,this.forceLongPolling=v,this.autoDetectLongPolling=A,this.useFetchStreams=G}}class go{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new go("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof go&&e.projectId===this.projectId&&e.database===this.database}}function Ao(i){return null==i}function Us(i){return 0===i&&1/i==-1/0}function Ko(i){return"number"==typeof i&&Number.isInteger(i)&&!Us(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class zt{constructor(e){this.path=e}static fromPath(e){return new zt(fr.fromString(e))}static fromName(e){return new zt(fr.fromString(e).popFirst(5))}static empty(){return new zt(fr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zt(new fr(e.slice()))}}const ma={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Sa={nullValue:"NULL_VALUE"};function Zo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?eu(i)?4:Gu(i)?9007199254740991:10:E()}function yi(i,e){if(i===e)return!0;const t=Zo(i);if(t!==Zo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Is(i).isEqual(Is(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=mi(o.timestampValue),v=mi(u.timestampValue);return h.seconds===v.seconds&&h.nanos===v.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,ko(i.bytesValue).isEqual(ko(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return ei(o.geoPointValue.latitude)===ei(u.geoPointValue.latitude)&&ei(o.geoPointValue.longitude)===ei(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ei(o.integerValue)===ei(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=ei(o.doubleValue),v=ei(u.doubleValue);return h===v?Us(h)===Us(v):isNaN(h)&&isNaN(v)}return!1}(i,e);case 9:return ga(i.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:return function(o,u){const h=o.mapValue.fields||{},v=u.mapValue.fields||{};if(Xr(h)!==Xr(v))return!1;for(const A in h)if(h.hasOwnProperty(A)&&(void 0===v[A]||!yi(h[A],v[A])))return!1;return!0}(i,e);default:return E()}var u}function Ma(i,e){return void 0!==(i.values||[]).find(t=>yi(t,e))}function mo(i,e){if(i===e)return 0;const t=Zo(i),o=Zo(e);if(t!==o)return Ln(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ln(i.booleanValue,e.booleanValue);case 2:return function(u,h){const v=ei(u.integerValue||u.doubleValue),A=ei(h.integerValue||h.doubleValue);return v<A?-1:v>A?1:v===A?0:isNaN(v)?isNaN(A)?0:-1:1}(i,e);case 3:return ml(i.timestampValue,e.timestampValue);case 4:return ml(Is(i),Is(e));case 5:return Ln(i.stringValue,e.stringValue);case 6:return function(u,h){const v=ko(u),A=ko(h);return v.compareTo(A)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const v=u.split("/"),A=h.split("/");for(let G=0;G<v.length&&G<A.length;G++){const K=Ln(v[G],A[G]);if(0!==K)return K}return Ln(v.length,A.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const v=Ln(ei(u.latitude),ei(h.latitude));return 0!==v?v:Ln(ei(u.longitude),ei(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,h){const v=u.values||[],A=h.values||[];for(let G=0;G<v.length&&G<A.length;++G){const K=mo(v[G],A[G]);if(K)return K}return Ln(v.length,A.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,h){if(u===ma.mapValue&&h===ma.mapValue)return 0;if(u===ma.mapValue)return 1;if(h===ma.mapValue)return-1;const v=u.fields||{},A=Object.keys(v),G=h.fields||{},K=Object.keys(G);A.sort(),K.sort();for(let ce=0;ce<A.length&&ce<K.length;++ce){const xe=Ln(A[ce],K[ce]);if(0!==xe)return xe;const lt=mo(v[A[ce]],G[K[ce]]);if(0!==lt)return lt}return Ln(A.length,K.length)}(i.mapValue,e.mapValue);default:throw E()}}function ml(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Ln(i,e);const t=mi(i),o=mi(e),u=Ln(t.seconds,o.seconds);return 0!==u?u:Ln(t.nanos,o.nanos)}function Bs(i){return Hu(i)}function Hu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=mi(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ko(i.bytesValue).toBase64():"referenceValue"in i?zt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",h=!0;for(const v of o.values||[])h?h=!1:u+=",",u+=Hu(v);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let h="{",v=!0;for(const A of u)v?v=!1:h+=",",h+=`${A}:${Hu(o.fields[A])}`;return h+"}"}(i.mapValue):E();var e}function ya(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function yl(i){return!!i&&"integerValue"in i}function yo(i){return!!i&&"arrayValue"in i}function $u(i){return!!i&&"nullValue"in i}function So(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Yo(i){return!!i&&"mapValue"in i}function _o(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Xa(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=_o(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_o(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Gu(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function _a(i){return"nullValue"in i?Sa:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?ya(go.empty(),zt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:E()}function Ra(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?ya(go.empty(),zt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?ma:E()}function tu(i,e){const t=mo(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function P(i,e){const t=mo(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class L{constructor(e){this.value=e}static empty(){return new L({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Yo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_o(t)}setAll(e){let t=ps.emptyPath(),o={},u=[];e.forEach((v,A)=>{if(!t.isImmediateParentOf(A)){const G=this.getFieldsMap(t);this.applyChanges(G,o,u),o={},u=[],t=A.popLast()}v?o[A.lastSegment()]=_o(v):u.push(A.lastSegment())});const h=this.getFieldsMap(t);this.applyChanges(h,o,u)}delete(e){const t=this.field(e.popLast());Yo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];Yo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){Xa(t,(u,h)=>e[u]=h);for(const u of o)delete e[u]}clone(){return new L(_o(this.value))}}function Q(i){const e=[];return Xa(i.fields,(t,o)=>{const u=new ps([t]);if(Yo(o)){const h=Q(o.mapValue).fields;if(0===h.length)e.push(u);else for(const v of h)e.push(u.child(v))}else e.push(u)}),new $a(e)}class ae{constructor(e,t,o,u,h,v){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.data=h,this.documentState=v}static newInvalidDocument(e){return new ae(e,0,Sn.min(),Sn.min(),L.empty(),0)}static newFoundDocument(e,t,o){return new ae(e,1,t,Sn.min(),o,0)}static newNoDocument(e,t){return new ae(e,2,t,Sn.min(),L.empty(),0)}static newUnknownDocument(e,t){return new ae(e,3,t,Sn.min(),L.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=L.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=L.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ae&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ae(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $e{constructor(e,t,o,u){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=u}}function rt(i){return i.fields.find(e=>2===e.kind)}function At(i){return i.fields.filter(e=>2!==e.kind)}$e.UNKNOWN_ID=-1;class un{constructor(e,t){this.fieldPath=e,this.kind=t}}class cn{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new cn(0,xn.min())}}function Bn(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Sn.fromTimestamp(1e9===o?new Or(t+1,0):new Or(t,o));return new xn(u,zt.empty(),e)}function Sr(i){return new xn(i.readTime,i.key,-1)}class xn{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new xn(Sn.min(),zt.empty(),-1)}static max(){return new xn(Sn.max(),zt.empty(),-1)}}function gs(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=zt.comparator(i.documentKey,e.documentKey),0!==t?t:Ln(i.largestBatchId,e.largestBatchId))}class ar{constructor(e,t){this.comparator=e,this.root=t||Si.EMPTY}insert(e,t){return new ar(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Si.BLACK,null,null))}remove(e){return new ar(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Si.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xa(this.root,e,this.comparator,!1)}getReverseIterator(){return new xa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xa(this.root,e,this.comparator,!0)}}class xa{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=t?o(e.key,t):1,t&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Si{constructor(e,t,o,u,h){this.key=e,this.value=t,this.color=null!=o?o:Si.RED,this.left=null!=u?u:Si.EMPTY,this.right=null!=h?h:Si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,h){return new Si(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const h=o(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===h?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return Si.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw E();const e=this.left.check();if(e!==this.right.check())throw E();return e+(this.isRed()?0:1)}}Si.EMPTY=null,Si.RED=!0,Si.BLACK=!1,Si.EMPTY=new class{constructor(){this.size=0}get key(){throw E()}get value(){throw E()}get color(){throw E()}get left(){throw E()}get right(){throw E()}copy(i,e,t,o,u){return this}insert(i,e,t){return new Si(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wr{constructor(e){this.comparator=e,this.data=new ar(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vo(this.data.getIterator())}getIteratorFrom(e){return new vo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof wr)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,h=o.getNext().key;if(0!==this.comparator(u,h))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wr(this.comparator);return t.data=e,t}}class vo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function js(i){return i.hasNext()?i.getNext():void 0}class Oa{constructor(e,t=null,o=[],u=[],h=null,v=null,A=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=h,this.startAt=v,this.endAt=A,this.P=null}}function Nl(i,e=null,t=[],o=[],u=null,h=null,v=null){return new Oa(i,e,t,o,u,h,v)}function Ga(i){const e=z(i);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+Bs(u.value);var u}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Ao(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Bs(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Bs(o)).join(",")),e.P=t}return e.P}function nu(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!ru(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((t=i.filters[u]).op!==(o=e.filters[u]).op||!t.field.isEqual(o.field)||!yi(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Ul(i.startAt,e.startAt)&&Ul(i.endAt,e.endAt)}function zu(i){return zt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function qu(i,e){return i.filters.filter(t=>t instanceof Qi&&t.field.isEqual(e))}function dc(i,e,t){let o=Sa,u=!0;for(const h of qu(i,e)){let v=Sa,A=!0;switch(h.op){case"<":case"<=":v=_a(h.value);break;case"==":case"in":case">=":v=h.value;break;case">":v=h.value,A=!1;break;case"!=":case"not-in":v=Sa}tu({value:o,inclusive:u},{value:v,inclusive:A})<0&&(o=v,u=A)}if(null!==t)for(let h=0;h<i.orderBy.length;++h)if(i.orderBy[h].field.isEqual(e)){const v=t.position[h];tu({value:o,inclusive:u},{value:v,inclusive:t.inclusive})<0&&(o=v,u=t.inclusive);break}return{value:o,inclusive:u}}function Iu(i,e,t){let o=ma,u=!0;for(const h of qu(i,e)){let v=ma,A=!0;switch(h.op){case">=":case">":v=Ra(h.value),A=!1;break;case"==":case"in":case"<=":v=h.value;break;case"<":v=h.value,A=!1;break;case"!=":case"not-in":v=ma}P({value:o,inclusive:u},{value:v,inclusive:A})>0&&(o=v,u=A)}if(null!==t)for(let h=0;h<i.orderBy.length;++h)if(i.orderBy[h].field.isEqual(e)){const v=t.position[h];P({value:o,inclusive:u},{value:v,inclusive:t.inclusive})>0&&(o=v,u=t.inclusive);break}return{value:o,inclusive:u}}class Qi extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,o):new Fl(e,t,o):"array-contains"===t?new vh(e,o):"in"===t?new Vl(e,o):"not-in"===t?new Rd(e,o):"array-contains-any"===t?new Vc(e,o):new Qi(e,t,o)}static V(e,t,o){return"in"===t?new _h(e,o):new Ll(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(mo(t,this.value)):null!==t&&Zo(this.value)===Zo(t)&&this.v(mo(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return E()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Fl extends Qi{constructor(e,t,o){super(e,t,o),this.key=zt.fromName(o.referenceValue)}matches(e){const t=zt.comparator(e.key,this.key);return this.v(t)}}class _h extends Qi{constructor(e,t){super(e,"in",t),this.keys=hc(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ll extends Qi{constructor(e,t){super(e,"not-in",t),this.keys=hc(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function hc(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>zt.fromName(o.referenceValue))}class vh extends Qi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yo(t)&&Ma(t.arrayValue,this.value)}}class Vl extends Qi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ma(this.value.arrayValue,t)}}class Rd extends Qi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ma(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ma(this.value.arrayValue,t)}}class Vc extends Qi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yo(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Ma(this.value.arrayValue,o))}}class va{constructor(e,t){this.position=e,this.inclusive=t}}class Ts{constructor(e,t="asc"){this.field=e,this.dir=t}}function ru(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Wu(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const h=e[u],v=i.position[u];if(o=h.field.isKeyField()?zt.comparator(zt.fromName(v.referenceValue),t.key):mo(v,t.data.field(h.field)),"desc"===h.dir&&(o*=-1),0!==o)break}return o}function Ul(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!yi(i.position[t],e.position[t]))return!1;return!0}class iu{constructor(e,t=null,o=[],u=[],h=null,v="F",A=null,G=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=h,this.limitType=v,this.startAt=A,this.endAt=G,this.D=null,this.C=null}}function Tu(i,e,t,o,u,h,v,A){return new iu(i,e,t,o,u,h,v,A)}function Pa(i){return new iu(i)}function Bl(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Cu(i){for(const e of i.filters)if(e.S())return e.field;return null}function za(i){return null!==i.collectionGroup}function su(i){const e=z(i);if(null===e.D){e.D=[];const t=Cu(e),o=Bl(e);if(null!==t&&null===o)t.isKeyField()||e.D.push(new Ts(t)),e.D.push(new Ts(ps.keyField(),"asc"));else{let u=!1;for(const h of e.explicitOrderBy)e.D.push(h),h.field.isKeyField()&&(u=!0);if(!u){const h=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Ts(ps.keyField(),h))}}}return e.D}function Fo(i){const e=z(i);if(!e.C)if("F"===e.limitType)e.C=Nl(e.path,e.collectionGroup,su(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const h of su(e))t.push(new Ts(h.field,"desc"===h.dir?"asc":"desc"));const o=e.endAt?new va(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new va(e.startAt.position,e.startAt.inclusive):null;e.C=Nl(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e.C}function fc(i,e,t){return new iu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Qs(i,e){return nu(Fo(i),Fo(e))&&i.limitType===e.limitType}function Du(i){return`${Ga(Fo(i))}|lt:${i.limitType}`}function Lo(i){return`Query(target=${function kl(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${Bs(o.value)}`;var o}).join(", ")}]`),Ao(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>Bs(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>Bs(t)).join(",")),`Target(${e})`}(Fo(i))}; limitType=${i.limitType})`}function ou(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):zt.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of t.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,h,v){const A=Wu(u,h,v);return u.inclusive?A<=0:A<0}(t.startAt,su(t),o)||t.endAt&&!function(u,h,v){const A=Wu(u,h,v);return u.inclusive?A>=0:A>0}(t.endAt,su(t),o)));var t,o}function Ku(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Bc(i){return(e,t)=>{let o=!1;for(const u of su(i)){const h=pc(u,e,t);if(0!==h)return h;o=o||u.field.isKeyField()}return 0}}function pc(i,e,t){const o=i.field.isKeyField()?zt.comparator(e.key,t.key):function(u,h,v){const A=h.data.field(u),G=v.data.field(u);return null!==A&&null!==G?mo(A,G):E()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return E()}}function _l(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Us(e)?"-0":e}}function jl(i){return{integerValue:""+i}}function jc(i,e){return Ko(e)?jl(e):_l(i,e)}class au{constructor(){this._=void 0}}function Hc(i,e,t){return i instanceof Zu?function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(h.fields.__previous_value__=u),{mapValue:h}}(t,e):i instanceof vl?uu(i,e):i instanceof Qo?Yu(i,e):function(o,u){const h=Gc(o,u),v=Qu(h)+Qu(o.k);return yl(h)&&yl(o.k)?jl(v):_l(o.M,v)}(i,e)}function $c(i,e,t){return i instanceof vl?uu(i,e):i instanceof Qo?Yu(i,e):t}function Gc(i,e){return i instanceof Ns?yl(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Zu extends au{}class vl extends au{constructor(e){super(),this.elements=e}}function uu(i,e){const t=Ju(e);for(const o of i.elements)t.some(u=>yi(u,o))||t.push(o);return{arrayValue:{values:t}}}class Qo extends au{constructor(e){super(),this.elements=e}}function Yu(i,e){let t=Ju(e);for(const o of i.elements)t=t.filter(u=>!yi(u,o));return{arrayValue:{values:t}}}class Ns extends au{constructor(e,t){super(),this.M=e,this.k=t}}function Qu(i){return ei(i.integerValue||i.doubleValue)}function Ju(i){return yo(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Xu{constructor(e,t){this.field=e,this.transform=t}}class qc{constructor(e,t){this.version=e,this.transformResults=t}}class Cs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cs}static exists(e){return new Cs(void 0,e)}static updateTime(e){return new Cs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gc(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class lu{}function Hl(i,e,t){i instanceof El?function(o,u,h){const v=o.value.clone(),A=c(o.fieldTransforms,u,h.transformResults);v.setAll(A),u.convertToFoundDocument(h.version,v).setHasCommittedMutations()}(i,e,t):i instanceof qa?function(o,u,h){if(!gc(o.precondition,u))return void u.convertToUnknownDocument(h.version);const v=c(o.fieldTransforms,u,h.transformResults),A=u.data;A.setAll(y(o)),A.setAll(v),u.convertToFoundDocument(h.version,A).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function el(i,e,t){var u;i instanceof El?function(o,u,h){if(!gc(o.precondition,u))return;const v=o.value.clone(),A=g(o.fieldTransforms,h,u);v.setAll(A),u.convertToFoundDocument(mc(u),v).setHasLocalMutations()}(i,e,t):i instanceof qa?function(o,u,h){if(!gc(o.precondition,u))return;const v=g(o.fieldTransforms,h,u),A=u.data;A.setAll(y(o)),A.setAll(v),u.convertToFoundDocument(mc(u),A).setHasLocalMutations()}(i,e,t):gc(i.precondition,u=e)&&u.convertToNoDocument(Sn.min())}function xd(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),h=Gc(o.transform,u||null);null!=h&&(null==t&&(t=L.empty()),t.set(o.field,h))}return t||null}function Od(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&ga(t,o,(u,h)=>function zc(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof vl&&o instanceof vl||t instanceof Qo&&o instanceof Qo?ga(t.elements,o.elements,yi):t instanceof Ns&&o instanceof Ns?yi(t.k,o.k):t instanceof Zu&&o instanceof Zu);var t,o}(u,h))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}function mc(i){return i.isFoundDocument()?i.version:Sn.min()}class El extends lu{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}}class qa extends lu{constructor(e,t,o,u,h=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=h,this.type=1}}function y(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function c(i,e,t){const o=new Map;M(i.length===t.length);for(let u=0;u<t.length;u++){const h=i[u],v=h.transform,A=e.data.field(h.field);o.set(h.field,$c(v,A,t[u]))}return o}function g(i,e,t){const o=new Map;for(const u of i){const h=u.transform,v=t.data.field(u.field);o.set(u.field,Hc(h,v,e))}return o}class b extends lu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class x extends lu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class j{constructor(e){this.count=e}}var ee,ne;function ye(i){switch(i){default:return E();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function Ye(i){if(void 0===i)return zr("GRPC error has no .code"),q.UNKNOWN;switch(i){case ee.OK:return q.OK;case ee.CANCELLED:return q.CANCELLED;case ee.UNKNOWN:return q.UNKNOWN;case ee.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case ee.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case ee.INTERNAL:return q.INTERNAL;case ee.UNAVAILABLE:return q.UNAVAILABLE;case ee.UNAUTHENTICATED:return q.UNAUTHENTICATED;case ee.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case ee.NOT_FOUND:return q.NOT_FOUND;case ee.ALREADY_EXISTS:return q.ALREADY_EXISTS;case ee.PERMISSION_DENIED:return q.PERMISSION_DENIED;case ee.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case ee.ABORTED:return q.ABORTED;case ee.OUT_OF_RANGE:return q.OUT_OF_RANGE;case ee.UNIMPLEMENTED:return q.UNIMPLEMENTED;case ee.DATA_LOSS:return q.DATA_LOSS;default:return E()}}(ne=ee||(ee={}))[ne.OK=0]="OK",ne[ne.CANCELLED=1]="CANCELLED",ne[ne.UNKNOWN=2]="UNKNOWN",ne[ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ne[ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ne[ne.NOT_FOUND=5]="NOT_FOUND",ne[ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",ne[ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",ne[ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",ne[ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ne[ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ne[ne.ABORTED=10]="ABORTED",ne[ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",ne[ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",ne[ne.INTERNAL=13]="INTERNAL",ne[ne.UNAVAILABLE=14]="UNAVAILABLE",ne[ne.DATA_LOSS=15]="DATA_LOSS";class bt{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,h]of o)if(this.equalsFn(u,e))return h}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Xa(this.inner,(t,o)=>{for(const[u,h]of o)e(u,h)})}isEmpty(){return Pl(this.inner)}size(){return this.innerSize}}const Yt=new ar(zt.comparator);function Xt(){return Yt}const Rn=new ar(zt.comparator);function rn(...i){let e=Rn;for(const t of i)e=e.insert(t.key,t);return e}function In(){return new bt(i=>i.toString(),(i,e)=>i.isEqual(e))}const Gn=new ar(zt.comparator),Zr=new wr(zt.comparator);function On(...i){let e=Zr;for(const t of i)e=e.add(t);return e}const Cr=new wr(Ln);function Un(){return Cr}class Ds{constructor(e,t,o,u,h){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,t){const o=new Map;return o.set(e,ki.createSynthesizedTargetChangeForCurrentChange(e,t)),new Ds(Sn.min(),o,Un(),Xt(),On())}}class ki{constructor(e,t,o,u,h){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ki(Hi.EMPTY_BYTE_STRING,t,On(),On(),On())}}class Ii{constructor(e,t,o,u){this.O=e,this.removedTargetIds=t,this.key=o,this.F=u}}class Pr{constructor(e,t){this.targetId=e,this.$=t}}class As{constructor(e,t,o=Hi.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class Jo{constructor(){this.B=0,this.L=Ji(),this.U=Hi.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=On(),t=On(),o=On();return this.L.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:E()}}),new ki(this.U,this.q,e,t,o)}J(){this.K=!1,this.L=Ji()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class $l{constructor(e){this.nt=e,this.st=new Map,this.it=Xt(),this.rt=tl(),this.ot=new wr(Ln)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const o=this.lt(t);switch(e.state){case 0:this.ft(t)&&o.W(e.resumeToken);break;case 1:o.tt(),o.G||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.G||this.removeTarget(t);break;case 3:this.ft(t)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),o.W(e.resumeToken));break;default:E()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((o,u)=>{this.ft(u)&&t(u)})}_t(e){const t=e.targetId,o=e.$.count,u=this.wt(t);if(u){const h=u.target;if(zu(h))if(0===o){const v=new zt(h.path);this.ct(t,v,ae.newNoDocument(v,Sn.min()))}else M(1===o);else this.gt(t)!==o&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((h,v)=>{const A=this.wt(v);if(A){if(h.current&&zu(A.target)){const G=new zt(A.target.path);null!==this.it.get(G)||this.It(v,G)||this.ct(v,G,ae.newNoDocument(G,e))}h.j&&(t.set(v,h.H()),h.J())}});let o=On();this.rt.forEach((h,v)=>{let A=!0;v.forEachWhile(G=>{const K=this.wt(G);return!K||2===K.purpose||(A=!1,!1)}),A&&(o=o.add(h))}),this.it.forEach((h,v)=>v.setReadTime(e));const u=new Ds(e,t,this.ot,this.it,o);return this.it=Xt(),this.rt=tl(),this.ot=new wr(Ln),u}at(e,t){if(!this.ft(e))return;const o=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,o),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,o){if(!this.ft(e))return;const u=this.lt(e);this.It(e,t)?u.Y(t,1):u.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),o&&(this.it=this.it.insert(t,o))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Jo,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new wr(Ln),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Ft("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Jo),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function tl(){return new ar(zt.comparator)}function Ji(){return new ar(zt.comparator)}const nl={asc:"ASCENDING",desc:"DESCENDING"},Gl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class vn{constructor(e,t){this.databaseId=e,this.N=t}}function Cn(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jn(i,e){return i.N?e.toBase64():e.toUint8Array()}function Nr(i,e){return Cn(i,e.toTimestamp())}function _r(i){return M(!!i),Sn.fromTimestamp(function(e){const t=mi(e);return new Or(t.seconds,t.nanos)}(i))}function Xo(i,e){return(t=i,new fr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Xi(i){const e=fr.fromString(i);return M(Fe(e)),e}function Eo(i,e){return Xo(i.databaseId,e.path)}function Vr(i,e){const t=Xi(e);if(t.get(1)!==i.databaseId.projectId)throw new re(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new re(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new zt(es(t))}function zl(i,e){return Xo(i.databaseId,e)}function wl(i){const e=Xi(i);return 4===e.length?fr.emptyPath():es(e)}function ms(i){return new fr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function es(i){return M(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Ea(i,e,t){return{name:Eo(i,e),fields:t.value.mapValue.fields}}function Na(i,e,t){const o=Vr(i,e.name),u=_r(e.updateTime),h=new L({mapValue:{fields:e.fields}}),v=ae.newFoundDocument(o,u,h);return t&&v.setHasCommittedMutations(),t?v.setHasCommittedMutations():v}function Au(i,e){let t;if(e instanceof El)t={update:Ea(i,e.key,e.value)};else if(e instanceof b)t={delete:Eo(i,e.key)};else if(e instanceof qa)t={update:Ea(i,e.key,e.data),updateMask:te(e.fieldMask)};else{if(!(e instanceof x))return E();t={verify:Eo(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,h){const v=h.transform;if(v instanceof Zu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof vl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof Qo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof Ns)return{fieldPath:h.field.canonicalString(),increment:v.k};throw E()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Nr(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:E()),t;var u}function Wc(i,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Cs.updateTime(_r(u.updateTime)):void 0!==u.exists?Cs.exists(u.exists):Cs.none():Cs.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(h,v){let A=null;"setToServerValue"in v?(M("REQUEST_TIME"===v.setToServerValue),A=new Zu):"appendMissingElements"in v?A=new vl(v.appendMissingElements.values||[]):"removeAllFromArray"in v?A=new Qo(v.removeAllFromArray.values||[]):"increment"in v?A=new Ns(h,v.increment):E();const G=ps.fromServerFormat(v.fieldPath);return new Xu(G,A)}(i,u)):[];var u;if(e.update){const u=Vr(i,e.update.name),h=new L({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new $a((e.updateMask.fieldPaths||[]).map(K=>ps.fromServerFormat(K)));return new qa(u,h,v,t,o)}return new El(u,h,t,o)}if(e.delete){const u=Vr(i,e.delete);return new b(u,t)}if(e.verify){const u=Vr(i,e.verify);return new x(u,t)}return E()}function wh(i,e){return{documents:[zl(i,e.path)]}}function Kc(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=zl(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=zl(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(G){if(0===G.length)return;const K=G.map(ce=>function(xe){if("=="===xe.op){if(So(xe.value))return{unaryFilter:{field:d(xe.field),op:"IS_NAN"}};if($u(xe.value))return{unaryFilter:{field:d(xe.field),op:"IS_NULL"}}}else if("!="===xe.op){if(So(xe.value))return{unaryFilter:{field:d(xe.field),op:"IS_NOT_NAN"}};if($u(xe.value))return{unaryFilter:{field:d(xe.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:d(xe.field),op:_(xe.op),value:xe.value}}}(ce));return 1===K.length?K[0]:{compositeFilter:{op:"AND",filters:K}}}(e.filters);u&&(t.structuredQuery.where=u);const h=function(G){if(0!==G.length)return G.map(K=>{return{field:d((ce=K).field),direction:ql(ce.dir)};var ce})}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const v=(K=e.limit,i.N||Ao(K)?K:{value:K});var K,A,G;return null!==v&&(t.structuredQuery.limit=v),e.startAt&&(t.structuredQuery.startAt={before:(A=e.startAt).inclusive,values:A.position}),e.endAt&&(t.structuredQuery.endAt={before:!(G=e.endAt).inclusive,values:G.position}),t}function bh(i){let e=wl(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){M(1===o);const ce=t.from[0];ce.allDescendants?u=ce.collectionId:e=e.child(ce.collectionId)}let h=[];t.where&&(h=Ih(t.where));let v=[];t.orderBy&&(v=t.orderBy.map(ce=>{return new Ts(f((xe=ce).field),function(lt){switch(lt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(xe.direction));var xe}));let A=null;t.limit&&(A=function(ce){let xe;return xe="object"==typeof ce?ce.value:ce,Ao(xe)?null:xe}(t.limit));let G=null;var ce;t.startAt&&(G=new va((ce=t.startAt).values||[],!!ce.before));let K=null;return t.endAt&&(K=function(ce){return new va(ce.values||[],!ce.before)}(t.endAt)),Tu(e,u,v,h,A,"F",G,K)}function Ih(i){return i?void 0!==i.unaryFilter?[H(i)]:void 0!==i.fieldFilter?[I(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>Ih(e)).reduce((e,t)=>e.concat(t)):E():[]}function ql(i){return nl[i]}function _(i){return Gl[i]}function d(i){return{fieldPath:i.canonicalString()}}function f(i){return ps.fromServerFormat(i.fieldPath)}function I(i){return Qi.create(f(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return E()}}(i.fieldFilter.op),i.fieldFilter.value)}function H(i){switch(i.unaryFilter.op){case"IS_NAN":const e=f(i.unaryFilter.field);return Qi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=f(i.unaryFilter.field);return Qi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=f(i.unaryFilter.field);return Qi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=f(i.unaryFilter.field);return Qi.create(u,"!=",{nullValue:"NULL_VALUE"});default:return E()}}function te(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Fe(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function ut(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=hn(e)),e=Kt(i.get(t),e);return hn(e)}function Kt(i,e){let t=e;const o=i.length;for(let u=0;u<o;u++){const h=i.charAt(u);switch(h){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=h}}return t}function hn(i){return i+"\x01\x01"}function En(i){const e=i.length;if(M(e>=2),2===e)return M("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),fr.emptyPath();const t=e-2,o=[];let u="";for(let h=0;h<e;){const v=i.indexOf("\x01",h);switch((v<0||v>t)&&E(),i.charAt(v+1)){case"\x01":const A=i.substring(h,v);let G;0===u.length?G=A:(u+=A,G=u,u=""),o.push(G);break;case"\x10":u+=i.substring(h,v),u+="\0";break;case"\x11":u+=i.substring(h,v+1);break;default:E()}h=v+2}return new fr(o)}const Fn=["userId","batchId"];function ts(i,e){return[i,ut(e)]}function ea(i,e,t){return[i,ut(e),t]}const Wl={},Pd=["prefixPath","collectionGroup","readTime","documentId"],Th=["prefixPath","collectionGroup","documentId"],bl=["collectionGroup","readTime","prefixPath","documentId"],Zc=["canonicalId","targetId"],Yc=["targetId","path"],Ch=["path","targetId"],Qc=["collectionId","parent"],Nd=["indexId","uid"],Dh=["uid","sequenceNumber"],zf=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kd=["indexId","uid","orderedDocumentKey"],qf=["userId","collectionPath","documentId"],Uy=["userId","collectionPath","largestBatchId"],Dg=["userId","collectionGroup","largestBatchId"],Ah=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ag=[...Ah,"documentOverlays"],Sh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],By=[...Sh,"indexConfiguration","indexState","indexEntries"],Sg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class pt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&E(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pt((o,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(o,u)},this.catchCallback=h=>{this.wrapFailure(t,h).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pt?t:pt.resolve(t)}catch(t){return pt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pt.reject(t)}static resolve(e){return new pt((t,o)=>{t(e)})}static reject(e){return new pt((t,o)=>{o(e)})}static waitFor(e){return new pt((t,o)=>{let u=0,h=0,v=!1;e.forEach(A=>{++u,A.next(()=>{++h,v&&h===u&&t()},G=>o(G))}),v=!0,h===u&&t()})}static or(e){let t=pt.resolve(!1);for(const o of e)t=t.next(u=>u?pt.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,h)=>{o.push(t.call(this,u,h))}),this.waitFor(o)}}class rl{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new st,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Fd(e,t.error)):this.At.resolve()},this.transaction.onerror=o=>{const u=Mh(o.target.error);this.At.reject(new Fd(e,u))}}static open(e,t,o,u){try{return new rl(t,e.transaction(u,o))}catch(h){throw new Fd(t,h)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Ft("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new jy(t)}}class du{constructor(e,t,o){this.name=e,this.version=t,this.Pt=o,12.2===du.Vt((0,ot.z$)())&&zr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ft("SimpleDb","Removing database:",e),Kl(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,ot.hl)())return!1;if(du.St())return!0;const e=(0,ot.z$)(),t=du.Vt(e),o=0<t&&t<10,u=du.Dt(e),h=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||h)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Nt(e){var t=this;return(0,oe.Z)(function*(){return t.db||(Ft("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,u)=>{const h=indexedDB.open(t.name,t.version);h.onsuccess=v=>{o(v.target.result)},h.onblocked=()=>{u(new Fd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=v=>{const A=v.target.error;u("VersionError"===A.name?new re(q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===A.name?new re(q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+A):new Fd(e,A))},h.onupgradeneeded=v=>{Ft("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',v.oldVersion),t.Pt.kt(v.target.result,h.transaction,v.oldVersion,t.version).next(()=>{Ft("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=o=>t.Mt(o)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,u){var h=this;return(0,oe.Z)(function*(){const v="readonly"===t;let A=0;for(;;){++A;try{h.db=yield h.Nt(e);const G=rl.open(h.db,e,v?"readonly":"readwrite",o),K=u(G).next(ce=>(G.bt(),ce)).catch(ce=>(G.abort(ce),pt.reject(ce))).toPromise();return K.catch(()=>{}),yield G.Rt,K}catch(G){const K="FirebaseError"!==G.name&&A<3;if(Ft("SimpleDb","Transaction failed with error:",G.message,"Retrying:",K),h.close(),!K)return Promise.reject(G)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Mg{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Kl(this.Ft.delete())}}class Fd extends re{constructor(e,t){super(q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function il(i){return"IndexedDbTransactionError"===i.name}class jy{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Ft("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Ft("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Kl(o)}add(e){return Ft("SimpleDb","ADD",this.store.name,e,e),Kl(this.store.add(e))}get(e){return Kl(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ft("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ft("SimpleDb","DELETE",this.store.name,e),Kl(this.store.delete(e))}count(){return Ft("SimpleDb","COUNT",this.store.name),Kl(this.store.count())}qt(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),h=[];return this.Kt(u,(v,A)=>{h.push(A)}).next(()=>h)}{const u=this.store.getAll(o.range);return new pt((h,v)=>{u.onerror=A=>{v(A.target.error)},u.onsuccess=A=>{h(A.target.result)}})}}Gt(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new pt((u,h)=>{o.onerror=v=>{h(v.target.error)},o.onsuccess=v=>{u(v.target.result)}})}Qt(e,t){Ft("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.jt=!1;const u=this.cursor(o);return this.Kt(u,(h,v,A)=>A.delete())}Wt(e,t){let o;t?o=e:(o={},t=e);const u=this.cursor(o);return this.Kt(u,t)}zt(e){const t=this.cursor({});return new pt((o,u)=>{t.onerror=h=>{const v=Mh(h.target.error);u(v)},t.onsuccess=h=>{const v=h.target.result;v?e(v.primaryKey,v.value).next(A=>{A?v.continue():o()}):o()}})}Kt(e,t){const o=[];return new pt((u,h)=>{e.onerror=v=>{h(v.target.error)},e.onsuccess=v=>{const A=v.target.result;if(!A)return void u();const G=new Mg(A),K=t(A.primaryKey,A.value,G);if(K instanceof pt){const ce=K.catch(xe=>(G.done(),pt.reject(xe)));o.push(ce)}G.isDone?u():null===G.Lt?A.continue():A.continue(G.Lt)}}).next(()=>pt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.jt?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Kl(i){return new pt((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=Mh(o.target.error);t(u)}})}let Kf=!1;function Mh(i){const e=du.Vt((0,ot.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Kf||(Kf=!0,setTimeout(()=>{throw o},0)),o}}return i}class Rh extends Wf{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function wo(i,e){const t=z(i);return du.xt(t.Ht,e)}class Jc{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&Hl(h,e,o[u])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&el(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&el(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const o=e.get(t.key),u=o;this.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(Sn.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),On())}isEqual(e){return this.batchId===e.batchId&&ga(this.mutations,e.mutations,(t,o)=>Od(t,o))&&ga(this.baseMutations,e.baseMutations,(t,o)=>Od(t,o))}}class Xc{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){M(e.mutations.length===o.length);let u=Gn;const h=e.mutations;for(let v=0;v<h.length;v++)u=u.insert(h[v].key,o[v].version);return new Xc(e,t,o,u)}}class xh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class sl{constructor(e,t,o,u,h=Sn.min(),v=Sn.min(),A=Hi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=A}withSequenceNumber(e){return new sl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new sl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new sl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Zf{constructor(e){this.Jt=e}}function ed(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Oh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Eo(u=i.Jt,(h=e).key),fields:h.data.value.mapValue.fields,updateTime:Cn(u,h.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Zl(e.version)};else{if(!e.isUnknownDocument())return E();o.unknownDocument={path:t.path.toArray(),version:Zl(e.version)}}var u,h;return o}function Oh(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Zl(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function _c(i){const e=new Or(i.seconds,i.nanoseconds);return Sn.fromTimestamp(e)}function td(i,e){const t=(e.baseMutations||[]).map(h=>Wc(i.Jt,h));for(let h=0;h<e.mutations.length-1;++h){const v=e.mutations[h];h+1<e.mutations.length&&void 0!==e.mutations[h+1].transform&&(v.updateTransforms=e.mutations[h+1].transform.fieldTransforms,e.mutations.splice(h+1,1),++h)}const o=e.mutations.map(h=>Wc(i.Jt,h)),u=Or.fromMillis(e.localWriteTimeMs);return new Jc(e.batchId,u,t,o)}function nd(i){const e=_c(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?_c(i.lastLimboFreeSnapshotVersion):Sn.min();let o;var u;return void 0!==i.query.documents?(M(1===(u=i.query).documents.length),o=Fo(Pa(wl(u.documents[0])))):o=Fo(bh(i.query)),new sl(o,i.targetId,0,i.lastListenSequenceNumber,e,t,Hi.fromBase64String(i.resumeToken))}function Ph(i,e){const t=Zl(e.snapshotVersion),o=Zl(e.lastLimboFreeSnapshotVersion);let u;u=zu(e.target)?wh(i.Jt,e.target):Kc(i.Jt,e.target);const h=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ga(e.target),readTime:t,resumeToken:h,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function Nh(i){const e=bh({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?fc(e,e.limit,"L"):e}function Rg(i,e){return new xh(e.largestBatchId,Wc(i.Jt,e.overlayMutation))}function Qf(i,e){const t=e.path.lastSegment();return[i,ut(e.path.popLast()),t]}class Hy{getBundleMetadata(e,t){return Jf(e).get(t).next(o=>{if(o)return{id:(u=o).bundleId,createTime:_c(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return Jf(e).put({bundleId:(o=t).id,createTime:Zl(_r(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return xg(e).get(t).next(o=>{if(o)return{name:(u=o).name,query:Nh(u.bundledQuery),readTime:_c(u.readTime)};var u})}saveNamedQuery(e,t){return xg(e).put({name:(o=t).name,readTime:Zl(_r(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Jf(i){return wo(i,"bundles")}function xg(i){return wo(i,"namedQueries")}class Xf{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Xf(e,t.uid||"")}getOverlay(e,t){return wa(e).get(Qf(this.userId,t)).next(o=>o?Rg(this.M,o):null)}saveOverlays(e,t,o){const u=[];return o.forEach((h,v)=>{const A=new xh(t,v);u.push(this.Xt(e,A))}),pt.waitFor(u)}removeOverlaysForBatchId(e,t,o){const u=new Set;t.forEach(v=>u.add(ut(v.getCollectionPath())));const h=[];return u.forEach(v=>{const A=IDBKeyRange.bound([this.userId,v,o],[this.userId,v,o+1],!1,!0);h.push(wa(e).Qt("collectionPathOverlayIndex",A))}),pt.waitFor(h)}getOverlaysForCollection(e,t,o){const u=In(),h=ut(t),v=IDBKeyRange.bound([this.userId,h,o],[this.userId,h,Number.POSITIVE_INFINITY],!0);return wa(e).qt("collectionPathOverlayIndex",v).next(A=>{for(const G of A){const K=Rg(this.M,G);u.set(K.getKey(),K)}return u})}getOverlaysForCollectionGroup(e,t,o,u){const h=In();let v;const A=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return wa(e).Wt({index:"collectionGroupOverlayIndex",range:A},(G,K,ce)=>{const xe=Rg(this.M,K);h.size()<u||xe.largestBatchId===v?(h.set(xe.getKey(),xe),v=xe.largestBatchId):ce.done()}).next(()=>h)}Xt(e,t){return wa(e).put(function(o,u,h){const[v,A,G]=Qf(u,h.mutation.key);return{userId:u,collectionPath:A,documentId:G,collectionGroup:h.mutation.key.getCollectionGroup(),largestBatchId:h.largestBatchId,overlayMutation:Au(o.Jt,h.mutation)}}(this.M,this.userId,t))}}function wa(i){return wo(i,"documentOverlays")}class vc{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(ei(e.integerValue));else if("doubleValue"in e){const o=ei(e.doubleValue);isNaN(o)?this.ne(t,13):(this.ne(t,15),Us(o)?t.se(0):t.se(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ne(t,20),"string"==typeof o?t.ie(o):(t.ie(`${o.seconds||""}`),t.se(o.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(ko(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ne(t,45),t.se(o.latitude||0),t.se(o.longitude||0)}else"mapValue"in e?Gu(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):E()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const o=e.fields||{};this.ne(t,55);for(const u of Object.keys(o))this.re(u,t),this.te(o[u],t)}he(e,t){const o=e.values||[];this.ne(t,50);for(const u of o)this.te(u,t)}ae(e,t){this.ne(t,37),zt.fromName(e).path.forEach(o=>{this.ne(t,60),this.le(o,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function Og(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Pg(i){const e=64-function(t){let o=0;for(let u=0;u<8;++u){const h=Og(255&t[u]);if(o+=h,8!==h)break}return o}(i);return Math.ceil(e/8)}vc.fe=new vc;class $y{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this._e(o.value),o=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.ge(o.value),o=t.next();this.ye()}pe(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this._e(o);else if(o<2048)this._e(960|o>>>6),this._e(128|63&o);else if(t<"\ud800"||"\udbff"<t)this._e(480|o>>>12),this._e(128|63&o>>>6),this._e(128|63&o);else{const u=t.codePointAt(0);this._e(240|u>>>18),this._e(128|63&u>>>12),this._e(128|63&u>>>6),this._e(128|63&u)}}this.we()}Ie(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.ge(o);else if(o<2048)this.ge(960|o>>>6),this.ge(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.ge(480|o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o);else{const u=t.codePointAt(0);this.ge(240|u>>>18),this.ge(128|63&u>>>12),this.ge(128|63&u>>>6),this.ge(128|63&u)}}this.ye()}Te(e){const t=this.Ee(e),o=Pg(t);this.Ae(1+o),this.buffer[this.position++]=255&o;for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=255&t[u]}Re(e){const t=this.Ee(e),o=Pg(t);this.Ae(1+o),this.buffer[this.position++]=~(255&o);for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(u){const h=new DataView(new ArrayBuffer(8));return h.setFloat64(0,u,!1),new Uint8Array(h.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let u=1;u<t.length;++u)t[u]^=o?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class Gy{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class zy{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class rd{constructor(){this.De=new $y,this.Ce=new Gy(this.De),this.xe=new zy(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Ec{constructor(e,t,o,u){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=u}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Ec(this.indexId,this.documentKey,this.arrayValue,o)}}function wc(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Ng(i.arrayValue,e.arrayValue),0!==t?t:(t=Ng(i.directionalValue,e.directionalValue),0!==t?t:zt.comparator(i.documentKey,e.documentKey)))}function Ng(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class ur{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const o=t;o.S()?this.Fe=o:this.Oe.push(o)}}$e(e){const t=rt(e);if(void 0!==t&&!this.Be(t))return!1;const o=At(e);let u=0,h=0;for(;u<o.length&&this.Be(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.Fe){const v=o[u];if(!this.Le(this.Fe,v)||!this.Ue(this.Me[h++],v))return!1;++u}for(;u<o.length;++u){const v=o[u];if(h>=this.Me.length||!this.Ue(this.Me[h++],v))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class kg{constructor(){this.qe=new kh}addToCollectionParentIndex(e,t){return this.qe.add(t),pt.resolve()}getCollectionParents(e,t){return pt.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return pt.resolve()}deleteFieldIndex(e,t){return pt.resolve()}getDocumentsMatchingTarget(e,t){return pt.resolve(null)}getIndexType(e,t){return pt.resolve(0)}getFieldIndexes(e,t){return pt.resolve([])}getNextCollectionGroupToUpdate(e){return pt.resolve(null)}getMinOffset(e,t){return pt.resolve(xn.min())}updateCollectionGroup(e,t,o){return pt.resolve()}updateIndexEntries(e,t){return pt.resolve()}}class kh{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new wr(fr.comparator),h=!u.has(o);return this.index[t]=u.add(o),h}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new wr(fr.comparator)).toArray()}}const Ld=new Uint8Array(0);class Fh{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new kh,this.Ge=new bt(o=>Ga(o),(o,u)=>nu(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const o=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const h={collectionId:o,parent:ut(u)};return hu(e).put(h)}return pt.resolve()}getCollectionParents(e,t){const o=[],u=IDBKeyRange.bound([t,""],[Aa(t),""],!1,!0);return hu(e).qt(u).next(h=>{for(const v of h){if(v.collectionId!==t)break;o.push(En(v.parent))}return o})}addFieldIndex(e,t){const o=Lh(e),u={indexId:(h=t).indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(v=>[v.fieldPath.canonicalString(),v.kind])};var h;return delete u.indexId,o.add(u).next()}deleteFieldIndex(e,t){const o=Lh(e),u=sd(e),h=id(e);return o.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=id(e);let u=!0;const h=new Map;return pt.forEach(this.Qe(t),v=>this.je(e,v).next(A=>{u&&(u=!!A),h.set(v,A)})).next(()=>{if(u){let v=On();const A=[];return pt.forEach(h,(G,K)=>{var ce;Ft("IndexedDbIndexManager",`Using index ${ce=G,`id=${ce.indexId}|cg=${ce.collectionGroup}|f=${ce.fields.map(ti=>`${ti.fieldPath}:${ti.kind}`).join(",")}`} to execute ${Ga(t)}`);const xe=function(ti,eo){const ss=rt(eo);if(void 0===ss)return null;for(const Ss of qu(ti,ss.fieldPath))switch(Ss.op){case"array-contains-any":return Ss.value.arrayValue.values||[];case"array-contains":return[Ss.value]}return null}(K,G),lt=function(ti,eo){const ss=new Map;for(const Ss of At(eo))for(const sa of qu(ti,Ss.fieldPath))switch(sa.op){case"==":case"in":ss.set(Ss.fieldPath.canonicalString(),sa.value);break;case"not-in":case"!=":return ss.set(Ss.fieldPath.canonicalString(),sa.value),Array.from(ss.values())}return null}(K,G),Rt=function(ti,eo){const ss=[];let Ss=!0;for(const sa of At(eo)){const ph=0===sa.kind?dc(ti,sa.fieldPath,ti.startAt):Iu(ti,sa.fieldPath,ti.startAt);ss.push(ph.value),Ss&&(Ss=ph.inclusive)}return new va(ss,Ss)}(K,G),Pt=function(ti,eo){const ss=[];let Ss=!0;for(const sa of At(eo)){const ph=0===sa.kind?Iu(ti,sa.fieldPath,ti.endAt):dc(ti,sa.fieldPath,ti.endAt);ss.push(ph.value),Ss&&(Ss=ph.inclusive)}return new va(ss,Ss)}(K,G),fn=this.We(G,K,Rt),er=this.We(G,K,Pt),is=this.ze(G,K,lt),ks=this.He(G.indexId,xe,fn,Rt.inclusive,er,Pt.inclusive,is);return pt.forEach(ks,ti=>o.Gt(ti,t.limit).next(eo=>{eo.forEach(ss=>{const Ss=zt.fromSegments(ss.documentKey);v.has(Ss)||(v=v.add(Ss),A.push(Ss))})}))}).next(()=>A)}return pt.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,o,u,h,v,A){const G=(null!=t?t.length:1)*Math.max(o.length,h.length),K=G/(null!=t?t.length:1),ce=[];for(let xe=0;xe<G;++xe){const lt=t?this.Je(t[xe/K]):Ld,Rt=this.Ye(e,lt,o[xe%K],u),Pt=this.Xe(e,lt,h[xe%K],v),fn=A.map(er=>this.Ye(e,lt,er,!0));ce.push(...this.createRange(Rt,Pt,fn))}return ce}Ye(e,t,o,u){const h=new Ec(e,zt.empty(),t,o);return u?h:h.ke()}Xe(e,t,o,u){const h=new Ec(e,zt.empty(),t,o);return u?h.ke():h}je(e,t){const o=new ur(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(h=>{let v=null;for(const A of h)o.$e(A)&&(!v||A.fields.length>v.fields.length)&&(v=A);return v})}getIndexType(e,t){let o=2;return pt.forEach(this.Qe(t),u=>this.je(e,u).next(h=>{h?0!==o&&h.fields.length<function(v){let A=new wr(ps.comparator),G=!1;for(const K of v.filters){const ce=K;ce.field.isKeyField()||("array-contains"===ce.op||"array-contains-any"===ce.op?G=!0:A=A.add(ce.field))}for(const K of v.orderBy)K.field.isKeyField()||(A=A.add(K.field));return A.size+(G?1:0)}(u)&&(o=1):o=0})).next(()=>o)}Ze(e,t){const o=new rd;for(const u of At(e)){const h=t.data.field(u.fieldPath);if(null==h)return null;const v=o.Ne(u.kind);vc.fe.Zt(h,v)}return o.Se()}Je(e){const t=new rd;return vc.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const o=new rd;return vc.fe.Zt(ya(this.databaseId,t),o.Ne(function(u){const h=At(u);return 0===h.length?0:h[h.length-1].kind}(e))),o.Se()}ze(e,t,o){if(null===o)return[];let u=[];u.push(new rd);let h=0;for(const v of At(e)){const A=o[h++];for(const G of u)if(this.en(t,v.fieldPath)&&yo(A))u=this.nn(u,v,A);else{const K=G.Ne(v.kind);vc.fe.Zt(A,K)}}return this.sn(u)}We(e,t,o){return this.ze(e,t,o.position)}sn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Se();return t}nn(e,t,o){const u=[...e],h=[];for(const v of o.arrayValue.values||[])for(const A of u){const G=new rd;G.seed(A.Se()),vc.fe.Zt(v,G.Ne(t.kind)),h.push(G)}return h}en(e,t){return!!e.filters.find(o=>o instanceof Qi&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=Lh(e),u=sd(e);return(t?o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.qt()).next(h=>{const v=[];return pt.forEach(h,A=>u.get([A.indexId,this.uid]).next(G=>{v.push(function(K,ce){const xe=ce?new cn(ce.sequenceNumber,new xn(_c(ce.readTime),new zt(En(ce.documentKey)),ce.largestBatchId)):cn.empty(),lt=K.fields.map(([Rt,Pt])=>new un(ps.fromServerFormat(Rt),Pt));return new $e(K.indexId,K.collectionGroup,lt,xe)}(A,G))})).next(()=>v)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,u)=>{const h=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==h?h:Ln(o.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const u=Lh(e),h=sd(e);return this.rn(e).next(v=>u.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(A=>pt.forEach(A,G=>{return h.put({indexId:G.indexId,uid:this.user.uid||"",sequenceNumber:v,readTime:Zl((lt=o).readTime),documentKey:ut(lt.documentKey.path),largestBatchId:lt.largestBatchId});var lt})))}updateIndexEntries(e,t){const o=new Map;return pt.forEach(t,(u,h)=>{const v=o.get(u.collectionGroup);return(v?pt.resolve(v):this.getFieldIndexes(e,u.collectionGroup)).next(A=>(o.set(u.collectionGroup,A),pt.forEach(A,G=>this.on(e,u,G).next(K=>{const ce=this.un(h,G);return K.isEqual(ce)?pt.resolve():this.an(e,h,G,K,ce)}))))})}cn(e,t,o,u){return id(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.tn(o,t.key),documentKey:t.key.path.toArray()})}hn(e,t,o,u){return id(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.tn(o,t.key),t.key.path.toArray()])}on(e,t,o){const u=id(e);let h=new wr(wc);return u.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.tn(o,t)])},(v,A)=>{h=h.add(new Ec(o.indexId,t,A.arrayValue,A.directionalValue))}).next(()=>h)}un(e,t){let o=new wr(wc);const u=this.Ze(t,e);if(null==u)return o;const h=rt(t);if(null!=h){const v=e.data.field(h.fieldPath);if(yo(v))for(const A of v.arrayValue.values||[])o=o.add(new Ec(t.indexId,e.key,this.Je(A),u))}else o=o.add(new Ec(t.indexId,e.key,Ld,u));return o}an(e,t,o,u,h){Ft("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const v=[];return function(A,G,K,ce,xe){const lt=A.getIterator(),Rt=G.getIterator();let Pt=js(lt),fn=js(Rt);for(;Pt||fn;){let er=!1,is=!1;if(Pt&&fn){const ks=K(Pt,fn);ks<0?is=!0:ks>0&&(er=!0)}else null!=Pt?is=!0:er=!0;er?(ce(fn),fn=js(Rt)):is?(xe(Pt),Pt=js(lt)):(Pt=js(lt),fn=js(Rt))}}(u,h,wc,A=>{v.push(this.cn(e,t,o,A))},A=>{v.push(this.hn(e,t,o,A))}),pt.waitFor(v)}rn(e){let t=1;return sd(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,h)=>{h.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((v,A)=>wc(v,A)).filter((v,A,G)=>!A||0!==wc(v,G[A-1]));const u=[];u.push(e);for(const v of o){const A=wc(v,e),G=wc(v,t);if(0===A)u[0]=e.ke();else if(A>0&&G<0)u.push(v),u.push(v.ke());else if(G>0)break}u.push(t);const h=[];for(let v=0;v<u.length;v+=2)h.push(IDBKeyRange.bound([u[v].indexId,this.uid,u[v].arrayValue,u[v].directionalValue,Ld,[]],[u[v+1].indexId,this.uid,u[v+1].arrayValue,u[v+1].directionalValue,Ld,[]]));return h}getMinOffset(e,t){let o;return pt.forEach(this.Qe(t),u=>this.je(e,u).next(h=>{h?(!o||gs(h.indexState.offset,o)<0)&&(o=h.indexState.offset):o=xn.min()})).next(()=>o)}}function hu(i){return wo(i,"collectionParents")}function id(i){return wo(i,"indexEntries")}function Lh(i){return wo(i,"indexConfiguration")}function sd(i){return wo(i,"indexState")}const ol={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ta{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ta(e,ta.DEFAULT_COLLECTION_PERCENTILE,ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ep(i,e,t){const o=i.store("mutations"),u=i.store("documentMutations"),h=[],v=IDBKeyRange.only(t.batchId);let A=0;const G=o.Wt({range:v},(ce,xe,lt)=>(A++,lt.delete()));h.push(G.next(()=>{M(1===A)}));const K=[];for(const ce of t.mutations){const xe=ea(e,ce.key.path,t.batchId);h.push(u.delete(xe)),K.push(ce.key)}return pt.waitFor(h).next(()=>K)}function od(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw E();e=i.noDocument}return JSON.stringify(e).length}ta.DEFAULT_COLLECTION_PERCENTILE=10,ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ta.DEFAULT=new ta(41943040,ta.DEFAULT_COLLECTION_PERCENTILE,ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ta.DISABLED=new ta(-1,0,0);class Fg{constructor(e,t,o,u){this.userId=e,this.M=t,this.indexManager=o,this.referenceDelegate=u,this.ln={}}static Yt(e,t,o,u){M(""!==e.uid);const h=e.isAuthenticated()?e.uid:"";return new Fg(h,t,o,u)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bc(e).Wt({index:"userMutationsIndex",range:o},(u,h,v)=>{t=!1,v.done()}).next(()=>t)}addMutationBatch(e,t,o,u){const h=Il(e),v=bc(e);return v.add({}).next(A=>{M("number"==typeof A);const G=new Jc(A,t,o,u),K=function(lt,Rt,Pt){const fn=Pt.baseMutations.map(is=>Au(lt.Jt,is)),er=Pt.mutations.map(is=>Au(lt.Jt,is));return{userId:Rt,batchId:Pt.batchId,localWriteTimeMs:Pt.localWriteTime.toMillis(),baseMutations:fn,mutations:er}}(this.M,this.userId,G),ce=[];let xe=new wr((lt,Rt)=>Ln(lt.canonicalString(),Rt.canonicalString()));for(const lt of u){const Rt=ea(this.userId,lt.key.path,A);xe=xe.add(lt.key.path.popLast()),ce.push(v.put(K)),ce.push(h.put(Rt,Wl))}return xe.forEach(lt=>{ce.push(this.indexManager.addToCollectionParentIndex(e,lt))}),e.addOnCommittedListener(()=>{this.ln[A]=G.keys()}),pt.waitFor(ce).next(()=>G)})}lookupMutationBatch(e,t){return bc(e).get(t).next(o=>o?(M(o.userId===this.userId),td(this.M,o)):null)}fn(e,t){return this.ln[t]?pt.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const u=o.keys();return this.ln[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,u=IDBKeyRange.lowerBound([this.userId,o]);let h=null;return bc(e).Wt({index:"userMutationsIndex",range:u},(v,A,G)=>{A.userId===this.userId&&(M(A.batchId>=o),h=td(this.M,A)),G.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return bc(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(u,h,v)=>{o=h.batchId,v.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bc(e).qt("userMutationsIndex",t).next(o=>o.map(u=>td(this.M,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=ts(this.userId,t.path),u=IDBKeyRange.lowerBound(o),h=[];return Il(e).Wt({range:u},(v,A,G)=>{const[K,ce,xe]=v,lt=En(ce);if(K===this.userId&&t.path.isEqual(lt))return bc(e).get(xe).next(Rt=>{if(!Rt)throw E();M(Rt.userId===this.userId),h.push(td(this.M,Rt))});G.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new wr(Ln);const u=[];return t.forEach(h=>{const v=ts(this.userId,h.path),A=IDBKeyRange.lowerBound(v),G=Il(e).Wt({range:A},(K,ce,xe)=>{const[lt,Rt,Pt]=K,fn=En(Rt);lt===this.userId&&h.path.isEqual(fn)?o=o.add(Pt):xe.done()});u.push(G)}),pt.waitFor(u).next(()=>this.dn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1,h=ts(this.userId,o),v=IDBKeyRange.lowerBound(h);let A=new wr(Ln);return Il(e).Wt({range:v},(G,K,ce)=>{const[xe,lt,Rt]=G,Pt=En(lt);xe===this.userId&&o.isPrefixOf(Pt)?Pt.length===u&&(A=A.add(Rt)):ce.done()}).next(()=>this.dn(e,A))}dn(e,t){const o=[],u=[];return t.forEach(h=>{u.push(bc(e).get(h).next(v=>{if(null===v)throw E();M(v.userId===this.userId),o.push(td(this.M,v))}))}),pt.waitFor(u).next(()=>o)}removeMutationBatch(e,t){return ep(e.Ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),pt.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return pt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return Il(e).Wt({range:o},(h,v,A)=>{if(h[0]===this.userId){const G=En(h[1]);u.push(G)}else A.done()}).next(()=>{M(0===u.length)})})}containsKey(e,t){return tp(e,this.userId,t)}wn(e){return Vd(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function tp(i,e,t){const o=ts(e,t.path),u=o[1],h=IDBKeyRange.lowerBound(o);let v=!1;return Il(i).Wt({range:h,jt:!0},(A,G,K)=>{const[ce,xe,lt]=A;ce===e&&xe===u&&(v=!0),K.done()}).next(()=>v)}function bc(i){return wo(i,"mutations")}function Il(i){return wo(i,"documentMutations")}function Vd(i){return wo(i,"mutationQueues")}class Tl{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Tl(0)}static yn(){return new Tl(-1)}}class np{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const o=new Tl(t.highestTargetId);return t.highestTargetId=o.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Sn.fromTimestamp(new Or(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.pn(e).next(u=>(u.highestListenSequenceNumber=t,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.In(e,u)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(o=>(o.targetCount+=1,this.En(t,o),this.In(e,o))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Yl(e).delete(t.targetId)).next(()=>this.pn(e)).next(o=>(M(o.targetCount>0),o.targetCount-=1,this.In(e,o)))}removeTargets(e,t,o){let u=0;const h=[];return Yl(e).Wt((v,A)=>{const G=nd(A);G.sequenceNumber<=t&&null===o.get(G.targetId)&&(u++,h.push(this.removeTargetData(e,G)))}).next(()=>pt.waitFor(h)).next(()=>u)}forEachTarget(e,t){return Yl(e).Wt((o,u)=>{const h=nd(u);t(h)})}pn(e){return qy(e).get("targetGlobalKey").next(t=>(M(null!==t),t))}In(e,t){return qy(e).put("targetGlobalKey",t)}Tn(e,t){return Yl(e).put(Ph(this.M,t))}En(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=Ga(t),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let h=null;return Yl(e).Wt({range:u,index:"queryTargetsIndex"},(v,A,G)=>{const K=nd(A);nu(t,K.target)&&(h=K,G.done())}).next(()=>h)}addMatchingKeys(e,t,o){const u=[],h=Ql(e);return t.forEach(v=>{const A=ut(v.path);u.push(h.put({targetId:o,path:A})),u.push(this.referenceDelegate.addReference(e,o,v))}),pt.waitFor(u)}removeMatchingKeys(e,t,o){const u=Ql(e);return pt.forEach(t,h=>{const v=ut(h.path);return pt.waitFor([u.delete([o,v]),this.referenceDelegate.removeReference(e,o,h)])})}removeMatchingKeysForTargetId(e,t){const o=Ql(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),u=Ql(e);let h=On();return u.Wt({range:o,jt:!0},(v,A,G)=>{const K=En(v[1]),ce=new zt(K);h=h.add(ce)}).next(()=>h)}containsKey(e,t){const o=ut(t.path),u=IDBKeyRange.bound([o],[Aa(o)],!1,!0);let h=0;return Ql(e).Wt({index:"documentTargetsIndex",jt:!0,range:u},([v,A],G,K)=>{0!==v&&(h++,K.done())}).next(()=>h>0)}Et(e,t){return Yl(e).get(t).next(o=>o?nd(o):null)}}function Yl(i){return wo(i,"targets")}function qy(i){return wo(i,"targetGlobal")}function Ql(i){return wo(i,"targetDocuments")}function Ic(i){return rp.apply(this,arguments)}function rp(){return rp=(0,oe.Z)(function*(i){if(i.code!==q.FAILED_PRECONDITION||i.message!==Sg)throw i;Ft("LocalStore","Unexpectedly lost primary lease")}),rp.apply(this,arguments)}function Lg([i,e],[t,o]){const u=Ln(i,t);return 0===u?Ln(e,o):u}class Vg{constructor(e){this.An=e,this.buffer=new wr(Lg),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Lg(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class $v{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const o=this.Vn?3e5:6e4;Ft("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,oe.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(u){il(u)?Ft("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u):yield Ic(u)}yield t.Sn(e)}))}}class Wy{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return pt.resolve(Kr.A);const o=new Vg(t);return this.Dn.forEachTarget(e,u=>o.Pn(u.sequenceNumber)).next(()=>this.Dn.xn(e,u=>o.Pn(u))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.Dn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ft("LruGarbageCollector","Garbage collection skipped; disabled"),pt.resolve(ol)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ol):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let o,u,h,v,A,G,K;const ce=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(xe=>(xe>this.params.maximumSequenceNumbersToCollect?(Ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${xe}`),u=this.params.maximumSequenceNumbersToCollect):u=xe,v=Date.now(),this.nthSequenceNumber(e,u))).next(xe=>(o=xe,A=Date.now(),this.removeTargets(e,o,t))).next(xe=>(h=xe,G=Date.now(),this.removeOrphanedDocuments(e,o))).next(xe=>(K=Date.now(),Ha()<=Ge.in.DEBUG&&Ft("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-ce}ms\n\tDetermined least recently used ${u} in `+(A-v)+`ms\n\tRemoved ${h} targets in `+(G-A)+`ms\n\tRemoved ${xe} documents in `+(K-G)+`ms\nTotal Duration: ${K-ce}ms`),pt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:xe})))}}class Gv{constructor(e,t){this.db=e,this.garbageCollector=new Wy(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(u=>o+u))}kn(e){let t=0;return this.xn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(o,u)=>t(u))}addReference(e,t,o){return Ud(e,o)}removeReference(e,t,o){return Ud(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Ud(e,t)}On(e,t){return function(o,u){let h=!1;return Vd(o).zt(v=>tp(o,v,u).next(A=>(A&&(h=!0),pt.resolve(!A)))).next(()=>h)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let h=0;return this.Mn(e,(v,A)=>{if(A<=t){const G=this.On(e,v).next(K=>{if(!K)return h++,o.getEntry(e,v).next(()=>(o.removeEntry(v,Sn.min()),Ql(e).delete([0,ut(v.path)])))});u.push(G)}}).next(()=>pt.waitFor(u)).next(()=>o.apply(e)).next(()=>h)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Ud(e,t)}Mn(e,t){const o=Ql(e);let u,h=Kr.A;return o.Wt({index:"documentTargetsIndex"},([v,A],{path:G,sequenceNumber:K})=>{0===v?(h!==Kr.A&&t(new zt(En(u)),h),h=K,u=G):h=Kr.A}).next(()=>{h!==Kr.A&&t(new zt(En(u)),h)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ud(i,e){return Ql(i).put((o=i.currentSequenceNumber,{targetId:0,path:ut(e.path),sequenceNumber:o}));var o}class ip{constructor(){this.changes=new bt(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ae.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?pt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ky{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return ad(e).put(o)}removeEntry(e,t,o){return ad(e).delete(function(u,h){const v=u.path.toArray();return[v.slice(0,v.length-2),v[v.length-2],Oh(h),v[v.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Fn(e,o)))}getEntry(e,t){let o=ae.newInvalidDocument(t);return ad(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Vh(t))},(u,h)=>{o=this.$n(t,h)}).next(()=>o)}Bn(e,t){let o={size:0,document:ae.newInvalidDocument(t)};return ad(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Vh(t))},(u,h)=>{o={document:this.$n(t,h),size:od(h)}}).next(()=>o)}getEntries(e,t){let o=Xt();return this.Ln(e,t,(u,h)=>{const v=this.$n(u,h);o=o.insert(u,v)}).next(()=>o)}Un(e,t){let o=Xt(),u=new ar(zt.comparator);return this.Ln(e,t,(h,v)=>{const A=this.$n(h,v);o=o.insert(h,A),u=u.insert(h,od(v))}).next(()=>({documents:o,qn:u}))}Ln(e,t,o){if(t.isEmpty())return pt.resolve();let u=new wr(Qy);t.forEach(G=>u=u.add(G));const h=IDBKeyRange.bound(Vh(u.first()),Vh(u.last())),v=u.getIterator();let A=v.getNext();return ad(e).Wt({index:"documentKeyIndex",range:h},(G,K,ce)=>{const xe=zt.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;A&&Qy(A,xe)<0;)o(A,null),A=v.getNext();A&&A.isEqual(xe)&&(o(A,K),A=v.hasNext()?v.getNext():null),A?ce.Ut(Vh(A)):ce.done()}).next(()=>{for(;A;)o(A,null),A=v.hasNext()?v.getNext():null})}getAllFromCollection(e,t,o){const u=[t.popLast().toArray(),t.lastSegment(),Oh(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],h=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ad(e).qt(IDBKeyRange.bound(u,h,!0)).next(v=>{let A=Xt();for(const G of v){const K=this.$n(zt.fromSegments(G.prefixPath.concat(G.collectionGroup,G.documentId)),G);A=A.insert(K.key,K)}return A})}getAllFromCollectionGroup(e,t,o,u){let h=Xt();const v=Yy(t,o),A=Yy(t,xn.max());return ad(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,A,!0)},(G,K,ce)=>{const xe=this.$n(zt.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);h=h.insert(xe.key,xe),h.size===u&&ce.done()}).next(()=>h)}newChangeBuffer(e){return new sp(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Zy(e).get("remoteDocumentGlobalKey").next(t=>(M(!!t),t))}Fn(e,t){return Zy(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const o=function Yf(i,e){let t;if(e.document)t=Na(i.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=zt.fromSegments(e.noDocument.path),u=_c(e.noDocument.readTime);t=ae.newNoDocument(o,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return E();{const o=zt.fromSegments(e.unknownDocument.path),u=_c(e.unknownDocument.version);t=ae.newUnknownDocument(o,u)}}return e.readTime&&t.setReadTime(function(o){const u=new Or(o[0],o[1]);return Sn.fromTimestamp(u)}(e.readTime)),t}(this.M,t);if(!o.isNoDocument()||!o.version.isEqual(Sn.min()))return o}return ae.newInvalidDocument(e)}}class sp extends ip{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new bt(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const t=[];let o=0,u=new wr((h,v)=>Ln(h.canonicalString(),v.canonicalString()));return this.changes.forEach((h,v)=>{const A=this.Gn.get(h);if(t.push(this.Kn.removeEntry(e,h,A.readTime)),v.isValidDocument()){const G=ed(this.Kn.M,v);u=u.add(h.path.popLast()),o+=od(G)-A.size,t.push(this.Kn.addEntry(e,h,G))}else if(o-=A.size,this.trackRemovals){const G=ed(this.Kn.M,v.convertToNoDocument(Sn.min()));t.push(this.Kn.addEntry(e,h,G))}}),u.forEach(h=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,h))}),t.push(this.Kn.updateMetadata(e,o)),pt.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(o=>(this.Gn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:o,qn:u})=>(u.forEach((h,v)=>{this.Gn.set(h,{size:v,readTime:o.get(h).readTime})}),o))}}function Zy(i){return wo(i,"remoteDocumentGlobal")}function ad(i){return wo(i,"remoteDocumentsV14")}function Vh(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Yy(i,e){const t=e.documentKey.path.toArray();return[i,Oh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Qy(i,e){const t=i.path.toArray(),o=e.path.toArray();let u=0;for(let h=0;h<t.length-2&&h<o.length-2;++h)if(u=Ln(t[h],o[h]),u)return u;return u=Ln(t.length,o.length),u||(u=Ln(t[t.length-2],o[o.length-2]),u||Ln(t[t.length-1],o[o.length-1]))}class zv{constructor(e){this.M=e}kt(e,t,o,u){const h=new rl("createOrUpgrade",t);var A;o<1&&u>=1&&(e.createObjectStore("owner"),(A=e).createObjectStore("mutationQueues",{keyPath:"userId"}),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fn,{unique:!0}),A.createObjectStore("documentMutations"),Jy(e),function(A){A.createObjectStore("remoteDocuments")}(e));let v=pt.resolve();return o<3&&u>=3&&(0!==o&&(function(A){A.deleteObjectStore("targetDocuments"),A.deleteObjectStore("targets"),A.deleteObjectStore("targetGlobal")}(e),Jy(e)),v=v.next(()=>function(A){const G=A.store("targetGlobal"),K={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Sn.min().toTimestamp(),targetCount:0};return G.put("targetGlobalKey",K)}(h))),o<4&&u>=4&&(0!==o&&(v=v.next(()=>function(A,G){return G.store("mutations").qt().next(K=>{A.deleteObjectStore("mutations"),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fn,{unique:!0});const ce=G.store("mutations"),xe=K.map(lt=>ce.put(lt));return pt.waitFor(xe)})}(e,h))),v=v.next(()=>{!function(A){A.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(v=v.next(()=>this.Qn(h))),o<6&&u>=6&&(v=v.next(()=>(function(A){A.createObjectStore("remoteDocumentGlobal")}(e),this.jn(h)))),o<7&&u>=7&&(v=v.next(()=>this.Wn(h))),o<8&&u>=8&&(v=v.next(()=>this.zn(e,h))),o<9&&u>=9&&(v=v.next(()=>{!function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(v=v.next(()=>this.Hn(h))),o<11&&u>=11&&(v=v.next(()=>{(function(A){A.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(A){A.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(v=v.next(()=>{!function(A){const G=A.createObjectStore("documentOverlays",{keyPath:qf});G.createIndex("collectionPathOverlayIndex",Uy,{unique:!1}),G.createIndex("collectionGroupOverlayIndex",Dg,{unique:!1})}(e)})),o<13&&u>=13&&(v=v.next(()=>function(A){const G=A.createObjectStore("remoteDocumentsV14",{keyPath:Pd});G.createIndex("documentKeyIndex",Th),G.createIndex("collectionGroupIndex",bl)}(e)).next(()=>this.Jn(e,h)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(v=v.next(()=>{!function(A){A.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),A.createObjectStore("indexState",{keyPath:Nd}).createIndex("sequenceNumberIndex",Dh,{unique:!1}),A.createObjectStore("indexEntries",{keyPath:zf}).createIndex("documentKeyIndex",kd,{unique:!1})}(e)})),v}jn(e){let t=0;return e.store("remoteDocuments").Wt((o,u)=>{t+=od(u)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Qn(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.qt().next(u=>pt.forEach(u,h=>{const v=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return o.qt("userMutationsIndex",v).next(A=>pt.forEach(A,G=>{M(G.userId===h.userId);const K=td(this.M,G);return ep(e,h.userId,K).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const h=[];return o.Wt((v,A)=>{const G=new fr(v),K=[0,ut(G)];h.push(t.get(K).next(ce=>ce?pt.resolve():t.put({targetId:0,path:ut(G),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>pt.waitFor(h))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:Qc});const o=t.store("collectionParents"),u=new kh,h=v=>{if(u.add(v)){const A=v.lastSegment(),G=v.popLast();return o.put({collectionId:A,parent:ut(G)})}};return t.store("remoteDocuments").Wt({jt:!0},(v,A)=>{const G=new fr(v);return h(G.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([v,A,G],K)=>{const ce=En(A);return h(ce.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((o,u)=>{const h=nd(u),v=Ph(this.M,h);return t.put(v)})}Jn(e,t){const o=t.store("remoteDocuments"),u=[];return o.Wt((h,v)=>{const A=t.store("remoteDocumentsV14"),G=(K=v,K.document?new zt(fr.fromString(K.document.name).popFirst(5)):K.noDocument?zt.fromSegments(K.noDocument.path):K.unknownDocument?zt.fromSegments(K.unknownDocument.path):E()).path.toArray();var K;const ce={prefixPath:G.slice(0,G.length-2),collectionGroup:G[G.length-2],documentId:G[G.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};u.push(A.put(ce))}).next(()=>pt.waitFor(u))}}function Jy(i){i.createObjectStore("targetDocuments",{keyPath:Yc}).createIndex("documentTargetsIndex",Ch,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Zc,{unique:!0}),i.createObjectStore("targetGlobal")}const Ug="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Bg{constructor(e,t,o,u,h,v,A,G,K,ce,xe=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Yn=h,this.window=v,this.document=A,this.Xn=K,this.Zn=ce,this.ts=xe,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=lt=>Promise.resolve(),!Bg.vt())throw new re(q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Gv(this,u),this.hs=t+"main",this.M=new Zf(G),this.ls=new du(this.hs,this.ts,new zv(this.M)),this.fs=new np(this.referenceDelegate,this.M),this.ds=new Ky(this.M),this._s=new Hy,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===ce&&zr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new re(q.FAILED_PRECONDITION,Ug);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Kr(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var o=(0,oe.Z)(function*(u){if(t.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,oe.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,oe.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Su(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(il(e))return Ft("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ft("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Uh(e).get("owner").next(t=>pt.resolve(this.Ps(t)))}Vs(e){return Su(e).delete(this.clientId)}vs(){var e=this;return(0,oe.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=wo(o,"clientMetadata");return u.qt().next(h=>{const v=e.Ds(h,18e5),A=h.filter(G=>-1===v.indexOf(G));return pt.forEach(A,G=>u.delete(G.clientId)).next(()=>A)})}).catch(()=>[]);if(e.ws)for(const o of t)e.ws.removeItem(e.Cs(o.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?pt.resolve(!0):Uh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new re(q.FAILED_PRECONDITION,Ug);return!1}}return!(!this.networkEnabled||!this.inForeground)||Su(e).qt().next(o=>void 0===this.Ds(o,5e3).find(u=>{if(this.clientId!==u.clientId){const v=!this.inForeground&&u.inForeground,A=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||v&&A)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ft("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,oe.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Rh(t,Kr.A);return e.Rs(o).next(()=>e.Vs(o))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(o=>this.Ss(o.updateTimeMs,t)&&!this.xs(o.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>Su(e).qt().next(t=>this.Ds(t,18e5).map(o=>o.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return Fg.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new Fh(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return Xf.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,o){Ft("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",h=14===(v=this.ts)?By:13===v?Sh:12===v?Ag:11===v?Ah:void E();var v;let A;return this.ls.runTransaction(e,u,h,G=>(A=new Rh(G,this.es?this.es.next():Kr.A),"readwrite-primary"===t?this.Es(A).next(K=>!!K||this.As(A)).next(K=>{if(!K)throw zr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new re(q.FAILED_PRECONDITION,Sg);return o(A)}).next(K=>this.bs(A).next(()=>K)):this.$s(A).next(()=>o(A)))).then(G=>(A.raiseOnCommittedEvent(),G))}$s(e){return Uh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new re(q.FAILED_PRECONDITION,Ug)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Uh(e).put("owner",t)}static vt(){return du.vt()}Rs(e){const t=Uh(e);return t.get("owner").next(o=>this.Ps(o)?(Ft("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):pt.resolve())}Ss(e,t){const o=Date.now();return!(e<o-t||e>o&&(zr(`Detected an update time that is in the future: ${e} > ${o}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,ot.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const o=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Ft("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return zr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){zr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Uh(i){return wo(i,"owner")}function Su(i){return wo(i,"clientMetadata")}function Bd(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Xy{constructor(e,t,o){this.ds=e,this.Bs=t,this.indexManager=o}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(o=>this.Us(e,t,o))}Us(e,t,o){return this.ds.getEntry(e,t).next(u=>{for(const h of o)h.applyToLocalView(u);return u})}qs(e,t){e.forEach((o,u)=>{for(const h of t)h.applyToLocalView(u)})}Ks(e,t){return this.ds.getEntries(e,t).next(o=>this.Gs(e,o).next(()=>o))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>this.qs(t,o))}Qs(e,t,o){return zt.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.js(e,t.path):za(t)?this.Ws(e,t,o):this.zs(e,t,o);var u}js(e,t){return this.Ls(e,new zt(t)).next(o=>{let u=rn();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}Ws(e,t,o){const u=t.collectionGroup;let h=rn();return this.indexManager.getCollectionParents(e,u).next(v=>pt.forEach(v,A=>{const G=(K=t,ce=A.child(u),new iu(ce,null,K.explicitOrderBy.slice(),K.filters.slice(),K.limit,K.limitType,K.startAt,K.endAt));var K,ce;return this.zs(e,G,o).next(K=>{K.forEach((ce,xe)=>{h=h.insert(ce,xe)})})}).next(()=>h))}zs(e,t,o){let u;return this.ds.getAllFromCollection(e,t.path,o).next(h=>(u=h,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(h=>{for(const v of h)for(const A of v.mutations){const G=A.key;let K=u.get(G);null==K&&(K=ae.newInvalidDocument(G),u=u.insert(G,K)),el(A,K,v.localWriteTime),K.isFoundDocument()||(u=u.remove(G))}}).next(()=>(u.forEach((h,v)=>{ou(t,v)||(u=u.remove(h))}),u))}}class Bh{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Hs=o,this.Js=u}static Ys(e,t){let o=On(),u=On();for(const h of t.docChanges)switch(h.type){case 0:o=o.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Bh(e,t.fromCache,o,u)}}class jh{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,o,u){return this.ti(e,t).next(h=>h||this.ei(e,t,u,o)).next(h=>h||this.ni(e,t))}ti(e,t){return pt.resolve(null)}ei(e,t,o,u){return function Uc(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}(t)||u.isEqual(Sn.min())?this.ni(e,t):this.Zs.Ks(e,o).next(h=>{const v=this.si(t,h);return this.ii(t,v,o,u)?this.ni(e,t):(Ha()<=Ge.in.DEBUG&&Ft("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Lo(t)),this.ri(e,v,t,Bn(u,-1)))})}si(e,t){let o=new wr(Bc(e));return t.forEach((u,h)=>{ou(e,h)&&(o=o.add(h))}),o}ii(e,t,o,u){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const h="F"===e.limitType?t.last():t.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}ni(e,t){return Ha()<=Ge.in.DEBUG&&Ft("QueryEngine","Using full collection scan to execute query:",Lo(t)),this.Zs.Qs(e,t,xn.min())}ri(e,t,o,u){return this.Zs.Qs(e,o,u).next(h=>(t.forEach(v=>{h=h.insert(v.key,v)}),h))}}class jg{constructor(e,t,o,u){this.persistence=e,this.oi=t,this.M=u,this.ui=new ar(Ln),this.ai=new bt(h=>Ga(h),nu),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(o)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new Xy(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function Hh(i,e,t,o){return new jg(i,e,t,o)}function Hg(i,e){return al.apply(this,arguments)}function al(){return al=(0,oe.Z)(function*(i,e){const t=z(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.Bs.getAllMutationBatches(o).next(h=>(u=h,t.li(e),t.Bs.getAllMutationBatches(o))).next(h=>{const v=[],A=[];let G=On();for(const K of u){v.push(K.batchId);for(const ce of K.mutations)G=G.add(ce.key)}for(const K of h){A.push(K.batchId);for(const ce of K.mutations)G=G.add(ce.key)}return t.fi.Ks(o,G).next(K=>({di:K,removedBatchIds:v,addedBatchIds:A}))})})}),al.apply(this,arguments)}function $g(i,e){const t=z(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),h=t.hi.newChangeBuffer({trackRemovals:!0});return function(v,A,G,K){const ce=G.batch,xe=ce.keys();let lt=pt.resolve();return xe.forEach(Rt=>{lt=lt.next(()=>K.getEntry(A,Rt)).next(Pt=>{const fn=G.docVersions.get(Rt);M(null!==fn),Pt.version.compareTo(fn)<0&&(ce.applyToRemoteDocument(Pt,G),Pt.isValidDocument()&&(Pt.setReadTime(G.commitVersion),K.addEntry(Pt)))})}),lt.next(()=>v.Bs.removeMutationBatch(A,ce))}(t,o,e,h).next(()=>h.apply(o)).next(()=>t.Bs.performConsistencyCheck(o)).next(()=>t.fi.Ks(o,u))})}function Gg(i){const e=z(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function op(i,e){const t=z(i),o=e.snapshotVersion;let u=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const v=t.hi.newChangeBuffer({trackRemovals:!0});u=t.ui;const A=[];e.targetChanges.forEach((K,ce)=>{const xe=u.get(ce);if(!xe)return;A.push(t.fs.removeMatchingKeys(h,K.removedDocuments,ce).next(()=>t.fs.addMatchingKeys(h,K.addedDocuments,ce)));let lt=xe.withSequenceNumber(h.currentSequenceNumber);var Rt,Pt,fn;e.targetMismatches.has(ce)?lt=lt.withResumeToken(Hi.EMPTY_BYTE_STRING,Sn.min()).withLastLimboFreeSnapshotVersion(Sn.min()):K.resumeToken.approximateByteSize()>0&&(lt=lt.withResumeToken(K.resumeToken,o)),u=u.insert(ce,lt),Pt=lt,fn=K,(0===(Rt=xe).resumeToken.approximateByteSize()||Pt.snapshotVersion.toMicroseconds()-Rt.snapshotVersion.toMicroseconds()>=3e8||fn.addedDocuments.size+fn.modifiedDocuments.size+fn.removedDocuments.size>0)&&A.push(t.fs.updateTargetData(h,lt))});let G=Xt();if(e.documentUpdates.forEach(K=>{e.resolvedLimboDocuments.has(K)&&A.push(t.persistence.referenceDelegate.updateLimboDocument(h,K))}),A.push(zg(h,v,e.documentUpdates).next(K=>{G=K})),!o.isEqual(Sn.min())){const K=t.fs.getLastRemoteSnapshotVersion(h).next(ce=>t.fs.setTargetsMetadata(h,h.currentSequenceNumber,o));A.push(K)}return pt.waitFor(A).next(()=>v.apply(h)).next(()=>t.fi.Gs(h,G)).next(()=>G)}).then(h=>(t.ui=u,h))}function zg(i,e,t){let o=On();return t.forEach(u=>o=o.add(u)),e.getEntries(i,o).next(u=>{let h=Xt();return t.forEach((v,A)=>{const G=u.get(v);A.isNoDocument()&&A.version.isEqual(Sn.min())?(e.removeEntry(v,A.readTime),h=h.insert(v,A)):!G.isValidDocument()||A.version.compareTo(G.version)>0||0===A.version.compareTo(G.version)&&G.hasPendingWrites?(e.addEntry(A),h=h.insert(v,A)):Ft("LocalStore","Ignoring outdated watch update for ",v,". Current version:",G.version," Watch version:",A.version)}),h})}function qg(i,e){const t=z(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(o,e)))}function ud(i,e){const t=z(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.fs.getTargetData(o,e).next(h=>h?(u=h,pt.resolve(u)):t.fs.allocateTargetId(o).next(v=>(u=new sl(e,v,0,o.currentSequenceNumber),t.fs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.ui.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.ui=t.ui.insert(o.targetId,o),t.ai.set(e,o.targetId)),o})}function ld(i,e,t){return Tc.apply(this,arguments)}function Tc(){return Tc=(0,oe.Z)(function*(i,e,t){const o=z(i),u=o.ui.get(e),h=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",h,v=>o.persistence.referenceDelegate.removeTarget(v,u)))}catch(v){if(!il(v))throw v;Ft("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}o.ui=o.ui.remove(e),o.ai.delete(u.target)}),Tc.apply(this,arguments)}function Cl(i,e,t){const o=z(i);let u=Sn.min(),h=On();return o.persistence.runTransaction("Execute query","readonly",v=>function(A,G,K){const ce=z(A),xe=ce.ai.get(K);return void 0!==xe?pt.resolve(ce.ui.get(xe)):ce.fs.getTargetData(G,K)}(o,v,Fo(e)).next(A=>{if(A)return u=A.lastLimboFreeSnapshotVersion,o.fs.getMatchingKeysForTargetId(v,A.targetId).next(G=>{h=G})}).next(()=>o.oi.Qs(v,e,t?u:Sn.min(),t?h:On())).next(A=>(cd(o,Ku(e),A),{documents:A,_i:h})))}function $h(i,e){const t=z(i),o=z(t.fs),u=t.ui.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",h=>o.Et(h,e).next(v=>v?v.target:null))}function Cc(i,e){const t=z(i),o=t.ci.get(e)||Sn.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.hi.getAllFromCollectionGroup(u,e,Bn(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(cd(t,e,u),u))}function cd(i,e,t){let o=Sn.min();t.forEach((u,h)=>{h.readTime.compareTo(o)>0&&(o=h.readTime)}),i.ci.set(e,o)}function ap(){return ap=(0,oe.Z)(function*(i,e,t,o){const u=z(i);let h=On(),v=Xt();for(const K of t){const ce=e.wi(K.metadata.name);K.document&&(h=h.add(ce));const xe=e.mi(K);xe.setReadTime(e.gi(K.metadata.readTime)),v=v.insert(ce,xe)}const A=u.hi.newChangeBuffer({trackRemovals:!0}),G=yield ud(u,(K=o,Fo(Pa(fr.fromString(`__bundle__/docs/${K}`)))));var K;return u.persistence.runTransaction("Apply bundle documents","readwrite",K=>zg(K,A,v).next(ce=>(A.apply(K),ce)).next(ce=>u.fs.removeMatchingKeysForTargetId(K,G.targetId).next(()=>u.fs.addMatchingKeys(K,h,G.targetId)).next(()=>u.fi.Gs(K,ce)).next(()=>ce)))}),ap.apply(this,arguments)}function Wg(i,e){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,oe.Z)(function*(i,e,t=On()){const o=yield ud(i,Fo(Nh(e.bundledQuery))),u=z(i);return u.persistence.runTransaction("Save named query","readwrite",h=>{const v=_r(e.readTime);if(o.snapshotVersion.compareTo(v)>=0)return u._s.saveNamedQuery(h,e);const A=o.withResumeToken(Hi.EMPTY_BYTE_STRING,v);return u.ui=u.ui.insert(A.targetId,A),u.fs.updateTargetData(h,A).next(()=>u.fs.removeMatchingKeysForTargetId(h,o.targetId)).next(()=>u.fs.addMatchingKeys(h,t,o.targetId)).next(()=>u._s.saveNamedQuery(h,e))})}),Gh.apply(this,arguments)}class up{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return pt.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var o;return this.yi.set(t.id,{id:(o=t).id,version:o.version,createTime:_r(o.createTime)}),pt.resolve()}getNamedQuery(e,t){return pt.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(o=t).name,query:Nh(o.bundledQuery),readTime:_r(o.readTime)}),pt.resolve();var o}}class lp{constructor(){this.overlays=new ar(zt.comparator),this.Ii=new Map}getOverlay(e,t){return pt.resolve(this.overlays.get(t))}saveOverlays(e,t,o){return o.forEach((u,h)=>{this.Xt(e,t,h)}),pt.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.Ii.get(o);return void 0!==u&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Ii.delete(o)),pt.resolve()}getOverlaysForCollection(e,t,o){const u=In(),h=t.length+1,v=new zt(t.child("")),A=this.overlays.getIteratorFrom(v);for(;A.hasNext();){const G=A.getNext().value,K=G.getKey();if(!t.isPrefixOf(K.path))break;K.path.length===h&&G.largestBatchId>o&&u.set(G.getKey(),G)}return pt.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let h=new ar((K,ce)=>K-ce);const v=this.overlays.getIterator();for(;v.hasNext();){const K=v.getNext().value;if(K.getKey().getCollectionGroup()===t&&K.largestBatchId>o){let ce=h.get(K.largestBatchId);null===ce&&(ce=In(),h=h.insert(K.largestBatchId,ce)),ce.set(K.getKey(),K)}}const A=In(),G=h.getIterator();for(;G.hasNext()&&(G.getNext().value.forEach((K,ce)=>A.set(K,ce)),!(A.size()>=u)););return pt.resolve(A)}Xt(e,t,o){if(null===o)return;const u=this.overlays.get(o.key);if(null!==u){const v=this.Ii.get(u.largestBatchId).delete(o.key);this.Ii.set(u.largestBatchId,v)}this.overlays=this.overlays.insert(o.key,new xh(t,o));let h=this.Ii.get(t);void 0===h&&(h=On(),this.Ii.set(t,h)),this.Ii.set(t,h.add(o.key))}}class zh{constructor(){this.Ti=new wr(Hs.Ei),this.Ai=new wr(Hs.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const o=new Hs(e,t);this.Ti=this.Ti.add(o),this.Ai=this.Ai.add(o)}bi(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.Pi(new Hs(e,t))}Vi(e,t){e.forEach(o=>this.removeReference(o,t))}vi(e){const t=new zt(new fr([])),o=new Hs(t,e),u=new Hs(t,e+1),h=[];return this.Ai.forEachInRange([o,u],v=>{this.Pi(v),h.push(v.key)}),h}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new zt(new fr([])),o=new Hs(t,e),u=new Hs(t,e+1);let h=On();return this.Ai.forEachInRange([o,u],v=>{h=h.add(v.key)}),h}containsKey(e){const t=new Hs(e,0),o=this.Ti.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Hs{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return zt.comparator(e.key,t.key)||Ln(e.Ci,t.Ci)}static Ri(e,t){return Ln(e.Ci,t.Ci)||zt.comparator(e.key,t.key)}}class e_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new wr(Hs.Ei)}checkEmpty(e){return pt.resolve(0===this.Bs.length)}addMutationBatch(e,t,o,u){const h=this.xi;this.xi++;const v=new Jc(h,t,o,u);this.Bs.push(v);for(const A of u)this.Ni=this.Ni.add(new Hs(A.key,h)),this.indexManager.addToCollectionParentIndex(e,A.key.path.popLast());return pt.resolve(v)}lookupMutationBatch(e,t){return pt.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.Mi(t+1),h=u<0?0:u;return pt.resolve(this.Bs.length>h?this.Bs[h]:null)}getHighestUnacknowledgedBatchId(){return pt.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return pt.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Hs(t,0),u=new Hs(t,Number.POSITIVE_INFINITY),h=[];return this.Ni.forEachInRange([o,u],v=>{const A=this.ki(v.Ci);h.push(A)}),pt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new wr(Ln);return t.forEach(u=>{const h=new Hs(u,0),v=new Hs(u,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([h,v],A=>{o=o.add(A.Ci)})}),pt.resolve(this.Oi(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let h=o;zt.isDocumentKey(h)||(h=h.child(""));const v=new Hs(new zt(h),0);let A=new wr(Ln);return this.Ni.forEachWhile(G=>{const K=G.key.path;return!!o.isPrefixOf(K)&&(K.length===u&&(A=A.add(G.Ci)),!0)},v),pt.resolve(this.Oi(A))}Oi(e){const t=[];return e.forEach(o=>{const u=this.ki(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){M(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let o=this.Ni;return pt.forEach(t.mutations,u=>{const h=new Hs(u.key,t.batchId);return o=o.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Ni=o})}_n(e){}containsKey(e,t){const o=new Hs(t,0),u=this.Ni.firstAfterOrEqual(o);return pt.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return pt.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class Kg{constructor(e){this.$i=e,this.docs=new ar(zt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),h=u?u.size:0,v=this.$i(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:v}),this.size+=v-h,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return pt.resolve(o?o.document.mutableCopy():ae.newInvalidDocument(t))}getEntries(e,t){let o=Xt();return t.forEach(u=>{const h=this.docs.get(u);o=o.insert(u,h?h.document.mutableCopy():ae.newInvalidDocument(u))}),pt.resolve(o)}getAllFromCollection(e,t,o){let u=Xt();const h=new zt(t.child("")),v=this.docs.getIteratorFrom(h);for(;v.hasNext();){const{key:A,value:{document:G}}=v.getNext();if(!t.isPrefixOf(A.path))break;A.path.length>t.length+1||gs(Sr(G),o)<=0||(u=u.insert(G.key,G.mutableCopy()))}return pt.resolve(u)}getAllFromCollectionGroup(e,t,o,u){E()}Bi(e,t){return pt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new qv(this)}getSize(e){return pt.resolve(this.size)}}class qv extends ip{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.Kn.addEntry(e,u)):this.Kn.removeEntry(o)}),pt.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class Zg{constructor(e){this.persistence=e,this.Li=new bt(t=>Ga(t),nu),this.lastRemoteSnapshotVersion=Sn.min(),this.highestTargetId=0,this.Ui=0,this.qi=new zh,this.targetCount=0,this.Ki=Tl.gn()}forEachTarget(e,t){return this.Li.forEach((o,u)=>t(u)),pt.resolve()}getLastRemoteSnapshotVersion(e){return pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pt.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),pt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Ui&&(this.Ui=t),pt.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new Tl(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,pt.resolve()}updateTargetData(e,t){return this.Tn(t),pt.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,pt.resolve()}removeTargets(e,t,o){let u=0;const h=[];return this.Li.forEach((v,A)=>{A.sequenceNumber<=t&&null===o.get(A.targetId)&&(this.Li.delete(v),h.push(this.removeMatchingKeysForTargetId(e,A.targetId)),u++)}),pt.waitFor(h).next(()=>u)}getTargetCount(e){return pt.resolve(this.targetCount)}getTargetData(e,t){const o=this.Li.get(t)||null;return pt.resolve(o)}addMatchingKeys(e,t,o){return this.qi.bi(t,o),pt.resolve()}removeMatchingKeys(e,t,o){this.qi.Vi(t,o);const u=this.persistence.referenceDelegate,h=[];return u&&t.forEach(v=>{h.push(u.markPotentiallyOrphaned(e,v))}),pt.waitFor(h)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),pt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.qi.Di(t);return pt.resolve(o)}containsKey(e,t){return pt.resolve(this.qi.containsKey(t))}}class Yg{constructor(e,t){this.Gi={},this.overlays={},this.es=new Kr(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new Zg(this),this.indexManager=new kg,this.ds=new Kg(o=>this.referenceDelegate.Qi(o)),this.M=new Zf(t),this._s=new up(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Gi[e.toKey()];return o||(o=new e_(t,this.referenceDelegate),this.Gi[e.toKey()]=o),o}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,o){Ft("MemoryPersistence","Starting transaction:",e);const u=new t_(this.es.next());return this.referenceDelegate.ji(),o(u).next(h=>this.referenceDelegate.Wi(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}zi(e,t){return pt.or(Object.values(this.Gi).map(o=>()=>o.containsKey(e,t)))}}class t_ extends Wf{constructor(e){super(),this.currentSequenceNumber=e}}class qh{constructor(e){this.persistence=e,this.Hi=new zh,this.Ji=null}static Yi(e){return new qh(e)}get Xi(){if(this.Ji)return this.Ji;throw E()}addReference(e,t,o){return this.Hi.addReference(o,t),this.Xi.delete(o.toString()),pt.resolve()}removeReference(e,t,o){return this.Hi.removeReference(o,t),this.Xi.add(o.toString()),pt.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),pt.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(u=>this.Xi.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(h=>this.Xi.add(h.toString()))}).next(()=>o.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pt.forEach(this.Xi,o=>{const u=zt.fromPath(o);return this.Zi(e,u).next(h=>{h||t.removeEntry(u,Sn.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(o=>{o?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return pt.or([()=>pt.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function Qg(i,e){return`firestore_clients_${i}_${e}`}function Jg(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function ba(i,e){return`firestore_targets_${i}_${e}`}class Wh{constructor(e,t,o,u){this.user=e,this.batchId=t,this.state=o,this.error=u}static tr(e,t,o){const u=JSON.parse(o);let h,v="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return v&&u.error&&(v="string"==typeof u.error.message&&"string"==typeof u.error.code,v&&(h=new re(u.error.code,u.error.message))),v?new Wh(e,t,u.state,h):(zr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jd{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static tr(e,t){const o=JSON.parse(t);let u,h="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(u=new re(o.error.code,o.error.message))),h?new jd(e,o.state,u):(zr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cp{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const o=JSON.parse(t);let u="object"==typeof o&&o.activeTargetIds instanceof Array,h=Un();for(let v=0;u&&v<o.activeTargetIds.length;++v)u=Ko(o.activeTargetIds[v]),h=h.add(o.activeTargetIds[v]);return u?new cp(e,h):(zr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Xg{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Xg(t.clientId,t.onlineState):(zr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Kh{constructor(){this.activeTargetIds=Un()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class em{constructor(e,t,o,u,h){this.window=e,this.Yn=t,this.persistenceKey=o,this.ir=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new ar(Ln),this.started=!1,this.cr=[];const v=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.hr=Qg(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new Kh),this.dr=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(A){return`firestore_bundle_loaded_v2_${A}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,oe.Z)(function*(){const t=yield e.syncEngine.Fs();for(const u of t){if(u===e.ir)continue;const h=e.getItem(Qg(e.persistenceKey,u));if(h){const v=cp.tr(u,h);v&&(e.ar=e.ar.insert(v.clientId,v))}}e.yr();const o=e.storage.getItem(e.mr);if(o){const u=e.pr(o);u&&e.Ir(u)}for(const u of e.cr)e.ur(u);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((o,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,o){this.Er(e,t,o),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(ba(this.persistenceKey,e));if(o){const u=jd.tr(e,o);u&&(t=u.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ba(this.persistenceKey,e))}updateQueryState(e,t,o){this.br(e,t,o)}handleUserChange(e,t,o){t.forEach(u=>{this.Ar(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ft("SharedClientState","READ",e,t),t}setItem(e,t){Ft("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ft("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Ft("SharedClientState","EVENT",o.key,o.newValue),o.key===this.hr)return void zr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,oe.Z)(function*(){if(t.started){if(null!==o.key)if(t.dr.test(o.key)){if(null==o.newValue){const u=t.vr(o.key);return t.Sr(u,null)}{const u=t.Dr(o.key,o.newValue);if(u)return t.Sr(u.clientId,u)}}else if(t._r.test(o.key)){if(null!==o.newValue){const u=t.Cr(o.key,o.newValue);if(u)return t.Nr(u)}}else if(t.wr.test(o.key)){if(null!==o.newValue){const u=t.kr(o.key,o.newValue);if(u)return t.Mr(u)}}else if(o.key===t.mr){if(null!==o.newValue){const u=t.pr(o.newValue);if(u)return t.Ir(u)}}else if(o.key===t.lr){const u=function(h){let v=Kr.A;if(null!=h)try{const A=JSON.parse(h);M("number"==typeof A),v=A}catch(A){zr("SharedClientState","Failed to read sequence number from WebStorage",A)}return v}(o.newValue);u!==Kr.A&&t.sequenceNumberHandler(u)}else if(o.key===t.gr){const u=t.Or(o.newValue);yield Promise.all(u.map(h=>t.syncEngine.Fr(h)))}}else t.cr.push(o)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,o){const u=new Wh(this.currentUser,e,t,o),h=Jg(this.persistenceKey,this.currentUser,e);this.setItem(h,u.er())}Ar(e){const t=Jg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,o){const u=ba(this.persistenceKey,e),h=new jd(e,t,o);this.setItem(u,h.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const o=this.vr(e);return cp.tr(o,t)}Cr(e,t){const o=this._r.exec(e),u=Number(o[1]);return Wh.tr(new Pi(void 0!==o[2]?o[2]:null),u,t)}kr(e,t){const o=this.wr.exec(e),u=Number(o[1]);return jd.tr(u,t)}pr(e){return Xg.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,oe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Ft("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const o=t?this.ar.insert(e,t):this.ar.remove(e),u=this.Tr(this.ar),h=this.Tr(o),v=[],A=[];return h.forEach(G=>{u.has(G)||v.push(G)}),u.forEach(G=>{h.has(G)||A.push(G)}),this.syncEngine.Lr(v,A).then(()=>{this.ar=o})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=Un();return e.forEach((o,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class tm{constructor(){this.Ur=new Kh,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,o){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Kh,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dp{Kr(e){}shutdown(){}}class hp{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Ft("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Ft("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const n_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class r_{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class i_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,o,u,h){const v=this.ho(e,t);Ft("RestConnection","Sending: ",v,o);const A={};return this.lo(A,u,h),this.fo(e,v,A,o).then(G=>(Ft("RestConnection","Received: ",G),G),G=>{throw D("RestConnection",`${e} failed with error: `,G,"url: ",v,"request:",o),G})}_o(e,t,o,u,h){return this.co(e,t,o,u,h)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+fo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,h)=>e[h]=u),o&&o.headers.forEach((u,h)=>e[h]=u)}ho(e,t){return`${this.uo}/v1/${t}:${n_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,u){return new Promise((h,v)=>{const A=new zo;A.listenOnce(Go.COMPLETE,()=>{try{switch(A.getLastErrorCode()){case ja.NO_ERROR:const K=A.getResponseJson();Ft("Connection","XHR received:",JSON.stringify(K)),h(K);break;case ja.TIMEOUT:Ft("Connection",'RPC "'+e+'" timed out'),v(new re(q.DEADLINE_EXCEEDED,"Request time out"));break;case ja.HTTP_ERROR:const ce=A.getStatus();if(Ft("Connection",'RPC "'+e+'" failed with status:',ce,"response text:",A.getResponseText()),ce>0){const xe=A.getResponseJson().error;if(xe&&xe.status&&xe.message){const lt=function(Rt){const Pt=Rt.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(Pt)>=0?Pt:q.UNKNOWN}(xe.status);v(new re(lt,xe.message))}else v(new re(q.UNKNOWN,"Server responded with status "+A.getStatus()))}else v(new re(q.UNAVAILABLE,"Connection failed."));break;default:E()}}finally{Ft("Connection",'RPC "'+e+'" completed.')}});const G=JSON.stringify(u);A.send(t,"POST",G,o,15)})}wo(e,t,o){const u=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Vs(),v=Ys(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(A.xmlHttpFactory=new Ai({})),this.lo(A.initMessageHeaders,t,o),(0,ot.uI)()||(0,ot.b$)()||(0,ot.d)()||(0,ot.w1)()||(0,ot.Mn)()||(0,ot.ru)()||(A.httpHeadersOverwriteParam="$httpHeaders");const G=u.join("");Ft("Connection","Creating WebChannel: "+G,A);const K=h.createWebChannel(G,A);let ce=!1,xe=!1;const lt=new r_({Jr:Pt=>{xe?Ft("Connection","Not sending because WebChannel is closed:",Pt):(ce||(Ft("Connection","Opening WebChannel transport."),K.open(),ce=!0),Ft("Connection","WebChannel sending:",Pt),K.send(Pt))},Yr:()=>K.close()}),Rt=(Pt,fn,er)=>{Pt.listen(fn,is=>{try{er(is)}catch(ks){setTimeout(()=>{throw ks},0)}})};return Rt(K,ho.EventType.OPEN,()=>{xe||Ft("Connection","WebChannel transport opened.")}),Rt(K,ho.EventType.CLOSE,()=>{xe||(xe=!0,Ft("Connection","WebChannel transport closed"),lt.ro())}),Rt(K,ho.EventType.ERROR,Pt=>{xe||(xe=!0,D("Connection","WebChannel transport errored:",Pt),lt.ro(new re(q.UNAVAILABLE,"The operation could not be completed")))}),Rt(K,ho.EventType.MESSAGE,Pt=>{var fn;if(!xe){const er=Pt.data[0];M(!!er);const is=er,ks=is.error||(null===(fn=is[0])||void 0===fn?void 0:fn.error);if(ks){Ft("Connection","WebChannel received error:",ks);const ti=ks.status;let eo=function(Ss){const sa=ee[Ss];if(void 0!==sa)return Ye(sa)}(ti),ss=ks.message;void 0===eo&&(eo=q.INTERNAL,ss="Unknown error status: "+ti+" with message "+ks.message),xe=!0,lt.ro(new re(eo,ss)),K.close()}else Ft("Connection","WebChannel received:",er),lt.oo(er)}}),Rt(v,Do.STAT_EVENT,Pt=>{Pt.stat===gi.PROXY?Ft("Connection","Detected buffering proxy"):Pt.stat===gi.NOPROXY&&Ft("Connection","Detected no buffering proxy")}),setTimeout(()=>{lt.io()},0),lt}}function fp(){return"undefined"!=typeof window?window:null}function Zh(){return"undefined"!=typeof document?document:null}function hd(i){return new vn(i,!0)}class pp{constructor(e,t,o=1e3,u=1.5,h=6e4){this.Yn=e,this.timerId=t,this.mo=o,this.yo=u,this.po=h,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),u=Math.max(0,t-o);u>0&&Ft("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,u,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class nm{constructor(e,t,o,u,h,v,A,G){this.Yn=e,this.Vo=o,this.vo=u,this.So=h,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=A,this.listener=G,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new pp(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,oe.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,oe.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var o=this;return(0,oe.Z)(function*(){o.Uo(),o.qo(),o.No.cancel(),o.Do++,4!==e?o.No.reset():t&&t.code===q.RESOURCE_EXHAUSTED?(zr(t.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),o.No.Ao()):t&&t.code===q.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Ko(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Do===t&&this.Qo(o,u)},o=>{e(()=>{const u=new re(q.UNKNOWN,"Fetching auth token failed: "+o.message);return this.jo(u)})})}Qo(e,t){const o=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{o(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(u=>{o(()=>this.jo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Oo(){var e=this;this.state=5,this.No.Ro((0,oe.Z)(function*(){e.state=0,e.start()}))}jo(e){return Ft("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(Ft("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rm extends nm{constructor(e,t,o,u,h,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,v),this.M=h}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function cu(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(G=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===G?1:"REMOVE"===G?2:"CURRENT"===G?3:"RESET"===G?4:E(),u=e.targetChange.targetIds||[],h=function(G,K){return G.N?(M(void 0===K||"string"==typeof K),Hi.fromBase64String(K||"")):(M(void 0===K||K instanceof Uint8Array),Hi.fromUint8Array(K||new Uint8Array))}(i,e.targetChange.resumeToken),v=e.targetChange.cause,A=v&&function(G){const K=void 0===G.code?q.UNKNOWN:Ye(G.code);return new re(K,G.message||"")}(v);t=new As(o,u,h,A||null)}else if("documentChange"in e){const o=e.documentChange,u=Vr(i,o.document.name),h=_r(o.document.updateTime),v=new L({mapValue:{fields:o.document.fields}}),A=ae.newFoundDocument(u,h,v);t=new Ii(o.targetIds||[],o.removedTargetIds||[],A.key,A)}else if("documentDelete"in e){const o=e.documentDelete,u=Vr(i,o.document),h=o.readTime?_r(o.readTime):Sn.min(),v=ae.newNoDocument(u,h);t=new Ii([],o.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const o=e.documentRemove,u=Vr(i,o.document);t=new Ii([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return E();{const o=e.filter,h=new j(o.count||0);t=new Pr(o.targetId,h)}}var G;return t}(this.M,e),o=function(u){if(!("targetChange"in u))return Sn.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Sn.min():h.readTime?_r(h.readTime):Sn.min()}(e);return this.listener.zo(t,o)}Ho(e){const t={};t.database=ms(this.M),t.addTarget=function(u,h){let v;const A=h.target;return v=zu(A)?{documents:wh(u,A)}:{query:Kc(u,A)},v.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?v.resumeToken=jn(u,h.resumeToken):h.snapshotVersion.compareTo(Sn.min())>0&&(v.readTime=Cn(u,h.snapshotVersion.toTimestamp())),v}(this.M,e);const o=function Gf(i,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return E()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Lo(t)}Jo(e){const t={};t.database=ms(this.M),t.removeTarget=e,this.Lo(t)}}class im extends nm{constructor(e,t,o,u,h,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,v),this.M=h,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(M(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function Eh(i,e){return i&&i.length>0?(M(void 0!==e),i.map(t=>function(o,u){let h=_r(o.updateTime?o.updateTime:u);return h.isEqual(Sn.min())&&(h=_r(u)),new qc(h,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=_r(e.commitTime);return this.listener.tu(o,t)}return M(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=ms(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Au(this.M,o))};this.Lo(t)}}class s_ extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=o,this.M=u,this.su=!1}iu(){if(this.su)throw new re(q.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.So.co(e,t,o,u,h)).catch(u=>{throw"FirebaseError"===u.name?(u.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new re(q.UNKNOWN,u.toString())})}_o(e,t,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.So._o(e,t,o,u,h)).catch(u=>{throw"FirebaseError"===u.name?(u.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new re(q.UNKNOWN,u.toString())})}terminate(){this.su=!0}}class ul{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(zr(t),this.uu=!1):Ft("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class gp{constructor(e,t,o,u,h){var v=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=h,this.gu.Kr(A=>{o.enqueueAndForget((0,oe.Z)(function*(){var G;Mu(v)&&(Ft("RemoteStore","Restarting streams for network reachability change."),yield(G=(0,oe.Z)(function*(K){const ce=z(K);ce.wu.add(4),yield $d(ce),ce.yu.set("Unknown"),ce.wu.delete(4),yield Hd(ce)}),function(K){return G.apply(this,arguments)})(v))}))}),this.yu=new ul(o,u)}}function Hd(i){return mp.apply(this,arguments)}function mp(){return mp=(0,oe.Z)(function*(i){if(Mu(i))for(const e of i.mu)yield e(!0)}),mp.apply(this,arguments)}function $d(i){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,oe.Z)(function*(i){for(const e of i.mu)yield e(!1)}),Yh.apply(this,arguments)}function Qh(i,e){const t=z(i);t._u.has(e.targetId)||(t._u.set(e.targetId,e),vp(t)?_p(t):Sc(t).Mo()&&yp(t,e))}function Gd(i,e){const t=z(i),o=Sc(t);t._u.delete(e),o.Mo()&&Jh(t,e),0===t._u.size&&(o.Mo()?o.$o():Mu(t)&&t.yu.set("Unknown"))}function yp(i,e){i.pu.Z(e.targetId),Sc(i).Ho(e)}function Jh(i,e){i.pu.Z(e),Sc(i).Jo(e)}function _p(i){i.pu=new $l({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i._u.get(e)||null}),Sc(i).start(),i.yu.au()}function vp(i){return Mu(i)&&!Sc(i).ko()&&i._u.size>0}function Mu(i){return 0===z(i).wu.size}function Xh(i){i.pu=void 0}function o_(i){return zd.apply(this,arguments)}function zd(){return zd=(0,oe.Z)(function*(i){i._u.forEach((e,t)=>{yp(i,e)})}),zd.apply(this,arguments)}function Ep(i,e){return ef.apply(this,arguments)}function ef(){return ef=(0,oe.Z)(function*(i,e){Xh(i),vp(i)?(i.yu.lu(e),_p(i)):i.yu.set("Unknown")}),ef.apply(this,arguments)}function Wv(i,e,t){return sm.apply(this,arguments)}function sm(){return sm=(0,oe.Z)(function*(i,e,t){if(i.yu.set("Online"),e instanceof As&&2===e.state&&e.cause)try{yield(o=(0,oe.Z)(function*(u,h){const v=h.cause;for(const A of h.targetIds)u._u.has(A)&&(yield u.remoteSyncer.rejectListen(A,v),u._u.delete(A),u.pu.removeTarget(A))}),function(u,h){return o.apply(this,arguments)})(i,e)}catch(o){Ft("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield fd(i,o)}else if(e instanceof Ii?i.pu.ut(e):e instanceof Pr?i.pu._t(e):i.pu.ht(e),!t.isEqual(Sn.min()))try{const o=yield Gg(i.localStore);t.compareTo(o)>=0&&(yield function(u,h){const v=u.pu.yt(h);return v.targetChanges.forEach((A,G)=>{if(A.resumeToken.approximateByteSize()>0){const K=u._u.get(G);K&&u._u.set(G,K.withResumeToken(A.resumeToken,h))}}),v.targetMismatches.forEach(A=>{const G=u._u.get(A);if(!G)return;u._u.set(A,G.withResumeToken(Hi.EMPTY_BYTE_STRING,G.snapshotVersion)),Jh(u,A);const K=new sl(G.target,A,1,G.sequenceNumber);yp(u,K)}),u.remoteSyncer.applyRemoteEvent(v)}(i,t))}catch(o){Ft("RemoteStore","Failed to raise snapshot:",o),yield fd(i,o)}var o}),sm.apply(this,arguments)}function fd(i,e,t){return om.apply(this,arguments)}function om(){return om=(0,oe.Z)(function*(i,e,t){if(!il(e))throw e;i.wu.add(1),yield $d(i),i.yu.set("Offline"),t||(t=()=>Gg(i.localStore)),i.asyncQueue.enqueueRetryable((0,oe.Z)(function*(){Ft("RemoteStore","Retrying IndexedDB access"),yield t(),i.wu.delete(1),yield Hd(i)}))}),om.apply(this,arguments)}function am(i,e){return e().catch(t=>fd(i,t,e))}function Dc(i){return tf.apply(this,arguments)}function tf(){return tf=(0,oe.Z)(function*(i){const e=z(i),t=Jl(e);let o=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;um(e);)try{const u=yield qg(e.localStore,o);if(null===u){0===e.du.length&&t.$o();break}o=u.batchId,lm(e,u)}catch(u){yield fd(e,u)}wp(e)&&ll(e)}),tf.apply(this,arguments)}function um(i){return Mu(i)&&i.du.length<10}function lm(i,e){i.du.push(e);const t=Jl(i);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function wp(i){return Mu(i)&&!Jl(i).ko()&&i.du.length>0}function ll(i){Jl(i).start()}function nf(i){return bp.apply(this,arguments)}function bp(){return bp=(0,oe.Z)(function*(i){Jl(i).nu()}),bp.apply(this,arguments)}function a_(i){return cm.apply(this,arguments)}function cm(){return cm=(0,oe.Z)(function*(i){const e=Jl(i);for(const t of i.du)e.Zo(t.mutations)}),cm.apply(this,arguments)}function Ip(i,e,t){return rf.apply(this,arguments)}function rf(){return rf=(0,oe.Z)(function*(i,e,t){const o=i.du.shift(),u=Xc.from(o,e,t);yield am(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Dc(i)}),rf.apply(this,arguments)}function Tp(i,e){return Ac.apply(this,arguments)}function Ac(){return Ac=(0,oe.Z)(function*(i,e){var t;e&&Jl(i).Xo&&(yield(t=(0,oe.Z)(function*(o,u){if(ye(h=u.code)&&h!==q.ABORTED){const v=o.du.shift();Jl(o).Fo(),yield am(o,()=>o.remoteSyncer.rejectFailedWrite(v.batchId,u)),yield Dc(o)}var h}),function(o,u){return t.apply(this,arguments)})(i,e)),wp(i)&&ll(i)}),Ac.apply(this,arguments)}function dm(i,e){return qd.apply(this,arguments)}function qd(){return qd=(0,oe.Z)(function*(i,e){const t=z(i);t.asyncQueue.verifyOperationInProgress(),Ft("RemoteStore","RemoteStore received new credentials");const o=Mu(t);t.wu.add(3),yield $d(t),o&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield Hd(t)}),qd.apply(this,arguments)}function sf(i,e){return af.apply(this,arguments)}function af(){return af=(0,oe.Z)(function*(i,e){const t=z(i);e?(t.wu.delete(2),yield Hd(t)):e||(t.wu.add(2),yield $d(t),t.yu.set("Unknown"))}),af.apply(this,arguments)}function Sc(i){return i.Iu||(i.Iu=function(e,t,o){const u=z(e);return u.iu(),new rm(t,u.So,u.authCredentials,u.appCheckCredentials,u.M,o)}(i.datastore,i.asyncQueue,{Xr:o_.bind(null,i),eo:Ep.bind(null,i),zo:Wv.bind(null,i)}),i.mu.push(function(){var e=(0,oe.Z)(function*(t){t?(i.Iu.Fo(),vp(i)?_p(i):i.yu.set("Unknown")):(yield i.Iu.stop(),Xh(i))});return function(t){return e.apply(this,arguments)}}())),i.Iu}function Jl(i){return i.Tu||(i.Tu=function(e,t,o){const u=z(e);return u.iu(),new im(t,u.So,u.authCredentials,u.appCheckCredentials,u.M,o)}(i.datastore,i.asyncQueue,{Xr:nf.bind(null,i),eo:Tp.bind(null,i),eu:a_.bind(null,i),tu:Ip.bind(null,i)}),i.mu.push(function(){var e=(0,oe.Z)(function*(t){t?(i.Tu.Fo(),yield Dc(i)):(yield i.Tu.stop(),i.du.length>0&&(Ft("RemoteStore",`Stopping write stream with ${i.du.length} pending writes`),i.du=[]))});return function(t){return e.apply(this,arguments)}}())),i.Tu}class Wd{constructor(e,t,o,u,h){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=h,this.deferred=new st,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(e,t,o,u,h){const v=Date.now()+o,A=new Wd(e,t,v,u,h);return A.start(o),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new re(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pd(i,e){if(zr("AsyncQueue",`${e}: ${i}`),il(i))return new re(q.UNAVAILABLE,`${e}: ${i}`);throw i}class gd{constructor(e){this.comparator=e?(t,o)=>e(t,o)||zt.comparator(t.key,o.key):(t,o)=>zt.comparator(t.key,o.key),this.keyedMap=rn(),this.sortedSet=new ar(this.comparator)}static emptySet(e){return new gd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,h=o.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new gd;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Cp{constructor(){this.Eu=new ar(zt.comparator)}track(e){const t=e.doc.key,o=this.Eu.get(t);o?0!==e.type&&3===o.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==o.type?this.Eu=this.Eu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Eu=this.Eu.remove(t):1===e.type&&2===o.type?this.Eu=this.Eu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):E():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Ru{constructor(e,t,o,u,h,v,A,G){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=h,this.fromCache=v,this.syncStateChanged=A,this.excludesMetadataChanges=G}static fromInitialDocuments(e,t,o,u){const h=[];return t.forEach(v=>{h.push({type:0,doc:v})}),new Ru(e,t,gd.emptySet(t),h,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qs(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class hm{constructor(){this.Ru=void 0,this.listeners=[]}}class u_{constructor(){this.queries=new bt(e=>Du(e),Qs),this.onlineState="Unknown",this.bu=new Set}}function Dp(i,e){return Xl.apply(this,arguments)}function Xl(){return Xl=(0,oe.Z)(function*(i,e){const t=z(i),o=e.query;let u=!1,h=t.queries.get(o);if(h||(u=!0,h=new hm),u)try{h.Ru=yield t.onListen(o)}catch(v){const A=pd(v,`Initialization of query '${Lo(e.query)}' failed`);return void e.onError(A)}t.queries.set(o,h),h.listeners.push(e),e.Pu(t.onlineState),h.Ru&&e.Vu(h.Ru)&&fu(t)}),Xl.apply(this,arguments)}function Ap(i,e){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,oe.Z)(function*(i,e){const t=z(i),o=e.query;let u=!1;const h=t.queries.get(o);if(h){const v=h.listeners.indexOf(e);v>=0&&(h.listeners.splice(v,1),u=0===h.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),Sp.apply(this,arguments)}function l_(i,e){const t=z(i);let o=!1;for(const u of e){const v=t.queries.get(u.query);if(v){for(const A of v.listeners)A.Vu(u)&&(o=!0);v.Ru=u}}o&&fu(t)}function c_(i,e,t){const o=z(i),u=o.queries.get(e);if(u)for(const h of u.listeners)h.onError(t);o.queries.delete(e)}function fu(i){i.bu.forEach(e=>{e.next()})}class Kd{constructor(e,t,o){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=o||{}}Vu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Ru(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Ru.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class fm{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class Mp{constructor(e){this.M=e}wi(e){return Vr(this.M,e)}mi(e){return e.metadata.exists?Na(this.M,e.document,!1):ae.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return _r(e)}}class pm{constructor(e,t,o){this.Ou=e,this.localStore=t,this.M=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Rp(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=fr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,o=new Mp(this.M);for(const u of e)if(u.metadata.queries){const h=o.wi(u.metadata.name);for(const v of u.metadata.queries){const A=(t.get(v)||On()).add(h);t.set(v,A)}}return t}complete(){var e=this;return(0,oe.Z)(function*(){const t=yield function dd(i,e,t,o){return ap.apply(this,arguments)}(e.localStore,new Mp(e.M),e.documents,e.Ou.id),o=e.$u(e.documents);for(const u of e.queries)yield Wg(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Rp(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class gm{constructor(e){this.key=e}}class mm{constructor(e){this.key=e}}class ym{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=On(),this.mutatedKeys=On(),this.Gu=Bc(e),this.Qu=new gd(this.Gu)}get ju(){return this.Uu}Wu(e,t){const o=t?t.zu:new Cp,u=t?t.Qu:this.Qu;let h=t?t.mutatedKeys:this.mutatedKeys,v=u,A=!1;const G="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,K="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((ce,xe)=>{const lt=u.get(ce),Rt=ou(this.query,xe)?xe:null,Pt=!!lt&&this.mutatedKeys.has(lt.key),fn=!!Rt&&(Rt.hasLocalMutations||this.mutatedKeys.has(Rt.key)&&Rt.hasCommittedMutations);let er=!1;lt&&Rt?lt.data.isEqual(Rt.data)?Pt!==fn&&(o.track({type:3,doc:Rt}),er=!0):this.Hu(lt,Rt)||(o.track({type:2,doc:Rt}),er=!0,(G&&this.Gu(Rt,G)>0||K&&this.Gu(Rt,K)<0)&&(A=!0)):!lt&&Rt?(o.track({type:0,doc:Rt}),er=!0):lt&&!Rt&&(o.track({type:1,doc:lt}),er=!0,(G||K)&&(A=!0)),er&&(Rt?(v=v.add(Rt),h=fn?h.add(ce):h.delete(ce)):(v=v.delete(ce),h=h.delete(ce)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const ce="F"===this.query.limitType?v.last():v.first();v=v.delete(ce.key),h=h.delete(ce.key),o.track({type:1,doc:ce})}return{Qu:v,zu:o,ii:A,mutatedKeys:h}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const h=e.zu.Au();h.sort((K,ce)=>function(xe,lt){const Rt=Pt=>{switch(Pt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return E()}};return Rt(xe)-Rt(lt)}(K.type,ce.type)||this.Gu(K.doc,ce.doc)),this.Ju(o);const v=t?this.Yu():[],A=0===this.Ku.size&&this.current?1:0,G=A!==this.qu;return this.qu=A,0!==h.length||G?{snapshot:new Ru(this.query,e.Qu,u,h,e.mutatedKeys,0===A,G,!1),Xu:v}:{Xu:v}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Cp,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=On(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new mm(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new gm(o))}),t}ta(e){this.Uu=e._i,this.Ku=On();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return Ru.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class d_{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class _m{constructor(e){this.key=e,this.na=!1}}class Kv{constructor(e,t,o,u,h,v){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=v,this.sa={},this.ia=new bt(A=>Du(A),Qs),this.ra=new Map,this.oa=new Set,this.ua=new ar(zt.comparator),this.aa=new Map,this.ca=new zh,this.ha={},this.la=new Map,this.fa=Tl.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function vm(i,e){return xp.apply(this,arguments)}function xp(){return xp=(0,oe.Z)(function*(i,e){const t=ic(i);let o,u;const h=t.ia.get(e);if(h)o=h.targetId,t.sharedClientState.addLocalQueryTarget(o),u=h.view.ea();else{const v=yield ud(t.localStore,Fo(e));t.isPrimaryClient&&Qh(t.remoteStore,v);const A=t.sharedClientState.addLocalQueryTarget(v.targetId);o=v.targetId,u=yield Op(t,e,o,"current"===A)}return u}),xp.apply(this,arguments)}function Op(i,e,t,o){return Em.apply(this,arguments)}function Em(){return Em=(0,oe.Z)(function*(i,e,t,o){i._a=(ce,xe,lt)=>{return(Rt=(0,oe.Z)(function*(Pt,fn,er,is){let ks=fn.view.Wu(er);ks.ii&&(ks=yield Cl(Pt.localStore,fn.query,!1).then(({documents:ss})=>fn.view.Wu(ss,ks)));const ti=is&&is.targetChanges.get(fn.targetId),eo=fn.view.applyChanges(ks,Pt.isPrimaryClient,ti);return Fp(Pt,fn.targetId,eo.Xu),eo.snapshot}),function(Pt,fn,er,is){return Rt.apply(this,arguments)})(i,ce,xe,lt);var Rt};const u=yield Cl(i.localStore,e,!0),h=new ym(e,u._i),v=h.Wu(u.documents),A=ki.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),G=h.applyChanges(v,i.isPrimaryClient,A);Fp(i,t,G.Xu);const K=new d_(e,t,h);return i.ia.set(e,K),i.ra.has(t)?i.ra.get(t).push(e):i.ra.set(t,[e]),G.snapshot}),Em.apply(this,arguments)}function Zv(i,e){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,oe.Z)(function*(i,e){const t=z(i),o=t.ia.get(e),u=t.ra.get(o.targetId);if(u.length>1)return t.ra.set(o.targetId,u.filter(h=>!Qs(h,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield ld(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Gd(t.remoteStore,o.targetId),ec(t,o.targetId)}).catch(Ic))):(ec(t,o.targetId),yield ld(t.localStore,o.targetId,!0))}),Zd.apply(this,arguments)}function uf(){return uf=(0,oe.Z)(function*(i,e,t){const o=sc(i);try{const u=yield function(h,v){const A=z(h),G=Or.now(),K=v.reduce((xe,lt)=>xe.add(lt.key),On());let ce;return A.persistence.runTransaction("Locally write mutations","readwrite",xe=>A.fi.Ks(xe,K).next(lt=>{ce=lt;const Rt=[];for(const Pt of v){const fn=xd(Pt,ce.get(Pt.key));null!=fn&&Rt.push(new qa(Pt.key,fn,Q(fn.value.mapValue),Cs.exists(!0)))}return A.Bs.addMutationBatch(xe,G,Rt,v)})).then(xe=>(xe.applyToLocalDocumentSet(ce),{batchId:xe.batchId,changes:ce}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(h,v,A){let G=h.ha[h.currentUser.toKey()];G||(G=new ar(Ln)),G=G.insert(v,A),h.ha[h.currentUser.toKey()]=G}(o,u.batchId,t),yield Dl(o,u.changes),yield Dc(o.remoteStore)}catch(u){const h=pd(u,"Failed to persist write");t.reject(h)}}),uf.apply(this,arguments)}function Pp(i,e){return wm.apply(this,arguments)}function wm(){return wm=(0,oe.Z)(function*(i,e){const t=z(i);try{const o=yield op(t.localStore,e);e.targetChanges.forEach((u,h)=>{const v=t.aa.get(h);v&&(M(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?v.na=!0:u.modifiedDocuments.size>0?M(v.na):u.removedDocuments.size>0&&(M(v.na),v.na=!1))}),yield Dl(t,o,e)}catch(o){yield Ic(o)}}),wm.apply(this,arguments)}function pu(i,e,t){const o=z(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.ia.forEach((h,v)=>{const A=v.view.Pu(e);A.snapshot&&u.push(A.snapshot)}),function(h,v){const A=z(h);A.onlineState=v;let G=!1;A.queries.forEach((K,ce)=>{for(const xe of ce.listeners)xe.Pu(v)&&(G=!0)}),G&&fu(A)}(o.eventManager,e),u.length&&o.sa.zo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Yv(i,e,t){return bm.apply(this,arguments)}function bm(){return bm=(0,oe.Z)(function*(i,e,t){const o=z(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.aa.get(e),h=u&&u.key;if(h){let v=new ar(zt.comparator);v=v.insert(h,ae.newNoDocument(h,Sn.min()));const A=On().add(h),G=new Ds(Sn.min(),new Map,new wr(Ln),v,A);yield Pp(o,G),o.ua=o.ua.remove(h),o.aa.delete(e),Lp(o)}else yield ld(o.localStore,e,!1).then(()=>ec(o,e,t)).catch(Ic)}),bm.apply(this,arguments)}function Im(i,e){return lf.apply(this,arguments)}function lf(){return lf=(0,oe.Z)(function*(i,e){const t=z(i),o=e.batch.batchId;try{const u=yield $g(t.localStore,e);kp(t,o,null),Yd(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Dl(t,u)}catch(u){yield Ic(u)}}),lf.apply(this,arguments)}function Tm(i,e,t){return Np.apply(this,arguments)}function Np(){return Np=(0,oe.Z)(function*(i,e,t){const o=z(i);try{const u=yield function(h,v){const A=z(h);return A.persistence.runTransaction("Reject batch","readwrite-primary",G=>{let K;return A.Bs.lookupMutationBatch(G,v).next(ce=>(M(null!==ce),K=ce.keys(),A.Bs.removeMutationBatch(G,ce))).next(()=>A.Bs.performConsistencyCheck(G)).next(()=>A.fi.Ks(G,K))})}(o.localStore,e);kp(o,e,t),Yd(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Dl(o,u)}catch(u){yield Ic(u)}}),Np.apply(this,arguments)}function cf(){return cf=(0,oe.Z)(function*(i,e){const t=z(i);Mu(t.remoteStore)||Ft("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(h){const v=z(h);return v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",A=>v.Bs.getHighestUnacknowledgedBatchId(A))}(t.localStore);if(-1===o)return void e.resolve();const u=t.la.get(o)||[];u.push(e),t.la.set(o,u)}catch(o){const u=pd(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),cf.apply(this,arguments)}function Yd(i,e){(i.la.get(e)||[]).forEach(t=>{t.resolve()}),i.la.delete(e)}function kp(i,e,t){const o=z(i);let u=o.ha[o.currentUser.toKey()];if(u){const h=u.get(e);h&&(t?h.reject(t):h.resolve(),u=u.remove(e)),o.ha[o.currentUser.toKey()]=u}}function ec(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ra.get(e))i.ia.delete(o),t&&i.sa.wa(o,t);i.ra.delete(e),i.isPrimaryClient&&i.ca.vi(e).forEach(o=>{i.ca.containsKey(o)||Cm(i,o)})}function Cm(i,e){i.oa.delete(e.path.canonicalString());const t=i.ua.get(e);null!==t&&(Gd(i.remoteStore,t),i.ua=i.ua.remove(e),i.aa.delete(t),Lp(i))}function Fp(i,e,t){for(const o of t)o instanceof gm?(i.ca.addReference(o.key,e),f_(i,o)):o instanceof mm?(Ft("SyncEngine","Document no longer in limbo: "+o.key),i.ca.removeReference(o.key,e),i.ca.containsKey(o.key)||Cm(i,o.key)):E()}function f_(i,e){const t=e.key,o=t.path.canonicalString();i.ua.get(t)||i.oa.has(o)||(Ft("SyncEngine","New document in limbo: "+t),i.oa.add(o),Lp(i))}function Lp(i){for(;i.oa.size>0&&i.ua.size<i.maxConcurrentLimboResolutions;){const e=i.oa.values().next().value;i.oa.delete(e);const t=new zt(fr.fromString(e)),o=i.fa.next();i.aa.set(o,new _m(t)),i.ua=i.ua.insert(t,o),Qh(i.remoteStore,new sl(Fo(Pa(t.path)),o,2,Kr.A))}}function Dl(i,e,t){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,oe.Z)(function*(i,e,t){const o=z(i),u=[],h=[],v=[];var A;o.ia.isEmpty()||(o.ia.forEach((A,G)=>{v.push(o._a(G,e,t).then(K=>{if(K){o.isPrimaryClient&&o.sharedClientState.updateQueryState(G.targetId,K.fromCache?"not-current":"current"),u.push(K);const ce=Bh.Ys(G.targetId,K);h.push(ce)}}))}),yield Promise.all(v),o.sa.zo(u),yield(A=(0,oe.Z)(function*(G,K){const ce=z(G);try{yield ce.persistence.runTransaction("notifyLocalViewChanges","readwrite",xe=>pt.forEach(K,lt=>pt.forEach(lt.Hs,Rt=>ce.persistence.referenceDelegate.addReference(xe,lt.targetId,Rt)).next(()=>pt.forEach(lt.Js,Rt=>ce.persistence.referenceDelegate.removeReference(xe,lt.targetId,Rt)))))}catch(xe){if(!il(xe))throw xe;Ft("LocalStore","Failed to update sequence numbers: "+xe)}for(const xe of K){const lt=xe.targetId;if(!xe.fromCache){const Rt=ce.ui.get(lt),fn=Rt.withLastLimboFreeSnapshotVersion(Rt.snapshotVersion);ce.ui=ce.ui.insert(lt,fn)}}}),function(G,K){return A.apply(this,arguments)})(o.localStore,h))}),Vp.apply(this,arguments)}function df(i,e){return tc.apply(this,arguments)}function tc(){return tc=(0,oe.Z)(function*(i,e){const t=z(i);if(!t.currentUser.isEqual(e)){Ft("SyncEngine","User change. New user:",e.toKey());const o=yield Hg(t.localStore,e);t.currentUser=e,(u=t).la.forEach(v=>{v.forEach(A=>{A.reject(new re(q.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.la.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Dl(t,o.di)}var u}),tc.apply(this,arguments)}function p_(i,e){const t=z(i),o=t.aa.get(e);if(o&&o.na)return On().add(o.key);{let u=On();const h=t.ra.get(e);if(!h)return u;for(const v of h){const A=t.ia.get(v);u=u.unionWith(A.view.ju)}return u}}function Qd(i,e){return Up.apply(this,arguments)}function Up(){return Up=(0,oe.Z)(function*(i,e){const t=z(i),o=yield Cl(t.localStore,e.query,!0),u=e.view.ta(o);return t.isPrimaryClient&&Fp(t,e.targetId,u.Xu),u}),Up.apply(this,arguments)}function g_(i,e){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,oe.Z)(function*(i,e){const t=z(i);return Cc(t.localStore,e).then(o=>Dl(t,o))}),Jd.apply(this,arguments)}function cl(i,e,t,o){return Mc.apply(this,arguments)}function Mc(){return Mc=(0,oe.Z)(function*(i,e,t,o){const u=z(i),h=yield function(v,A){const G=z(v),K=z(G.Bs);return G.persistence.runTransaction("Lookup mutation documents","readonly",ce=>K.fn(ce,A).next(xe=>xe?G.fi.Ks(ce,xe):pt.resolve(null)))}(u.localStore,e);var A;null!==h?("pending"===t?yield Dc(u.remoteStore):"acknowledged"===t||"rejected"===t?(kp(u,e,o||null),Yd(u,e),A=e,z(z(u.localStore).Bs)._n(A)):E(),yield Dl(u,h)):Ft("SyncEngine","Cannot apply mutation batch with id: "+e)}),Mc.apply(this,arguments)}function Al(){return Al=(0,oe.Z)(function*(i,e){const t=z(i);if(ic(t),sc(t),!0===e&&!0!==t.da){const o=t.sharedClientState.getAllActiveQueryTargets(),u=yield Xd(t,o.toArray());t.da=!0,yield sf(t.remoteStore,!0);for(const h of u)Qh(t.remoteStore,h)}else if(!1===e&&!1!==t.da){const o=[];let u=Promise.resolve();t.ra.forEach((h,v)=>{t.sharedClientState.isLocalQueryTarget(v)?o.push(v):u=u.then(()=>(ec(t,v),ld(t.localStore,v,!0))),Gd(t.remoteStore,v)}),yield u,yield Xd(t,o),function(h){const v=z(h);v.aa.forEach((A,G)=>{Gd(v.remoteStore,G)}),v.ca.Si(),v.aa=new Map,v.ua=new ar(zt.comparator)}(t),t.da=!1,yield sf(t.remoteStore,!1)}}),Al.apply(this,arguments)}function Xd(i,e,t){return ka.apply(this,arguments)}function ka(){return ka=(0,oe.Z)(function*(i,e,t){const o=z(i),u=[],h=[];for(const v of e){let A;const G=o.ra.get(v);if(G&&0!==G.length){A=yield ud(o.localStore,Fo(G[0]));for(const K of G){const ce=o.ia.get(K),xe=yield Qd(o,ce);xe.snapshot&&h.push(xe.snapshot)}}else{const K=yield $h(o.localStore,v);A=yield ud(o.localStore,K),yield Op(o,hf(K),v,!1)}u.push(A)}return o.sa.zo(h),u}),ka.apply(this,arguments)}function hf(i){return Tu(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function md(i){const e=z(i);return z(z(e.localStore).persistence).Fs()}function yd(i,e,t,o){return nc.apply(this,arguments)}function nc(){return nc=(0,oe.Z)(function*(i,e,t,o){const u=z(i);if(u.da)return void Ft("SyncEngine","Ignoring unexpected query state notification.");const h=u.ra.get(e);if(h&&h.length>0)switch(t){case"current":case"not-current":{const v=yield Cc(u.localStore,Ku(h[0])),A=Ds.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Dl(u,v,A);break}case"rejected":yield ld(u.localStore,e,!0),ec(u,e,o);break;default:E()}}),nc.apply(this,arguments)}function _d(i,e,t){return rc.apply(this,arguments)}function rc(){return rc=(0,oe.Z)(function*(i,e,t){const o=ic(i);if(o.da){for(const u of e){if(o.ra.has(u)){Ft("SyncEngine","Adding an already active target "+u);continue}const h=yield $h(o.localStore,u),v=yield ud(o.localStore,h);yield Op(o,hf(h),v.targetId,!1),Qh(o.remoteStore,v)}for(const u of t)o.ra.has(u)&&(yield ld(o.localStore,u,!1).then(()=>{Gd(o.remoteStore,u),ec(o,u)}).catch(Ic))}}),rc.apply(this,arguments)}function ic(i){const e=z(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yv.bind(null,e),e.sa.zo=l_.bind(null,e.eventManager),e.sa.wa=c_.bind(null,e.eventManager),e}function sc(i){const e=z(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Im.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tm.bind(null,e),e}class Rc{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,oe.Z)(function*(){t.M=hd(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return Hh(this.persistence,new jh,e.initialUser,this.M)}ya(e){return new Yg(qh.Yi,this.M)}ga(e){return new tm}terminate(){var e=this;return(0,oe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bp extends Rc{constructor(e,t,o){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,oe.Z)(function*(){yield t().call(o,e),yield o.Ta.initialize(o,e),yield sc(o.Ta.syncEngine),yield Dc(o.Ta.remoteStore),yield o.persistence.Ts(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}Ia(e){return Hh(this.persistence,new jh,e.initialUser,this.M)}pa(e){return new $v(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=Bd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?ta.withCacheSize(this.cacheSizeBytes):ta.DEFAULT;return new Bg(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,fp(),Zh(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new tm}}class Dm extends Bp{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,oe.Z)(function*(){yield t().call(o,e);const u=o.Ta.syncEngine;o.sharedClientState instanceof em&&(o.sharedClientState.syncEngine={$r:cl.bind(null,u),Br:yd.bind(null,u),Lr:_d.bind(null,u),Fs:md.bind(null,u),Fr:g_.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.Ts(function(){var h=(0,oe.Z)(function*(v){yield function na(i,e){return Al.apply(this,arguments)}(o.Ta.syncEngine,v),o.gcScheduler&&(v&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):v||o.gcScheduler.stop())});return function(v){return h.apply(this,arguments)}}())})()}ga(e){const t=fp();if(!em.vt(t))throw new re(q.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Bd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new em(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class ff{initialize(e,t){var o=this;return(0,oe.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>pu(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=df.bind(null,o.syncEngine),yield sf(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new u_}createDatastore(e){const t=hd(e.databaseInfo.databaseId),o=new i_(e.databaseInfo);return new s_(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,h=A=>pu(this.syncEngine,A,0),v=hp.vt()?new hp:new dp,new gp(t,o,u,h,v);var t,o,u,h,v}createSyncEngine(e,t){return function(o,u,h,v,A,G,K){const ce=new Kv(o,u,h,v,A,G);return K&&(ce.da=!0),ce}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,oe.Z)(function*(t){const o=z(t);Ft("RemoteStore","RemoteStore shutting down."),o.wu.add(5),yield $d(o),o.gu.shutdown(),o.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function jp(i,e=10240){let t=0;return{read:()=>(0,oe.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,oe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class eh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Am{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new st,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(o=>{o&&o.Mu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,oe.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,oe.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,oe.Z)(function*(){const t=yield e.Va();if(null===t)return null;const o=e.ba.decode(t),u=Number(o);isNaN(u)&&e.va(`length string (${o}) is not valid number`);const h=yield e.Sa(u);return new fm(JSON.parse(h),t.length+u)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,oe.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}Sa(e){var t=this;return(0,oe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const o=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,oe.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Sm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,oe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new re(q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,oe.Z)(function*(h,v){const A=z(h),G=ms(A.M)+"/documents",K={documents:v.map(Rt=>Eo(A.M,Rt))},ce=yield A._o("BatchGetDocuments",G,K),xe=new Map;ce.forEach(Rt=>{const Pt=function yc(i,e){return"found"in e?function(t,o){M(!!o.found);const u=Vr(t,o.found.name),h=_r(o.found.updateTime),v=new L({mapValue:{fields:o.found.fields}});return ae.newFoundDocument(u,h,v)}(i,e):"missing"in e?function(t,o){M(!!o.missing),M(!!o.readTime);const u=Vr(t,o.missing),h=_r(o.readTime);return ae.newNoDocument(u,h)}(i,e):E()}(A.M,Rt);xe.set(Pt.key.toString(),Pt)});const lt=[];return v.forEach(Rt=>{const Pt=xe.get(Rt.toString());M(!!Pt),lt.push(Pt)}),lt}),function(h,v){return u.apply(this,arguments)})(t.datastore,e);var u;return o.forEach(u=>t.recordVersion(u)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new b(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,oe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,u)=>{const h=zt.fromPath(u);e.mutations.push(new x(h,e.precondition(h)))}),yield(o=(0,oe.Z)(function*(u,h){const v=z(u),A=ms(v.M)+"/documents",G={writes:h.map(K=>Au(v.M,K))};yield v.co("Commit",A,G)}),function(u,h){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw E();t=Sn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new re(q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Cs.updateTime(t):Cs.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Sn.min()))throw new re(q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Cs.updateTime(t)}return Cs.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Mm{constructor(e,t,o,u,h){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=u,this.deferred=h,this.xa=o.maxAttempts,this.No=new pp(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,oe.Z)(function*(){const t=new Sm(e.datastore),o=e.ka(t);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(h=>{e.Ma(h)}))}).catch(u=>{e.Ma(u)})}))}ka(e){try{const t=this.updateFunction(e);return!Ao(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!ye(t)}return!1}}class Rm{constructor(e,t,o,u){var h=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=Pi.UNAUTHENTICATED,this.clientId=Wo.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var v=(0,oe.Z)(function*(A){Ft("FirestoreClient","Received user=",A.uid),yield h.authCredentialListener(A),h.user=A});return function(A){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(o,v=>(Ft("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,oe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new st;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,oe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=pd(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function xm(i,e){return pf.apply(this,arguments)}function pf(){return pf=(0,oe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Ft("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,oe.Z)(function*(h){o.isEqual(h)||(yield Hg(e.localStore,h),o=h)});return function(h){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),pf.apply(this,arguments)}function Om(i,e){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,oe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield gf(i);Ft("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>dm(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,h)=>dm(e.remoteStore,h)),i.onlineComponents=e}),Hp.apply(this,arguments)}function gf(i){return $p.apply(this,arguments)}function $p(){return $p=(0,oe.Z)(function*(i){return i.offlineComponents||(Ft("FirestoreClient","Using default OfflineComponentProvider"),yield xm(i,new Rc)),i.offlineComponents}),$p.apply(this,arguments)}function mf(i){return yf.apply(this,arguments)}function yf(){return yf=(0,oe.Z)(function*(i){return i.onlineComponents||(Ft("FirestoreClient","Using default OnlineComponentProvider"),yield Om(i,new ff)),i.onlineComponents}),yf.apply(this,arguments)}function Pm(i){return gf(i).then(e=>e.persistence)}function _f(i){return gf(i).then(e=>e.localStore)}function Nm(i){return mf(i).then(e=>e.remoteStore)}function Gp(i){return mf(i).then(e=>e.syncEngine)}function th(i){return zp.apply(this,arguments)}function zp(){return zp=(0,oe.Z)(function*(i){const e=yield mf(i),t=e.eventManager;return t.onListen=vm.bind(null,e.syncEngine),t.onUnlisten=Zv.bind(null,e.syncEngine),t}),zp.apply(this,arguments)}function y_(i,e,t={}){const o=new st;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function(u,h,v,A,G){const K=new eh({next:xe=>{h.enqueueAndForget(()=>Ap(u,ce));const lt=xe.docs.has(v);!lt&&xe.fromCache?G.reject(new re(q.UNAVAILABLE,"Failed to get document because the client is offline.")):lt&&xe.fromCache&&A&&"server"===A.source?G.reject(new re(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):G.resolve(xe)},error:xe=>G.reject(xe)}),ce=new Kd(Pa(v.path),K,{includeMetadataChanges:!0,ku:!0});return Dp(u,ce)}(yield th(i),i.asyncQueue,e,t,o)})),o.promise}function __(i,e,t={}){const o=new st;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function(u,h,v,A,G){const K=new eh({next:xe=>{h.enqueueAndForget(()=>Ap(u,ce)),xe.fromCache&&"server"===A.source?G.reject(new re(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):G.resolve(xe)},error:xe=>G.reject(xe)}),ce=new Kd(v,K,{includeMetadataChanges:!0,ku:!0});return Dp(u,ce)}(yield th(i),i.asyncQueue,e,t,o)})),o.promise}const xc=new Map;function Kp(i,e,t){if(!t)throw new re(q.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Zp(i,e,t,o){if(!0===e&&!0===o)throw new re(q.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Fm(i){if(!zt.isDocumentKey(i))throw new re(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Yp(i){if(zt.isDocumentKey(i))throw new re(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Oc(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":E()}function Hr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new re(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Oc(i);throw new re(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Qp(i,e){if(e<=0)throw new re(q.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Lm{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new re(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new re(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Zp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nh{constructor(e,t,o){this._authCredentials=t,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lm({}),this._settingsFrozen=!1,e instanceof go?this._databaseId=e:(this._app=e,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new re(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new go(u.options.projectId)}(e))}get app(){if(!this._app)throw new re(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new re(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new $n;switch(t.type){case"gapi":const o=t.client;return M(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Ni(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new re(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=xc.get(e);t&&(Ft("ComponentProvider","Removing Datastore"),xc.delete(e),t.terminate())}(this),Promise.resolve()}}class ns{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ns(this.firestore,e,this._key)}}class ra{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ra(this.firestore,e,this._query)}}class xu extends ra{constructor(e,t,o){super(e,t,Pa(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ns(this.firestore,null,new zt(e))}withConverter(e){return new xu(this.firestore,e,this._path)}}function Vm(i,e,...t){if(i=(0,ot.m9)(i),Kp("collection","path",e),i instanceof nh){const o=fr.fromString(e,...t);return Yp(o),new xu(i,null,o)}{if(!(i instanceof ns||i instanceof xu))throw new re(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(fr.fromString(e,...t));return Yp(o),new xu(i.firestore,null,o)}}function rh(i,e,...t){if(i=(0,ot.m9)(i),1===arguments.length&&(e=Wo.R()),Kp("doc","path",e),i instanceof nh){const o=fr.fromString(e,...t);return Fm(o),new ns(i,null,new zt(o))}{if(!(i instanceof ns||i instanceof xu))throw new re(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(fr.fromString(e,...t));return Fm(o),new ns(i.firestore,i instanceof xu?i.converter:null,new zt(o))}}function vf(i,e){return i=(0,ot.m9)(i),e=(0,ot.m9)(e),(i instanceof ns||i instanceof xu)&&(e instanceof ns||e instanceof xu)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function b_(i,e){return i=(0,ot.m9)(i),e=(0,ot.m9)(e),i instanceof ra&&e instanceof ra&&i.firestore===e.firestore&&Qs(i._query,e._query)&&i.converter===e.converter}class Jp{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new pp(this,"async_queue_retry"),this.Qa=()=>{const t=Zh();t&&Ft("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=Zh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=Zh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new st;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,oe.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!il(t))throw t;Ft("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(o=>{throw this.Ua=o,this.qa=!1,zr("INTERNAL UNHANDLED ERROR: ",function(h){let v=h.message||"";return h.stack&&(v=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),v}(o)),o}).then(o=>(this.qa=!1,o))));return this.Fa=t,t}enqueueAfterDelay(e,t,o){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const u=Wd.createAndSchedule(this,e,t,o,h=>this.Ha(h));return this.La.push(u),u}ja(){this.Ua&&E()}verifyOperationInProgress(){}Ja(){var e=this;return(0,oe.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function Xp(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class e0{constructor(){this._progressObserver={},this._taskCompletionResolver=new st,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class rs extends nh{constructor(e,t,o){super(e,t,o),this.type="firestore",this._queue=new Jp,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||sh(this),this._firestoreClient.terminate()}}function Js(i){return i._firestoreClient||sh(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function sh(i){var e;const t=i._freezeSettings(),o=(h=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new ju(i._databaseId,h,i._persistenceKey,(A=t).host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,A.useFetchStreams));var h,A;i._firestoreClient=new Rm(i._authCredentials,i._appCheckCredentials,i._queue,o)}function I_(i,e,t){const o=new st;return i.asyncQueue.enqueue((0,oe.Z)(function*(){try{yield xm(i,t),yield Om(i,e),o.resolve()}catch(u){if(!("FirebaseError"===(h=u).name?h.code===q.FAILED_PRECONDITION||h.code===q.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw u;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u)}var h})).then(()=>o.promise)}function ng(i){if(i._initialized||i._terminated)throw new re(q.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ou{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new re(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ps(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dl(Hi.fromBase64String(e))}catch(t){throw new re(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new dl(Hi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class oc{constructor(e){this._methodName=e}}class oh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new re(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new re(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ln(this._lat,e._lat)||Ln(this._long,e._long)}}const rg=/^__.*__$/;class Gm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new qa(e,this.data,this.fieldMask,t,this.fieldTransforms):new El(e,this.data,t,this.fieldTransforms)}}class zm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new qa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qm(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw E()}}class If{constructor(e,t,o,u,h,v){this.settings=e,this.databaseId=t,this.M=o,this.ignoreUndefinedProperties=u,void 0===h&&this.tc(),this.fieldTransforms=h||[],this.fieldMask=v||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new If(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.nc({path:o,ic:!1});return u.rc(e),u}oc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.nc({path:o,ic:!1});return u.tc(),u}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return uh(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(qm(this.ec)&&rg.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class Wm{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=o||hd(e)}lc(e,t,o,u=!1){return new If({ec:e,methodName:t,hc:o,path:ps.emptyPath(),ic:!1,cc:u},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Sl(i){const e=i._freezeSettings(),t=hd(i._databaseId);return new Wm(i._databaseId,!!e.ignoreUndefinedProperties,t)}function ah(i,e,t,o,u,h={}){const v=i.lc(h.merge||h.mergeFields?2:0,e,t,u);$s("Data must be an object, but it was:",v,o);const A=sg(o,v);let G,K;if(h.merge)G=new $a(v.fieldMask),K=v.fieldTransforms;else if(h.mergeFields){const ce=[];for(const xe of h.mergeFields){const lt=Df(e,xe,t);if(!v.contains(lt))throw new re(q.INVALID_ARGUMENT,`Field '${lt}' is specified in your field mask but missing from your input data.`);ey(ce,lt)||ce.push(lt)}G=new $a(ce),K=v.fieldTransforms.filter(xe=>G.covers(xe.field))}else G=null,K=v.fieldTransforms;return new Gm(new L(A),G,K)}class Ed extends oc{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ed}}function ig(i,e,t){return new If({ec:3,hc:e.settings.hc,methodName:i._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class Tf extends oc{_toFieldTransform(e){return new Xu(e.path,new Zu)}isEqual(e){return e instanceof Tf}}class Km extends oc{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=ig(this,e,!0),o=this.fc.map(h=>Pc(h,t)),u=new vl(o);return new Xu(e.path,u)}isEqual(e){return this===e}}class Zm extends oc{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=ig(this,e,!0),o=this.fc.map(h=>Pc(h,t)),u=new Qo(o);return new Xu(e.path,u)}isEqual(e){return this===e}}class Ym extends oc{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new Ns(e.M,jc(e.M,this.dc));return new Xu(e.path,t)}isEqual(e){return this===e}}function Cf(i,e,t,o){const u=i.lc(1,e,t);$s("Data must be an object, but it was:",u,o);const h=[],v=L.empty();Xa(o,(G,K)=>{const ce=Af(e,G,t);K=(0,ot.m9)(K);const xe=u.oc(ce);if(K instanceof Ed)h.push(ce);else{const lt=Pc(K,xe);null!=lt&&(h.push(ce),v.set(ce,lt))}});const A=new $a(h);return new zm(v,A,u.fieldTransforms)}function Qm(i,e,t,o,u,h){const v=i.lc(1,e,t),A=[Df(e,o,t)],G=[u];if(h.length%2!=0)throw new re(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let lt=0;lt<h.length;lt+=2)A.push(Df(e,h[lt])),G.push(h[lt+1]);const K=[],ce=L.empty();for(let lt=A.length-1;lt>=0;--lt)if(!ey(K,A[lt])){const Rt=A[lt];let Pt=G[lt];Pt=(0,ot.m9)(Pt);const fn=v.oc(Rt);if(Pt instanceof Ed)K.push(Rt);else{const er=Pc(Pt,fn);null!=er&&(K.push(Rt),ce.set(Rt,er))}}const xe=new $a(K);return new zm(ce,xe,v.fieldTransforms)}function Jm(i,e,t,o=!1){return Pc(t,i.lc(o?4:3,e))}function Pc(i,e){if(Xm(i=(0,ot.m9)(i)))return $s("Unsupported field value:",e,i),sg(i,e);if(i instanceof oc)return function(t,o){if(!qm(o.ec))throw o.ac(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ac(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,o){const u=[];let h=0;for(const v of t){let A=Pc(v,o.uc(h));null==A&&(A={nullValue:"NULL_VALUE"}),u.push(A),h++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,ot.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return jc(o.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=Or.fromDate(t);return{timestampValue:Cn(o.M,u)}}if(t instanceof Or){const u=new Or(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Cn(o.M,u)}}if(t instanceof oh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof dl)return{bytesValue:jn(o.M,t._byteString)};if(t instanceof ns){const u=o.databaseId,h=t.firestore._databaseId;if(!h.isEqual(u))throw o.ac(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Xo(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ac(`Unsupported field value: ${Oc(t)}`)}(i,e)}function sg(i,e){const t={};return Pl(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xa(i,(o,u)=>{const h=Pc(u,e.sc(o));null!=h&&(t[o]=h)}),{mapValue:{fields:t}}}function Xm(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Or||i instanceof oh||i instanceof dl||i instanceof ns||i instanceof oc)}function $s(i,e,t){if(!Xm(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Oc(t);throw e.ac("an object"===o?i+" a custom object":i+" "+o)}var o}function Df(i,e,t){if((e=(0,ot.m9)(e))instanceof Ou)return e._internalPath;if("string"==typeof e)return Af(i,e);throw uh("Field path arguments must be of type string or ",i,!1,void 0,t)}const A_=new RegExp("[~\\*/\\[\\]]");function Af(i,e,t){if(e.search(A_)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Ou(...e.split("."))._internalPath}catch(o){throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function uh(i,e,t,o,u){const h=o&&!o.isEmpty(),v=void 0!==u;let A=`Function ${e}() called with invalid data`;t&&(A+=" (via `toFirestore()`)"),A+=". ";let G="";return(h||v)&&(G+=" (found",h&&(G+=` in field ${o}`),v&&(G+=` in document ${u}`),G+=")"),new re(q.INVALID_ARGUMENT,A+i+G)}function ey(i,e){return i.some(t=>t.isEqual(e))}class wd{constructor(e,t,o,u,h){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new ns(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ty(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ml("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ty extends wd{data(){return super.data()}}function Ml(i,e){return"string"==typeof e?Af(i,e):e instanceof Ou?e._internalPath:e._delegate._internalPath}class Nc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rl extends wd{constructor(e,t,o,u,h,v){super(e,t,o,u,v),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Ml("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class bd extends Rl{data(e={}){return super.data(e)}}class ac{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new Nc(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new bd(this._firestore,this._userDataWriter,o.key,o,new Nc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new re(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(v=>({type:"added",doc:new bd(o._firestore,o._userDataWriter,v.doc.key,v.doc,new Nc(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:h++}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(v=>u||3!==v.type).map(v=>{const A=new bd(o._firestore,o._userDataWriter,v.doc.key,v.doc,new Nc(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter);let G=-1,K=-1;return 0!==v.type&&(G=h.indexOf(v.doc.key),h=h.delete(v.doc.key)),1!==v.type&&(h=h.add(v.doc),K=h.indexOf(v.doc.key)),{type:ny(v.type),doc:A,oldIndex:G,newIndex:K}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ny(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return E()}}function S_(i,e){return i instanceof Rl&&e instanceof Rl?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof ac&&e instanceof ac&&i._firestore===e._firestore&&b_(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Sf(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new re(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kc{}function Vo(i,...e){for(const t of e)i=t._apply(i);return i}class M_ extends kc{constructor(e,t,o){super(),this._c=e,this.wc=t,this.mc=o,this.type="where"}_apply(e){const t=Sl(e.firestore),o=function(u,h,v,A,G,K,ce){let xe;if(G.isKeyField()){if("array-contains"===K||"array-contains-any"===K)throw new re(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${K}' queries on documentId().`);if("in"===K||"not-in"===K){ly(ce,K);const Rt=[];for(const Pt of ce)Rt.push(ag(A,u,Pt));xe={arrayValue:{values:Rt}}}else xe=ag(A,u,ce)}else"in"!==K&&"not-in"!==K&&"array-contains-any"!==K||ly(ce,K),xe=Jm(v,"where",ce,"in"===K||"not-in"===K);const lt=Qi.create(G,K,xe);return function(Rt,Pt){if(Pt.S()){const er=Cu(Rt);if(null!==er&&!er.isEqual(Pt.field))throw new re(q.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${er.toString()}' and '${Pt.field.toString()}'`);const is=Bl(Rt);null!==is&&ug(0,Pt.field,is)}const fn=function(er,is){for(const ks of er.filters)if(is.indexOf(ks.op)>=0)return ks.op;return null}(Rt,function(er){switch(er){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Pt.op));if(null!==fn)throw new re(q.INVALID_ARGUMENT,fn===Pt.op?`Invalid query. You cannot use more than one '${Pt.op.toString()}' filter.`:`Invalid query. You cannot use '${Pt.op.toString()}' filters with '${fn.toString()}' filters.`)}(u,lt),lt}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new ra(e.firestore,e.converter,function(u,h){const v=u.filters.concat([h]);return new iu(u.path,u.collectionGroup,u.explicitOrderBy.slice(),v,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}class hl extends kc{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(o,u,h){if(null!==o.startAt)throw new re(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new re(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const v=new Ts(u,h);return function(A,G){if(null===Bl(A)){const K=Cu(A);null!==K&&ug(0,K,G.field)}}(o,v),v}(e._query,this._c,this.gc);return new ra(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new iu(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class gu extends kc{constructor(e,t,o){super(),this.type=e,this.yc=t,this.Ic=o}_apply(e){return new ra(e.firestore,e.converter,fc(e._query,this.yc,this.Ic))}}class oy extends kc{constructor(e,t,o){super(),this.type=e,this.Tc=t,this.Ec=o}_apply(e){const t=uy(e,this.type,this.Tc,this.Ec);return new ra(e.firestore,e.converter,(u=t,new iu((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}class ay extends kc{constructor(e,t,o){super(),this.type=e,this.Tc=t,this.Ec=o}_apply(e){const t=uy(e,this.type,this.Tc,this.Ec);return new ra(e.firestore,e.converter,(u=t,new iu((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function uy(i,e,t,o){if(t[0]=(0,ot.m9)(t[0]),t[0]instanceof wd)return function(u,h,v,A,G){if(!A)throw new re(q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${v}().`);const K=[];for(const ce of su(u))if(ce.field.isKeyField())K.push(ya(h,A.key));else{const xe=A.data.field(ce.field);if(eu(xe))throw new re(q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ce.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===xe){const lt=ce.field.canonicalString();throw new re(q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${lt}' (used as the orderBy) does not exist.`)}K.push(xe)}return new va(K,G)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const u=Sl(i.firestore);return function(h,v,A,G,K,ce){const xe=h.explicitOrderBy;if(K.length>xe.length)throw new re(q.INVALID_ARGUMENT,`Too many arguments provided to ${G}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const lt=[];for(let Rt=0;Rt<K.length;Rt++){const Pt=K[Rt];if(xe[Rt].field.isKeyField()){if("string"!=typeof Pt)throw new re(q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${G}(), but got a ${typeof Pt}`);if(!za(h)&&-1!==Pt.indexOf("/"))throw new re(q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${G}() must be a plain document ID, but '${Pt}' contains a slash.`);const fn=h.path.child(fr.fromString(Pt));if(!zt.isDocumentKey(fn))throw new re(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${G}() must result in a valid document path, but '${fn}' is not because it contains an odd number of segments.`);const er=new zt(fn);lt.push(ya(v,er))}else{const fn=Jm(A,G,Pt);lt.push(fn)}}return new va(lt,ce)}(i._query,i.firestore._databaseId,u,e,t,o)}}function ag(i,e,t){if("string"==typeof(t=(0,ot.m9)(t))){if(""===t)throw new re(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!za(e)&&-1!==t.indexOf("/"))throw new re(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(fr.fromString(t));if(!zt.isDocumentKey(o))throw new re(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ya(i,new zt(o))}if(t instanceof ns)return ya(i,t._key);throw new re(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oc(t)}.`)}function ly(i,e){if(!Array.isArray(i)||0===i.length)throw new re(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new re(q.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function ug(i,e,t){if(!t.isEqual(e))throw new re(q.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const cy={maxAttempts:5};class Id{convertValue(e,t="none"){switch(Zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ei(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ko(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw E()}}convertObject(e,t){const o={};return Xa(e.fields,(u,h)=>{o[u]=this.convertValue(h,t)}),o}convertGeoPoint(e){return new oh(ei(e.latitude),ei(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Ps(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Is(e));default:return null}}convertTimestamp(e){const t=mi(e);return new Or(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=fr.fromString(e);M(Fe(o));const u=new go(o.get(1),o.get(3)),h=new zt(o.popFirst(5));return u.isEqual(t)||zr(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),h}}function Mf(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class dy extends Id{constructor(e){super(),this.firestore=e}convertBytes(e){return new dl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ns(this.firestore,null,t)}}class lg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Sl(e)}set(e,t,o){this._verifyNotCommitted();const u=fl(e,this._firestore),h=Mf(u.converter,t,o),v=ah(this._dataReader,"WriteBatch.set",u._key,h,null!==u.converter,o);return this._mutations.push(v.toMutation(u._key,Cs.none())),this}update(e,t,o,...u){this._verifyNotCommitted();const h=fl(e,this._firestore);let v;return v="string"==typeof(t=(0,ot.m9)(t))||t instanceof Ou?Qm(this._dataReader,"WriteBatch.update",h._key,t,o,u):Cf(this._dataReader,"WriteBatch.update",h._key,t),this._mutations.push(v.toMutation(h._key,Cs.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=fl(e,this._firestore);return this._mutations=this._mutations.concat(new b(t._key,Cs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new re(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function fl(i,e){if((i=(0,ot.m9)(i)).firestore!==e)throw new re(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class uc extends Id{constructor(e){super(),this.firestore=e}convertBytes(e){return new dl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ns(this.firestore,null,t)}}function cg(i,e,t){i=Hr(i,ns);const o=Hr(i.firestore,rs),u=Mf(i.converter,e,t);return Td(o,[ah(Sl(o),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,Cs.none())])}function dg(i,e,t,...o){i=Hr(i,ns);const u=Hr(i.firestore,rs),h=Sl(u);let v;return v="string"==typeof(e=(0,ot.m9)(e))||e instanceof Ou?Qm(h,"updateDoc",i._key,e,t,o):Cf(h,"updateDoc",i._key,e),Td(u,[v.toMutation(i._key,Cs.exists(!0))])}function yy(i,...e){var t,o,u;i=(0,ot.m9)(i);let h={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||Xp(e[v])||(h=e[v],v++);const A={includeMetadataChanges:h.includeMetadataChanges};if(Xp(e[v])){const xe=e[v];e[v]=null===(t=xe.next)||void 0===t?void 0:t.bind(xe),e[v+1]=null===(o=xe.error)||void 0===o?void 0:o.bind(xe),e[v+2]=null===(u=xe.complete)||void 0===u?void 0:u.bind(xe)}let G,K,ce;if(i instanceof ns)K=Hr(i.firestore,rs),ce=Pa(i._key.path),G={next:xe=>{e[v]&&e[v](hg(K,i,xe))},error:e[v+1],complete:e[v+2]};else{const xe=Hr(i,ra);K=Hr(xe.firestore,rs),ce=xe._query;const lt=new uc(K);G={next:Rt=>{e[v]&&e[v](new ac(K,lt,xe,Rt))},error:e[v+1],complete:e[v+2]},Sf(i._query)}return function(xe,lt,Rt,Pt){const fn=new eh(Pt),er=new Kd(lt,fn,Rt);return xe.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return Dp(yield th(xe),er)})),()=>{fn.Aa(),xe.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return Ap(yield th(xe),er)}))}}(Js(K),ce,A,G)}function Td(i,e){return function(t,o){const u=new st;return t.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function h_(i,e,t){return uf.apply(this,arguments)}(yield Gp(t),o,u)})),u.promise}(Js(i),e)}function hg(i,e,t){const o=t.docs.get(e._key),u=new uc(i);return new Rl(i,u,e._key,o,new Nc(t.hasPendingWrites,t.fromCache),e.converter)}class k_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Sl(e)}get(e){const t=fl(e,this._firestore),o=new dy(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return E();const h=u[0];if(h.isFoundDocument())return new wd(this._firestore,o,h.key,h,t.converter);if(h.isNoDocument())return new wd(this._firestore,o,t._key,null,t.converter);throw E()})}set(e,t,o){const u=fl(e,this._firestore),h=Mf(u.converter,t,o),v=ah(this._dataReader,"Transaction.set",u._key,h,null!==u.converter,o);return this._transaction.set(u._key,v),this}update(e,t,o,...u){const h=fl(e,this._firestore);let v;return v="string"==typeof(t=(0,ot.m9)(t))||t instanceof Ou?Qm(this._dataReader,"Transaction.update",h._key,t,o,u):Cf(this._dataReader,"Transaction.update",h._key,t),this._transaction.update(h._key,v),this}delete(e){const t=fl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=fl(e,this._firestore),o=new uc(this._firestore);return super.get(e).then(u=>new Rl(this._firestore,o,t._key,u._document,new Nc(!1,!1),t.converter))}}function xf(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new re("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function fg(){if("undefined"==typeof Uint8Array)throw new re("unimplemented","Uint8Arrays are not available in this environment.")}function pg(){if(!function bu(){return"undefined"!=typeof atob}())throw new re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){fo=ve.SDK_VERSION,(0,ve._registerComponent)(new Ke.wA("firestore",(t,{options:o})=>{const u=t.getProvider("app").getImmediate(),h=new rs(u,new hr(t.getProvider("auth-internal")),new No(t.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC")),(0,ve.registerVersion)(Ja,"3.4.9",i),(0,ve.registerVersion)(Ja,"3.4.9","esm2017")}();class Cd{constructor(e){this._delegate=e}static fromBase64String(e){return pg(),new Cd(dl.fromBase64String(e))}static fromUint8Array(e){return fg(),new Cd(dl.fromUint8Array(e))}toBase64(){return pg(),this._delegate.toBase64()}toUint8Array(){return fg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Of(i){return function vy(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class Ey{enableIndexedDbPersistence(e,t){return function Ef(i,e){ng(i=Hr(i,rs));const t=Js(i),o=i._freezeSettings(),u=new ff;return I_(t,u,new Bp(u,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function eg(i){ng(i=Hr(i,rs));const e=Js(i),t=i._freezeSettings(),o=new ff;return I_(e,o,new Dm(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function T_(i){if(i._initialized&&!i._terminated)throw new re(q.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new st;return i._queue.enqueueAndForgetEvenWhileRestricted((0,oe.Z)(function*(){try{yield(t=(0,oe.Z)(function*(o){if(!du.vt())return Promise.resolve();const u=o+"main";yield du.delete(u)}),function(o){return t.apply(this,arguments)})(Bd(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class gg{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof go||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&D("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function w_(i,e,t,o={}){var u;const h=(i=Hr(i,nh))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==e&&D("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let v,A;if("string"==typeof o.mockUserToken)v=o.mockUserToken,A=Pi.MOCK_USER;else{v=(0,ot.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const G=o.mockUserToken.sub||o.mockUserToken.user_id;if(!G)throw new re(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Pi(G)}i._authCredentials=new an(new en(v,A))}}(this._delegate,e,t,o)}enableNetwork(){return function bf(i){return function qp(i){return i.asyncQueue.enqueue((0,oe.Z)(function*(){const e=yield Pm(i),t=yield Nm(i);return e.setNetworkEnabled(!0),function(o){const u=z(o);return u.wu.delete(0),Hd(u)}(t)}))}(Js(i=Hr(i,rs)))}(this._delegate)}disableNetwork(){return function Hm(i){return function Wp(i){return i.asyncQueue.enqueue((0,oe.Z)(function*(){const e=yield Pm(i),t=yield Nm(i);return e.setNetworkEnabled(!1),(o=(0,oe.Z)(function*(u){const h=z(u);h.wu.add(0),yield $d(h),h.yu.set("Offline")}),function(u){return o.apply(this,arguments)})(t);var o}))}(Js(i=Hr(i,rs)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,Zp("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function wf(i){return function(e){const t=new st;return e.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function Qv(i,e){return cf.apply(this,arguments)}(yield Gp(e),t)})),t.promise}(Js(i=Hr(i,rs)))}(this._delegate)}onSnapshotsInSync(e){return function N_(i,e){return function v_(i,e){const t=new eh(e);return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return o=yield th(i),u=t,z(o).bu.add(u),void u.next();var o,u})),()=>{t.Aa(),i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return o=yield th(i),u=t,void z(o).bu.delete(u);var o,u}))}}(Js(i=Hr(i,rs)),Xp(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ad(this,Vm(this._delegate,e))}catch(t){throw Xs(t,"collection()","Firestore.collection()")}}doc(e){try{return new mu(this,rh(this._delegate,e))}catch(t){throw Xs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ia(this,function Um(i,e){if(i=Hr(i,nh),Kp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new re(q.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ra(i,null,(t=e,new iu(fr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Xs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function F_(i,e,t){i=Hr(i,rs);const o=Object.assign(Object.assign({},cy),t);return function(u){if(u.maxAttempts<1)throw new re(q.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function km(i,e,t){const o=new st;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){const u=yield(h=i,mf(h).then(v=>v.datastore));var h;new Mm(i.asyncQueue,u,t,e,o).run()})),o.promise}(Js(i),u=>e(new k_(i,u)),o)}(this._delegate,t=>e(new Pf(this,t)))}batch(){return Js(this._delegate),new lc(new lg(this._delegate,e=>Td(this._delegate,e)))}loadBundle(e){return function tg(i,e){const t=Js(i=Hr(i,rs)),o=new e0;return function Xv(i,e,t,o){const u=function(h,v){let A;return A="string"==typeof h?(new TextEncoder).encode(h):h,G=function(G,K){if(G instanceof Uint8Array)return jp(G,K);if(G instanceof ArrayBuffer)return jp(new Uint8Array(G),K);if(G instanceof ReadableStream)return G.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(A),new Am(G,v);var G}(t,hd(e));i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){!function vd(i,e,t){const o=z(i);var u;(u=(0,oe.Z)(function*(h,v,A){try{const G=yield v.getMetadata();if(yield function(lt,Rt){const Pt=z(lt),fn=_r(Rt.createTime);return Pt.persistence.runTransaction("hasNewerBundle","readonly",er=>Pt._s.getBundleMetadata(er,Rt.id)).then(er=>!!er&&er.createTime.compareTo(fn)>=0)}(h.localStore,G))return yield v.close(),A._completeWith({taskState:"Success",documentsLoaded:(lt=G).totalDocuments,bytesLoaded:lt.totalBytes,totalDocuments:lt.totalDocuments,totalBytes:lt.totalBytes}),Promise.resolve(new Set);A._updateProgress(Rp(G));const K=new pm(G,h.localStore,v.M);let ce=yield v.ma();for(;ce;){const lt=yield K.Fu(ce);lt&&A._updateProgress(lt),ce=yield v.ma()}const xe=yield K.complete();return yield Dl(h,xe.Lu,void 0),yield function(lt,Rt){const Pt=z(lt);return Pt.persistence.runTransaction("Save bundle","readwrite",fn=>Pt._s.saveBundleMetadata(fn,Rt))}(h.localStore,G),A._completeWith(xe.progress),Promise.resolve(xe.Bu)}catch(G){return D("SyncEngine",`Loading bundle failed with ${G}`),A._failWith(G),Promise.resolve(new Set)}var lt}),function(h,v,A){return u.apply(this,arguments)})(o,e,t).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield Gp(i),u,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function $m(i,e){return function E_(i,e){return i.asyncQueue.enqueue((0,oe.Z)(function*(){return function(t,o){const u=z(t);return u.persistence.runTransaction("Get named query","readonly",h=>u._s.getNamedQuery(h,o))}(yield _f(i),e)}))}(Js(i=Hr(i,rs)),e).then(t=>t?new ra(i,null,t.query):null)}(this._delegate,e).then(t=>t?new ia(this,t):null)}}class ch extends Id{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cd(new dl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return mu.forKey(t,this.firestore,null)}}class Pf{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ch(e)}get(e){const t=Lc(e);return this._delegate.get(t).then(o=>new kf(this._firestore,new Rl(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const u=Lc(e);return o?(xf("Transaction.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const h=Lc(e);return 2===arguments.length?this._delegate.update(h,t):this._delegate.update(h,t,o,...u),this}delete(e){const t=Lc(e);return this._delegate.delete(t),this}}class lc{constructor(e){this._delegate=e}set(e,t,o){const u=Lc(e);return o?(xf("WriteBatch.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const h=Lc(e);return 2===arguments.length?this._delegate.update(h,t):this._delegate.update(h,t,o,...u),this}delete(e){const t=Lc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Fc{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new bd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Dd(this._firestore,o),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Fc.INSTANCES;let u=o.get(e);u||(u=new WeakMap,o.set(e,u));let h=u.get(t);return h||(h=new Fc(e,new ch(e),t),u.set(t,h)),h}}Fc.INSTANCES=new WeakMap;class mu{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ch(e)}static forPath(e,t,o){if(e.length%2!=0)throw new re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new mu(t,new ns(t._delegate,o,new zt(e)))}static forKey(e,t,o){return new mu(t,new ns(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Ad(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ad(this.firestore,Vm(this._delegate,e))}catch(t){throw Xs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ot.m9)(e))instanceof ns&&vf(this._delegate,e)}set(e,t){t=xf("DocumentReference.set",t);try{return t?cg(this._delegate,e,t):cg(this._delegate,e)}catch(o){throw Xs(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?dg(this._delegate,e):dg(this._delegate,e,t,...o)}catch(u){throw Xs(u,"updateDoc()","DocumentReference.update()")}}delete(){return function O_(i){return Td(Hr(i.firestore,rs),[new b(i._key,Cs.none())])}(this._delegate)}onSnapshot(...e){const t=G_(e),o=Nf(e,u=>new kf(this.firestore,new Rl(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return yy(this._delegate,t,o)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function hy(i){i=Hr(i,ns);const e=Hr(i.firestore,rs),t=Js(e),o=new uc(e);return function m_(i,e){const t=new st;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return(o=(0,oe.Z)(function*(u,h,v){try{const A=yield function(G,K){const ce=z(G);return ce.persistence.runTransaction("read document","readonly",xe=>ce.fi.Ls(xe,K))}(u,h);A.isFoundDocument()?v.resolve(A):A.isNoDocument()?v.resolve(null):v.reject(new re(q.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(A){const G=pd(A,`Failed to get document '${h} from cache`);v.reject(G)}}),function(u,h,v){return o.apply(this,arguments)})(yield _f(i),e,t);var o})),t.promise}(t,i._key).then(u=>new Rl(e,o,i._key,u,new Nc(null!==u&&u.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function fy(i){i=Hr(i,ns);const e=Hr(i.firestore,rs);return y_(Js(e),i._key,{source:"server"}).then(t=>hg(e,i,t))}(this._delegate):function Rf(i){i=Hr(i,ns);const e=Hr(i.firestore,rs);return y_(Js(e),i._key).then(t=>hg(e,i,t))}(this._delegate),t.then(o=>new kf(this.firestore,new Rl(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new mu(this.firestore,this._delegate.withConverter(e?Fc.getInstance(this.firestore,e):null))}}function Xs(i,e,t){return i.message=i.message.replace(e,t),i}function G_(i){for(const e of i)if("object"==typeof e&&!Of(e))return e;return{}}function Nf(i,e){var t,o;let u;return u=Of(i[0])?i[0]:Of(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:h=>{u.next&&u.next(e(h))},error:null===(t=u.error)||void 0===t?void 0:t.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class kf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new mu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return S_(this._delegate,e._delegate)}}class Dd extends kf{data(e){const t=this._delegate.data(e);return function B(i,e){i||E()}(void 0!==t),t}}class ia{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ch(e)}where(e,t,o){try{return new ia(this.firestore,Vo(this._delegate,function ry(i,e,t){const o=e,u=Ml("where",i);return new M_(u,o,t)}(e,t,o)))}catch(u){throw Xs(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ia(this.firestore,Vo(this._delegate,function Pu(i,e="asc"){const t=e,o=Ml("orderBy",i);return new hl(o,t)}(e,t)))}catch(o){throw Xs(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ia(this.firestore,Vo(this._delegate,function iy(i){return Qp("limit",i),new gu("limit",i,"F")}(e)))}catch(t){throw Xs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ia(this.firestore,Vo(this._delegate,function sy(i){return Qp("limitToLast",i),new gu("limitToLast",i,"L")}(e)))}catch(t){throw Xs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ia(this.firestore,Vo(this._delegate,function R_(...i){return new oy("startAt",i,!0)}(...e)))}catch(t){throw Xs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ia(this.firestore,Vo(this._delegate,function x_(...i){return new oy("startAfter",i,!1)}(...e)))}catch(t){throw Xs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ia(this.firestore,Vo(this._delegate,function og(...i){return new ay("endBefore",i,!1)}(...e)))}catch(t){throw Xs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ia(this.firestore,Vo(this._delegate,function lh(...i){return new ay("endAt",i,!0)}(...e)))}catch(t){throw Xs(t,"endAt()","Query.endAt()")}}isEqual(e){return b_(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function gy(i){i=Hr(i,ra);const e=Hr(i.firestore,rs),t=Js(e),o=new uc(e);return function Jv(i,e){const t=new st;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return(o=(0,oe.Z)(function*(u,h,v){try{const A=yield Cl(u,h,!0),G=new ym(h,A._i),K=G.Wu(A.documents),ce=G.applyChanges(K,!1);v.resolve(ce.snapshot)}catch(A){const G=pd(A,`Failed to execute query '${h} against cache`);v.reject(G)}}),function(u,h,v){return o.apply(this,arguments)})(yield _f(i),e,t);var o})),t.promise}(t,i._query).then(u=>new ac(e,o,i,u))}(this._delegate):"server"===(null==e?void 0:e.source)?function my(i){i=Hr(i,ra);const e=Hr(i.firestore,rs),t=Js(e),o=new uc(e);return __(t,i._query,{source:"server"}).then(u=>new ac(e,o,i,u))}(this._delegate):function py(i){i=Hr(i,ra);const e=Hr(i.firestore,rs),t=Js(e),o=new uc(e);return Sf(i._query),__(t,i._query).then(u=>new ac(e,o,i,u))}(this._delegate),t.then(o=>new Hn(this.firestore,new ac(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=G_(e),o=Nf(e,u=>new Hn(this.firestore,new ac(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return yy(this._delegate,t,o)}withConverter(e){return new ia(this.firestore,this._delegate.withConverter(e?Fc.getInstance(this.firestore,e):null))}}class r0{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Dd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Hn{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ia(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Dd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new r0(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Dd(this._firestore,o))})}isEqual(e){return S_(this._delegate,e._delegate)}}class Ad extends ia{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new mu(this.firestore,e):null}doc(e){try{return new mu(this.firestore,void 0===e?rh(this._delegate):rh(this._delegate,e))}catch(t){throw Xs(t,"doc()","CollectionReference.doc()")}}add(e){return function P_(i,e){const t=Hr(i.firestore,rs),o=rh(i),u=Mf(i.converter,e);return Td(t,[ah(Sl(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Cs.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new mu(this.firestore,t))}isEqual(e){return vf(this._delegate,e._delegate)}withConverter(e){return new Ad(this.firestore,this._delegate.withConverter(e?Fc.getInstance(this.firestore,e):null))}}function Lc(i){return Hr(i,ns)}class mg{constructor(...e){this._delegate=new Ou(...e)}static documentId(){return new mg(ps.keyField().canonicalString())}isEqual(e){return(e=(0,ot.m9)(e))instanceof Ou&&this._delegate._internalPath.isEqual(e._internalPath)}}class pl{constructor(e){this._delegate=e}static serverTimestamp(){const e=function V_(){return new Tf("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new pl(e)}static delete(){const e=function L_(){return new Ed("deleteField")}();return e._methodName="FieldValue.delete",new pl(e)}static arrayUnion(...e){const t=function U_(...i){return new Km("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new pl(t)}static arrayRemove(...e){const t=function B_(...i){return new Zm("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new pl(t)}static increment(e){const t=function j_(i){return new Ym("increment",i)}(e);return t._methodName="FieldValue.increment",new pl(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const z_={Firestore:gg,GeoPoint:oh,Timestamp:Or,Blob:Cd,Transaction:Pf,WriteBatch:lc,DocumentReference:mu,DocumentSnapshot:kf,Query:ia,QueryDocumentSnapshot:Dd,QuerySnapshot:Hn,CollectionReference:Ad,FieldPath:mg,FieldValue:pl,setLogLevel:function wy(i){!function bs(i){qo.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Lf(i){(function Ff(i,e){i.INTERNAL.registerComponent(new Ke.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),u=t.getProvider("firestore").getImmediate();return e(o,u)},"PUBLIC").setServiceProps(Object.assign({},z_)))})(i,(e,t)=>new gg(e,t,new Ey)),i.registerVersion("@firebase/firestore-compat","0.1.18")}(Ut.Z);var Ti=U(1205),s0=U(440),by=U(127);function Iy(i,e){return function q_(i,e=O.z){return new X.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(i,e)}function Vf(i,e){return Iy(i,e).pipe((0,it.U)(t=>({payload:t,type:"query"})))}function dh(i,e){return Vf(i,e).pipe((0,St.O)(void 0),je(),(0,it.U)(([t,o])=>{const u=o.payload.docChanges(),h=u.map(v=>({type:v.type,payload:v}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((v,A)=>{const G=u.find(ce=>ce.doc.ref.isEqual(v.ref)),K=null==t?void 0:t.payload.docs.find(ce=>ce.ref.isEqual(v.ref));G&&JSON.stringify(G.doc.metadata)===JSON.stringify(v.metadata)||!G&&K&&JSON.stringify(K.metadata)===JSON.stringify(v.metadata)||h.push({type:"modified",payload:{oldIndex:A,newIndex:A,type:"modified",doc:v}})}),h}))}function yg(i,e,t){return dh(i,t).pipe((0,ht.R)((o,u)=>function W_(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function K_(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return _g(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return _g(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return _g(i,e.oldIndex,1)}return i}(i,o))}),i}(o,u.map(h=>h.payload),e),[]),function fe(i,e=pe.y){return i=null!=i?i:Ve,(0,Ue.e)((t,o)=>{let u,h=!0;t.subscribe((0,Oe.x)(o,v=>{const A=e(v);(h||!i(u,A))&&(h=!1,u=A,o.next(v))}))})}(),(0,it.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function _g(i,e,t,...o){const u=i.slice();return u.splice(e,t,...o),u}function Sd(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Cy{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=dh(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,it.U)(o=>o.filter(u=>e.indexOf(u.type)>-1)))),t.pipe((0,St.O)(void 0),je(),(0,Mt.h)(([o,u])=>u.length>0||!o),(0,it.U)(([o,u])=>u),Ae.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ht.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Sd(e);return yg(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}valueChanges(e={}){return Vf(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),Ae.iC)}get(e){return(0,Te.D)(this.query.get(e)).pipe(Ae.iC)}add(e){return this.ref.add(e)}doc(e){return new Dy(this.ref.doc(e),this.afs)}}class Dy{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:u,query:h}=My(o,t);return new Cy(u,h,this.afs)}snapshotChanges(){return function Ty(i,e){return Iy(i,e).pipe((0,St.O)(void 0),je(),(0,it.U)(([t,o])=>o.exists?(null==t?void 0:t.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,it.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Te.D)(this.ref.get(e)).pipe(Ae.iC)}}class Z_{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?dh(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,Mt.h)(t=>t.length>0),Ae.iC):dh(this.query,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ht.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Sd(e);return yg(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}valueChanges(e={}){return Vf(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(o=>o.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),Ae.iC)}get(e){return(0,Te.D)(this.query.get(e)).pipe(Ae.iC)}}const hh=new m.OlP("angularfire2.enableFirestorePersistence"),vg=new m.OlP("angularfire2.firestore.persistenceSettings"),Ay=new m.OlP("angularfire2.firestore.settings"),Sy=new m.OlP("angularfire2.firestore.use-emulator");function My(i,e=(t=>t)){return{query:e(i),ref:i}}let Md=(()=>{class i{constructor(t,o,u,h,v,A,G,K,ce,xe,lt,Rt,Pt,fn,er,is,ks){this.schedulers=G;const ti=(0,Ze.on)(t,A,o),eo=ce;xe&&(0,Ti.nw)(ti,A,lt,Pt,fn,er,Rt,is),[this.firestore,this.persistenceEnabled$]=(0,Ze.cc)(`${ti.name}.firestore`,"AngularFirestore",ti.name,()=>{const ss=A.runOutsideAngular(()=>ti.firestore());if(h&&ss.settings(h),eo&&ss.useEmulator(...eo),u&&!(0,dt.PM)(v)){const Ss=()=>{try{return(0,Te.D)(ss.enablePersistence(K||void 0).then(()=>!0,()=>!1))}catch(sa){return"undefined"!=typeof console&&console.warn(sa),(0,De.of)(!1)}};return[ss,A.runOutsideAngular(Ss)]}return[ss,(0,De.of)(!1)]},[h,eo,u])}collection(t,o){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:h,query:v}=My(u,o),A=this.schedulers.ngZone.run(()=>h);return new Cy(A,v,this)}collectionGroup(t,o){const u=o||(v=>v),h=this.firestore.collectionGroup(t);return new Z_(u(h),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>o);return new Dy(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(Ze.Dh),m.LFG(Ze.xv,8),m.LFG(hh,8),m.LFG(Ay,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Ae.HU),m.LFG(vg,8),m.LFG(Sy,8),m.LFG(Ti.zQ,8),m.LFG(Ti.Qv,8),m.LFG(Ti.L6,8),m.LFG(Ti._Q,8),m.LFG(Ti.rT,8),m.LFG(Ti.lh,8),m.LFG(Ti.f7,8),m.LFG(s0.nm,8))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),fh=(()=>{class i{constructor(){by.Z.registerVersion("angularfire",Ae.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:hh,useValue:!0},{provide:vg,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({providers:[Md]}),i})()},2011:(jt,ze,U)=>{U.d(ze,{Dh:()=>Oe,GT:()=>Ae,cc:()=>it,hO:()=>St,on:()=>pe,pX:()=>De,xv:()=>je});var m=U(5e3),O=U(127),X=U(5813);jt=U.hmd(jt);const Te=["ngOnDestroy"],De=(dt,Vt,Ut,oe={})=>new Proxy(dt,{get:(ve,Ke)=>Ut.runOutsideAngular(()=>{var Ge;if(dt[Ke])return(null===(Ge=null==oe?void 0:oe.spy)||void 0===Ge?void 0:Ge.get)&&oe.spy.get(Ke,dt[Ke]),dt[Ke];if(Te.indexOf(Ke)>-1)return()=>{};const ot=Vt.toPromise().then(de=>{const Xe=de&&de[Ke];return"function"==typeof Xe?Xe.bind(de):Xe&&Xe.then?Xe.then(se=>Ut.run(()=>se)):Ut.run(()=>Xe)});return new Proxy(()=>{},{get:(de,Xe)=>ot[Xe],apply:(de,Xe,se)=>ot.then(ke=>{var _e;const tt=ke&&ke(...se);return(null===(_e=null==oe?void 0:oe.spy)||void 0===_e?void 0:_e.apply)&&oe.spy.apply(Ke,se,tt),tt})})})}),Ae=(dt,Vt)=>{Vt.forEach(Ut=>{Object.getOwnPropertyNames(Ut.prototype||Ut).forEach(oe=>{Object.defineProperty(dt.prototype,oe,Object.getOwnPropertyDescriptor(Ut.prototype||Ut,oe))})})};class Ue{constructor(Vt){return Vt}}const Oe=new m.OlP("angularfire2.app.options"),je=new m.OlP("angularfire2.app.name");function pe(dt,Vt,Ut){const ve="object"==typeof Ut&&Ut||{};ve.name=ve.name||"string"==typeof Ut&&Ut||"[DEFAULT]";const Ge=O.Z.apps.filter(ot=>ot&&ot.name===ve.name)[0]||Vt.runOutsideAngular(()=>O.Z.initializeApp(dt,ve));try{JSON.stringify(dt)!==JSON.stringify(Ge.options)&&fe("error",`${Ge.name} Firebase App already initialized with different options${jt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ot){}return new Ue(Ge)}const fe=(dt,...Vt)=>{(0,m.X6Q)()&&"undefined"!=typeof console&&console[dt](...Vt)},Ve={provide:Ue,useFactory:pe,deps:[Oe,m.R0b,[new m.FiY,je]]};let St=(()=>{class dt{constructor(Ut){O.Z.registerVersion("angularfire",X.q4.full,"core"),O.Z.registerVersion("angularfire",X.q4.full,"app-compat"),O.Z.registerVersion("angular",m.q4F.full,Ut.toString())}static initializeApp(Ut,oe){return{ngModule:dt,providers:[{provide:Oe,useValue:Ut},{provide:je,useValue:oe}]}}}return dt.\u0275fac=function(Ut){return new(Ut||dt)(m.LFG(m.Lbi))},dt.\u0275mod=m.oAB({type:dt}),dt.\u0275inj=m.cJS({providers:[Ve]}),dt})();function it(dt,Vt,Ut,oe,ve){const[,Ke,Ge]=globalThis.\u0275AngularfireInstanceCache.find(ot=>ot[0]===dt)||[];if(Ke)return function ht(dt,Vt){try{return dt.toString()===Vt.toString()}catch(Ut){return dt===Vt}}(ve,Ge)||(Ze("error",`${Vt} was already initialized on the ${Ut} Firebase App with different settings.${Mt?" You may need to reload as Firebase is not HMR aware.":""}`),Ze("warn",{is:ve,was:Ge})),Ke;{const ot=oe();return globalThis.\u0275AngularfireInstanceCache.push([dt,ot,ve]),ot}}const Mt=!!jt.hot,Ze=(dt,...Vt)=>{(0,m.X6Q)()&&"undefined"!=typeof console&&console[dt](...Vt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(jt,ze,U)=>{U.d(ze,{q4:()=>ju,iC:()=>Gu,fc:()=>Yo,HU:()=>yl,vb:()=>ml,JM:()=>mo});var m=U(5e3),O=U(5867),X=U(5861),Te=U(9681),De=U(2090),Ae=U(4859),Ue=U(1877),Oe=U(8766);const je="@firebase/installations",Ve="w:0.5.9",St="FIS_v2",Vt=new De.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ut(P){return P instanceof De.ZR&&P.code.includes("request-failed")}function oe({projectId:P}){return`https://firebaseinstallations.googleapis.com/v1/projects/${P}/installations`}function ve(P){return{token:P.token,requestStatus:2,expiresIn:ke(P.expiresIn),creationTime:Date.now()}}function Ke(P,L){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,X.Z)(function*(P,L){const ae=(yield L.json()).error;return Vt.create("request-failed",{requestName:P,serverCode:ae.code,serverMessage:ae.message,serverStatus:ae.status})})).apply(this,arguments)}function ot({apiKey:P}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P})}function de(P,{refreshToken:L}){const Q=ot(P);return Q.append("Authorization",function _e(P){return`${St} ${P}`}(L)),Q}function Xe(P){return se.apply(this,arguments)}function se(){return(se=(0,X.Z)(function*(P){const L=yield P();return L.status>=500&&L.status<600?P():L})).apply(this,arguments)}function ke(P){return Number(P.replace("s","000"))}function tt(P,L){return We.apply(this,arguments)}function We(){return(We=(0,X.Z)(function*({appConfig:P,heartbeatServiceProvider:L},{fid:Q}){const ae=oe(P),$e=ot(P),rt=L.getImmediate({optional:!0});if(rt){const Bn=yield rt.getHeartbeatsHeader();Bn&&$e.append("x-firebase-client",Bn)}const un={method:"POST",headers:$e,body:JSON.stringify({fid:Q,authVersion:St,appId:P.appId,sdkVersion:Ve})},cn=yield Xe(()=>fetch(ae,un));if(cn.ok){const Bn=yield cn.json();return{fid:Bn.fid||Q,registrationStatus:2,refreshToken:Bn.refreshToken,authToken:ve(Bn.authToken)}}throw yield Ke("Create Installation",cn)})).apply(this,arguments)}function It(P){return new Promise(L=>{setTimeout(L,P)})}const Ot=/^[cdef][\w-]{21}$/;function Ct(){try{const P=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(P),P[0]=112+P[0]%16;const Q=function yn(P){return function Nt(P){return btoa(String.fromCharCode(...P)).replace(/\+/g,"-").replace(/\//g,"_")}(P).substr(0,22)}(P);return Ot.test(Q)?Q:""}catch(P){return""}}function Qt(P){return`${P.appName}!${P.appId}`}const nt=new Map;function et(P,L){const Q=Qt(P);Dt(Q,L),function Ht(P,L){const Q=function Wn(){return!Pn&&"BroadcastChannel"in self&&(Pn=new BroadcastChannel("[Firebase] FID Change"),Pn.onmessage=P=>{Dt(P.data.key,P.data.fid)}),Pn}();Q&&Q.postMessage({key:P,fid:L}),function Zn(){0===nt.size&&Pn&&(Pn.close(),Pn=null)}()}(Q,L)}function Dt(P,L){const Q=nt.get(P);if(Q)for(const ae of Q)ae(L)}let Pn=null;const sr="firebase-installations-store";let Xn=null;function sn(){return Xn||(Xn=(0,Oe.X3)("firebase-installations-database",1,{upgrade:(P,L)=>{0===L&&P.createObjectStore(sr)}})),Xn}function gn(P,L){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,X.Z)(function*(P,L){const Q=Qt(P),$e=(yield sn()).transaction(sr,"readwrite"),rt=$e.objectStore(sr),At=yield rt.get(Q);return yield rt.put(L,Q),yield $e.done,(!At||At.fid!==L.fid)&&et(P,L.fid),L})).apply(this,arguments)}function wn(P){return _i.apply(this,arguments)}function _i(){return(_i=(0,X.Z)(function*(P){const L=Qt(P),ae=(yield sn()).transaction(sr,"readwrite");yield ae.objectStore(sr).delete(L),yield ae.done})).apply(this,arguments)}function ui(P,L){return gt.apply(this,arguments)}function gt(){return(gt=(0,X.Z)(function*(P,L){const Q=Qt(P),$e=(yield sn()).transaction(sr,"readwrite"),rt=$e.objectStore(sr),At=yield rt.get(Q),un=L(At);return void 0===un?yield rt.delete(Q):yield rt.put(un,Q),yield $e.done,un&&(!At||At.fid!==un.fid)&&et(P,un.fid),un})).apply(this,arguments)}function be(P){return Se.apply(this,arguments)}function Se(){return(Se=(0,X.Z)(function*(P){let L;const Q=yield ui(P.appConfig,ae=>{const $e=Et(ae),rt=He(P,$e);return L=rt.registrationPromise,rt.installationEntry});return""===Q.fid?{installationEntry:yield L}:{installationEntry:Q,registrationPromise:L}})).apply(this,arguments)}function Et(P){return Yr(P||{fid:Ct(),registrationStatus:0})}function He(P,L){if(0===L.registrationStatus){if(!navigator.onLine)return{installationEntry:L,registrationPromise:Promise.reject(Vt.create("app-offline"))};const Q={fid:L.fid,registrationStatus:1,registrationTime:Date.now()},ae=function _t(P,L){return kt.apply(this,arguments)}(P,Q);return{installationEntry:Q,registrationPromise:ae}}return 1===L.registrationStatus?{installationEntry:L,registrationPromise:pn(P)}:{installationEntry:L}}function kt(){return(kt=(0,X.Z)(function*(P,L){try{const Q=yield tt(P,L);return gn(P.appConfig,Q)}catch(Q){throw Ut(Q)&&409===Q.customData.serverCode?yield wn(P.appConfig):yield gn(P.appConfig,{fid:L.fid,registrationStatus:0}),Q}})).apply(this,arguments)}function pn(P){return _n.apply(this,arguments)}function _n(){return(_n=(0,X.Z)(function*(P){let L=yield bn(P.appConfig);for(;1===L.registrationStatus;)yield It(100),L=yield bn(P.appConfig);if(0===L.registrationStatus){const{installationEntry:Q,registrationPromise:ae}=yield be(P);return ae||Q}return L})).apply(this,arguments)}function bn(P){return ui(P,L=>{if(!L)throw Vt.create("installation-not-found");return Yr(L)})}function Yr(P){return function br(P){return 1===P.registrationStatus&&P.registrationTime+1e4<Date.now()}(P)?{fid:P.fid,registrationStatus:0}:P}function Yn(P,L){return ue.apply(this,arguments)}function ue(){return(ue=(0,X.Z)(function*({appConfig:P,heartbeatServiceProvider:L},Q){const ae=ge(P,Q),$e=de(P,Q),rt=L.getImmediate({optional:!0});if(rt){const Bn=yield rt.getHeartbeatsHeader();Bn&&$e.append("x-firebase-client",Bn)}const un={method:"POST",headers:$e,body:JSON.stringify({installation:{sdkVersion:Ve,appId:P.appId}})},cn=yield Xe(()=>fetch(ae,un));if(cn.ok)return ve(yield cn.json());throw yield Ke("Generate Auth Token",cn)})).apply(this,arguments)}function ge(P,{fid:L}){return`${oe(P)}/${L}/authTokens:generate`}function Ce(P){return yt.apply(this,arguments)}function yt(){return(yt=(0,X.Z)(function*(P,L=!1){let Q;const ae=yield ui(P.appConfig,rt=>{if(!ln(rt))throw Vt.create("not-registered");const At=rt.authToken;if(!L&&vr(At))return rt;if(1===At.requestStatus)return Q=he(P,L),rt;{if(!navigator.onLine)throw Vt.create("app-offline");const un=Rr(rt);return Q=Bt(P,un),un}});return Q?yield Q:ae.authToken})).apply(this,arguments)}function he(P,L){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,X.Z)(function*(P,L){let Q=yield wt(P.appConfig);for(;1===Q.authToken.requestStatus;)yield It(100),Q=yield wt(P.appConfig);const ae=Q.authToken;return 0===ae.requestStatus?Ce(P,L):ae})).apply(this,arguments)}function wt(P){return ui(P,L=>{if(!ln(L))throw Vt.create("not-registered");return function qr(P){return 1===P.requestStatus&&P.requestTime+1e4<Date.now()}(L.authToken)?Object.assign(Object.assign({},L),{authToken:{requestStatus:0}}):L})}function Bt(P,L){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,X.Z)(function*(P,L){try{const Q=yield Yn(P,L),ae=Object.assign(Object.assign({},L),{authToken:Q});return yield gn(P.appConfig,ae),Q}catch(Q){if(!Ut(Q)||401!==Q.customData.serverCode&&404!==Q.customData.serverCode){const ae=Object.assign(Object.assign({},L),{authToken:{requestStatus:0}});yield gn(P.appConfig,ae)}else yield wn(P.appConfig);throw Q}})).apply(this,arguments)}function ln(P){return void 0!==P&&2===P.registrationStatus}function vr(P){return 2===P.requestStatus&&!function dn(P){const L=Date.now();return L<P.creationTime||P.creationTime+P.expiresIn<L+36e5}(P)}function Rr(P){const L={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},P),{authToken:L})}function qe(){return(qe=(0,X.Z)(function*(P){const L=P,{installationEntry:Q,registrationPromise:ae}=yield be(L);return ae?ae.catch(console.error):Ce(L).catch(console.error),Q.fid})).apply(this,arguments)}function ie(){return(ie=(0,X.Z)(function*(P,L=!1){const Q=P;return yield Le(Q),(yield Ce(Q,L)).token})).apply(this,arguments)}function Le(P){return ft.apply(this,arguments)}function ft(){return(ft=(0,X.Z)(function*(P){const{registrationPromise:L}=yield be(P);L&&(yield L)})).apply(this,arguments)}function Vi(P){return Vt.create("missing-app-config-values",{valueName:P})}const Ir="installations",Gt=P=>{const L=P.getProvider("app").getImmediate(),Q=function Gr(P){if(!P||!P.options)throw Vi("App Configuration");if(!P.name)throw Vi("App Name");const L=["projectId","apiKey","appId"];for(const Q of L)if(!P.options[Q])throw Vi(Q);return{appName:P.name,projectId:P.options.projectId,apiKey:P.options.apiKey,appId:P.options.appId}}(L);return{app:L,appConfig:Q,heartbeatServiceProvider:(0,Te._getProvider)(L,"heartbeat"),_delete:()=>Promise.resolve()}},Tn=P=>{const L=P.getProvider("app").getImmediate(),Q=(0,Te._getProvider)(L,Ir).getImmediate();return{getId:()=>function Fi(P){return qe.apply(this,arguments)}(Q),getToken:$e=>function Me(P){return ie.apply(this,arguments)}(Q,$e)}};(function xr(){(0,Te._registerComponent)(new Ae.wA(Ir,Gt,"PUBLIC")),(0,Te._registerComponent)(new Ae.wA("installations-internal",Tn,"PRIVATE"))})(),(0,Te.registerVersion)(je,"0.5.9"),(0,Te.registerVersion)(je,"0.5.9","esm2017");const Ri="@firebase/remote-config",kr=new De.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Uo{constructor(L,Q,ae,$e){this.client=L,this.storage=Q,this.storageCache=ae,this.logger=$e}isCachedDataFresh(L,Q){if(!Q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ae=Date.now()-Q,$e=ae<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ae}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${$e}.`),$e}fetch(L){var Q=this;return(0,X.Z)(function*(){const[ae,$e]=yield Promise.all([Q.storage.getLastSuccessfulFetchTimestampMillis(),Q.storage.getLastSuccessfulFetchResponse()]);if($e&&Q.isCachedDataFresh(L.cacheMaxAgeMillis,ae))return $e;L.eTag=$e&&$e.eTag;const rt=yield Q.client.fetch(L),At=[Q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===rt.status&&At.push(Q.storage.setLastSuccessfulFetchResponse(rt)),yield Promise.all(At),rt})()}}function oa(P=navigator){return P.languages&&P.languages[0]||P.language}class Dr{constructor(L,Q,ae,$e,rt,At){this.firebaseInstallations=L,this.sdkVersion=Q,this.namespace=ae,this.projectId=$e,this.apiKey=rt,this.appId=At}fetch(L){var Q=this;return(0,X.Z)(function*(){const[ae,$e]=yield Promise.all([Q.firebaseInstallations.getId(),Q.firebaseInstallations.getToken()]),At=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Q.projectId}/namespaces/${Q.namespace}:fetch?key=${Q.apiKey}`,un={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},cn={sdk_version:Q.sdkVersion,app_instance_id:ae,app_instance_id_token:$e,app_id:Q.appId,language_code:oa()},Bn={method:"POST",headers:un,body:JSON.stringify(cn)},Sr=fetch(At,Bn),xn=new Promise((vo,js)=>{L.signal.addEventListener(()=>{const Oa=new Error("The operation was aborted.");Oa.name="AbortError",js(Oa)})});let gs;try{yield Promise.race([Sr,xn]),gs=yield Sr}catch(vo){let js="fetch-client-network";throw"AbortError"===vo.name&&(js="fetch-timeout"),kr.create(js,{originalErrorMessage:vo.message})}let ar=gs.status;const xa=gs.headers.get("ETag")||void 0;let Si,wr;if(200===gs.status){let vo;try{vo=yield gs.json()}catch(js){throw kr.create("fetch-client-parse",{originalErrorMessage:js.message})}Si=vo.entries,wr=vo.state}if("INSTANCE_STATE_UNSPECIFIED"===wr?ar=500:"NO_CHANGE"===wr?ar=304:("NO_TEMPLATE"===wr||"EMPTY_CONFIG"===wr)&&(Si={}),304!==ar&&200!==ar)throw kr.create("fetch-status",{httpStatus:ar});return{status:ar,eTag:xa,config:Si}})()}}class Ne{constructor(L,Q){this.client=L,this.storage=Q}fetch(L){var Q=this;return(0,X.Z)(function*(){const ae=(yield Q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Q.attemptFetch(L,ae)})()}attemptFetch(L,{throttleEndTimeMillis:Q,backoffCount:ae}){var $e=this;return(0,X.Z)(function*(){yield function Gi(P,L){return new Promise((Q,ae)=>{const $e=Math.max(L-Date.now(),0),rt=setTimeout(Q,$e);P.addEventListener(()=>{clearTimeout(rt),ae(kr.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,Q);try{const rt=yield $e.client.fetch(L);return yield $e.storage.deleteThrottleMetadata(),rt}catch(rt){if(!function zs(P){if(!(P instanceof De.ZR&&P.customData))return!1;const L=Number(P.customData.httpStatus);return 429===L||500===L||503===L||504===L}(rt))throw rt;const At={throttleEndTimeMillis:Date.now()+(0,De.$s)(ae),backoffCount:ae+1};return yield $e.storage.setThrottleMetadata(At),$e.attemptFetch(L,At)}})()}}class mt{constructor(L,Q,ae,$e,rt){this.app=L,this._client=Q,this._storageCache=ae,this._storage=$e,this._logger=rt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Lt(P,L){const Q=P.target.error||void 0;return kr.create(L,{originalErrorMessage:Q&&Q.message})}const Jt="app_namespace_store";class _s{constructor(L,Q,ae,$e=function tr(){return new Promise((P,L)=>{try{const Q=indexedDB.open("firebase_remote_config",1);Q.onerror=ae=>{L(Lt(ae,"storage-open"))},Q.onsuccess=ae=>{P(ae.target.result)},Q.onupgradeneeded=ae=>{0===ae.oldVersion&&ae.target.result.createObjectStore(Jt,{keyPath:"compositeKey"})}}catch(Q){L(kr.create("storage-open",{originalErrorMessage:Q}))}})}()){this.appId=L,this.appName=Q,this.namespace=ae,this.openDbPromise=$e}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var Q=this;return(0,X.Z)(function*(){const ae=yield Q.openDbPromise;return new Promise(($e,rt)=>{const un=ae.transaction([Jt],"readonly").objectStore(Jt),cn=Q.createCompositeKey(L);try{const Bn=un.get(cn);Bn.onerror=Sr=>{rt(Lt(Sr,"storage-get"))},Bn.onsuccess=Sr=>{const xn=Sr.target.result;$e(xn?xn.value:void 0)}}catch(Bn){rt(kr.create("storage-get",{originalErrorMessage:Bn&&Bn.message}))}})})()}set(L,Q){var ae=this;return(0,X.Z)(function*(){const $e=yield ae.openDbPromise;return new Promise((rt,At)=>{const cn=$e.transaction([Jt],"readwrite").objectStore(Jt),Bn=ae.createCompositeKey(L);try{const Sr=cn.put({compositeKey:Bn,value:Q});Sr.onerror=xn=>{At(Lt(xn,"storage-set"))},Sr.onsuccess=()=>{rt()}}catch(Sr){At(kr.create("storage-set",{originalErrorMessage:Sr&&Sr.message}))}})})()}delete(L){var Q=this;return(0,X.Z)(function*(){const ae=yield Q.openDbPromise;return new Promise(($e,rt)=>{const un=ae.transaction([Jt],"readwrite").objectStore(Jt),cn=Q.createCompositeKey(L);try{const Bn=un.delete(cn);Bn.onerror=Sr=>{rt(Lt(Sr,"storage-delete"))},Bn.onsuccess=()=>{$e()}}catch(Bn){rt(kr.create("storage-delete",{originalErrorMessage:Bn&&Bn.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class vs{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,X.Z)(function*(){const Q=L.storage.getLastFetchStatus(),ae=L.storage.getLastSuccessfulFetchTimestampMillis(),$e=L.storage.getActiveConfig(),rt=yield Q;rt&&(L.lastFetchStatus=rt);const At=yield ae;At&&(L.lastSuccessfulFetchTimestampMillis=At);const un=yield $e;un&&(L.activeConfig=un)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function hi(){return to.apply(this,arguments)}function to(){return(to=(0,X.Z)(function*(){if(!(0,De.hl)())return!1;try{return yield(0,De.eu)()}catch(P){return!1}})).apply(this,arguments)}!function Jr(){(0,Te._registerComponent)(new Ae.wA("remote-config",function P(L,{instanceIdentifier:Q}){const ae=L.getProvider("app").getImmediate(),$e=L.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw kr.create("registration-window");if(!(0,De.hl)())throw kr.create("indexed-db-unavailable");const{projectId:rt,apiKey:At,appId:un}=ae.options;if(!rt)throw kr.create("registration-project-id");if(!At)throw kr.create("registration-api-key");if(!un)throw kr.create("registration-app-id");const cn=new _s(un,ae.name,Q=Q||"firebase"),Bn=new vs(cn),Sr=new Ue.Yd(Ri);Sr.logLevel=Ue.in.ERROR;const xn=new Dr($e,Te.SDK_VERSION,Q,rt,At,un),gs=new Ne(xn,cn),ar=new Uo(gs,cn,Bn,Sr),xa=new mt(ae,ar,Bn,cn,Sr);return function Kn(P){const L=(0,De.m9)(P);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(xa),xa},"PUBLIC").setMultipleInstances(!0)),(0,Te.registerVersion)(Ri,"0.3.8"),(0,Te.registerVersion)(Ri,"0.3.8","esm2017")}();const no="/firebase-messaging-sw.js",ii="/firebase-cloud-messaging-push-scope",qs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wi="google.c.a.c_id",Io="google.c.a.c_l",xs="google.c.a.ts",Bo="google.c.a.e";var ro=(()=>{return(P=ro||(ro={})).PUSH_RECEIVED="push-received",P.NOTIFICATION_CLICKED="notification-clicked",ro;var P})();function fi(P){const L=new Uint8Array(P);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Mo(P){const Q=(P+"=".repeat((4-P.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ae=atob(Q),$e=new Uint8Array(ae.length);for(let rt=0;rt<ae.length;++rt)$e[rt]=ae.charCodeAt(rt);return $e}const si="fcm_token_details_db",Fr="fcm_token_object_Store";function To(P){return io.apply(this,arguments)}function io(){return io=(0,X.Z)(function*(P){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(rt=>rt.name).includes(si))return null;let L=null;return(yield(0,Oe.X3)(si,5,{upgrade:(ae=(0,X.Z)(function*($e,rt,At,un){var cn;if(rt<2||!$e.objectStoreNames.contains(Fr))return;const Bn=un.objectStore(Fr),Sr=yield Bn.index("fcmSenderId").get(P);if(yield Bn.clear(),Sr)if(2===rt){const xn=Sr;if(!xn.auth||!xn.p256dh||!xn.endpoint)return;L={token:xn.fcmToken,createTime:null!==(cn=xn.createTime)&&void 0!==cn?cn:Date.now(),subscriptionOptions:{auth:xn.auth,p256dh:xn.p256dh,endpoint:xn.endpoint,swScope:xn.swScope,vapidKey:"string"==typeof xn.vapidKey?xn.vapidKey:fi(xn.vapidKey)}}}else if(3===rt){const xn=Sr;L={token:xn.fcmToken,createTime:xn.createTime,subscriptionOptions:{auth:fi(xn.auth),p256dh:fi(xn.p256dh),endpoint:xn.endpoint,swScope:xn.swScope,vapidKey:fi(xn.vapidKey)}}}else if(4===rt){const xn=Sr;L={token:xn.fcmToken,createTime:xn.createTime,subscriptionOptions:{auth:fi(xn.auth),p256dh:fi(xn.p256dh),endpoint:xn.endpoint,swScope:xn.swScope,vapidKey:fi(xn.vapidKey)}}}}),function(rt,At,un,cn){return ae.apply(this,arguments)})})).close(),yield(0,Oe.Lj)(si),yield(0,Oe.Lj)("fcm_vapid_details_db"),yield(0,Oe.Lj)("undefined"),so(L)?L:null;var ae}),io.apply(this,arguments)}function so(P){if(!P||!P.subscriptionOptions)return!1;const{subscriptionOptions:L}=P;return"number"==typeof P.createTime&&P.createTime>0&&"string"==typeof P.token&&P.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}const bi="firebase-messaging-store";let jo=null;function Mr(){return jo||(jo=(0,Oe.X3)("firebase-messaging-database",1,{upgrade:(P,L)=>{0===L&&P.createObjectStore(bi)}})),jo}function F(P){return W.apply(this,arguments)}function W(){return(W=(0,X.Z)(function*(P){const L=ct(P),ae=yield(yield Mr()).transaction(bi).objectStore(bi).get(L);if(ae)return ae;{const $e=yield To(P.appConfig.senderId);if($e)return yield k(P,$e),$e}})).apply(this,arguments)}function k(P,L){return J.apply(this,arguments)}function J(){return(J=(0,X.Z)(function*(P,L){const Q=ct(P),$e=(yield Mr()).transaction(bi,"readwrite");return yield $e.objectStore(bi).put(L,Q),yield $e.done,L})).apply(this,arguments)}function Ee(P){return at.apply(this,arguments)}function at(){return(at=(0,X.Z)(function*(P){const L=ct(P),ae=(yield Mr()).transaction(bi,"readwrite");yield ae.objectStore(bi).delete(L),yield ae.done})).apply(this,arguments)}function ct({appConfig:P}){return P.appId}const Vn=new De.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function dr(P,L){return kn.apply(this,arguments)}function kn(){return(kn=(0,X.Z)(function*(P,L){const Q=yield Ui(P),ae=Oi(L),$e={method:"POST",headers:Q,body:JSON.stringify(ae)};let rt;try{rt=yield(yield fetch(Ki(P.appConfig),$e)).json()}catch(At){throw Vn.create("token-subscribe-failed",{errorInfo:At})}if(rt.error)throw Vn.create("token-subscribe-failed",{errorInfo:rt.error.message});if(!rt.token)throw Vn.create("token-subscribe-no-token");return rt.token})).apply(this,arguments)}function qn(P,L){return jr.apply(this,arguments)}function jr(){return(jr=(0,X.Z)(function*(P,L){const Q=yield Ui(P),ae=Oi(L.subscriptionOptions),$e={method:"PATCH",headers:Q,body:JSON.stringify(ae)};let rt;try{rt=yield(yield fetch(`${Ki(P.appConfig)}/${L.token}`,$e)).json()}catch(At){throw Vn.create("token-update-failed",{errorInfo:At})}if(rt.error)throw Vn.create("token-update-failed",{errorInfo:rt.error.message});if(!rt.token)throw Vn.create("token-update-no-token");return rt.token})).apply(this,arguments)}function Er(P,L){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,X.Z)(function*(P,L){const ae={method:"DELETE",headers:yield Ui(P)};try{const rt=yield(yield fetch(`${Ki(P.appConfig)}/${L}`,ae)).json();if(rt.error)throw Vn.create("token-unsubscribe-failed",{errorInfo:rt.error.message})}catch($e){throw Vn.create("token-unsubscribe-failed",{errorInfo:$e})}})).apply(this,arguments)}function Ki({projectId:P}){return`https://fcmregistrations.googleapis.com/v1/projects/${P}/registrations`}function Ui(P){return An.apply(this,arguments)}function An(){return(An=(0,X.Z)(function*({appConfig:P,installations:L}){const Q=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P.apiKey,"x-goog-firebase-installations-auth":`FIS ${Q}`})})).apply(this,arguments)}function Oi({p256dh:P,auth:L,endpoint:Q,vapidKey:ae}){const $e={web:{endpoint:Q,auth:L,p256dh:P}};return ae!==qs&&($e.web.applicationPubKey=ae),$e}const Os=6048e5;function Co(P){return aa.apply(this,arguments)}function aa(){return(aa=(0,X.Z)(function*(P){const L=yield or(P.swRegistration,P.vapidKey),Q={vapidKey:P.vapidKey,swScope:P.swRegistration.scope,endpoint:L.endpoint,auth:fi(L.getKey("auth")),p256dh:fi(L.getKey("p256dh"))},ae=yield F(P.firebaseDependencies);if(ae){if(Bi(ae.subscriptionOptions,Q))return Date.now()>=ae.createTime+Os?R(P,{token:ae.token,createTime:Date.now(),subscriptionOptions:Q}):ae.token;try{yield Er(P.firebaseDependencies,ae.token)}catch($e){console.warn($e)}return me(P.firebaseDependencies,Q)}return me(P.firebaseDependencies,Q)})).apply(this,arguments)}function V(P){return N.apply(this,arguments)}function N(){return(N=(0,X.Z)(function*(P){const L=yield F(P.firebaseDependencies);L&&(yield Er(P.firebaseDependencies,L.token),yield Ee(P.firebaseDependencies));const Q=yield P.swRegistration.pushManager.getSubscription();return!Q||Q.unsubscribe()})).apply(this,arguments)}function R(P,L){return Y.apply(this,arguments)}function Y(){return(Y=(0,X.Z)(function*(P,L){try{const Q=yield qn(P.firebaseDependencies,L),ae=Object.assign(Object.assign({},L),{token:Q,createTime:Date.now()});return yield k(P.firebaseDependencies,ae),Q}catch(Q){throw yield V(P),Q}})).apply(this,arguments)}function me(P,L){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,X.Z)(function*(P,L){const ae={token:yield dr(P,L),createTime:Date.now(),subscriptionOptions:L};return yield k(P,ae),ae.token})).apply(this,arguments)}function or(P,L){return rr.apply(this,arguments)}function rr(){return(rr=(0,X.Z)(function*(P,L){return(yield P.pushManager.getSubscription())||P.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Mo(L)})})).apply(this,arguments)}function Bi(P,L){return L.vapidKey===P.vapidKey&&L.endpoint===P.endpoint&&L.auth===P.auth&&L.p256dh===P.p256dh}function Es(P){const L={from:P.from,collapseKey:P.collapse_key,messageId:P.fcmMessageId};return function ji(P,L){if(!L.notification)return;P.notification={};const Q=L.notification.title;Q&&(P.notification.title=Q);const ae=L.notification.body;ae&&(P.notification.body=ae);const $e=L.notification.image;$e&&(P.notification.image=$e)}(L,P),function Ws(P,L){!L.data||(P.data=L.data)}(L,P),function ua(P,L){if(!L.fcmOptions)return;P.fcmOptions={};const Q=L.fcmOptions.link;Q&&(P.fcmOptions.link=Q);const ae=L.fcmOptions.analytics_label;ae&&(P.fcmOptions.analyticsLabel=ae)}(L,P),L}function ku(P){return"object"==typeof P&&!!P&&wi in P}function Fu(P,L){const Q=[];for(let ae=0;ae<P.length;ae++)Q.push(P.charAt(ae)),ae<L.length&&Q.push(L.charAt(ae));return Q.join("")}function Ks(P){return Vn.create("missing-app-config-values",{valueName:P})}Fu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Fu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class pi{constructor(L,Q,ae){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const $e=function Ol(P){if(!P||!P.options)throw Ks("App Configuration Object");if(!P.name)throw Ks("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:Q}=P;for(const ae of L)if(!Q[ae])throw Ks(ae);return{appName:P.name,projectId:Q.projectId,apiKey:Q.apiKey,appId:Q.appId,senderId:Q.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:$e,installations:Q,analyticsProvider:ae}}_delete(){return Promise.resolve()}}function ws(P){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,X.Z)(function*(P){try{P.swRegistration=yield navigator.serviceWorker.register(no,{scope:ii}),P.swRegistration.update().catch(()=>{})}catch(L){throw Vn.create("failed-service-worker-registration",{browserErrorMessage:L.message})}})).apply(this,arguments)}function Ro(P,L){return ds.apply(this,arguments)}function ds(){return(ds=(0,X.Z)(function*(P,L){if(!L&&!P.swRegistration&&(yield ws(P)),L||!P.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw Vn.create("invalid-sw-registration");P.swRegistration=L}})).apply(this,arguments)}function la(P,L){return yu.apply(this,arguments)}function yu(){return(yu=(0,X.Z)(function*(P,L){L?P.vapidKey=L:P.vapidKey||(P.vapidKey=qs)})).apply(this,arguments)}function Ka(){return(Ka=(0,X.Z)(function*(P,L){if(!navigator)throw Vn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Vn.create("permission-blocked");return yield la(P,null==L?void 0:L.vapidKey),yield Ro(P,null==L?void 0:L.serviceWorkerRegistration),Co(P)})).apply(this,arguments)}function Fa(P,L,Q){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,X.Z)(function*(P,L,Q){const ae=ir(L);(yield P.firebaseDependencies.analyticsProvider.get()).logEvent(ae,{message_id:Q[wi],message_name:Q[Io],message_time:Q[xs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ir(P){switch(P){case ro.NOTIFICATION_CLICKED:return"notification_open";case ro.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ta(){return(Ta=(0,X.Z)(function*(P,L){const Q=L.data;if(!Q.isFirebaseMessaging)return;P.onMessageHandler&&Q.messageType===ro.PUSH_RECEIVED&&("function"==typeof P.onMessageHandler?P.onMessageHandler(Es(Q)):P.onMessageHandler.next(Es(Q)));const ae=Q.data;ku(ae)&&"1"===ae[Bo]&&(yield Fa(P,Q.messageType,ae))})).apply(this,arguments)}const Ca="@firebase/messaging",La=P=>{const L=new pi(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),P.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Q=>function ca(P,L){return Ta.apply(this,arguments)}(L,Q)),L},Ho=P=>{const L=P.getProvider("messaging").getImmediate();return{getToken:ae=>function oi(P,L){return Ka.apply(this,arguments)}(L,ae)}};function Za(){return da.apply(this,arguments)}function da(){return(da=(0,X.Z)(function*(){try{yield(0,De.eu)()}catch(P){return!1}return"undefined"!=typeof window&&(0,De.hl)()&&(0,De.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function oo(){(0,Te._registerComponent)(new Ae.wA("messaging",La,"PUBLIC")),(0,Te._registerComponent)(new Ae.wA("messaging-internal",Ho,"PRIVATE")),(0,Te.registerVersion)(Ca,"0.9.13"),(0,Te.registerVersion)(Ca,"0.9.13","esm2017")}();const vu="analytics",gl="firebase_id",ao="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Po="https://www.googletagmanager.com/gtag/js",yr=new Ue.Yd("@firebase/analytics");function Qa(P){return Promise.all(P.map(L=>L.catch(Q=>Q)))}function Ua(P,L){const Q=document.createElement("script");Q.src=`${Po}?l=${P}&id=${L}`,Q.async=!0,document.head.appendChild(Q)}function lo(P,L,Q,ae,$e,rt){return fs.apply(this,arguments)}function fs(){return(fs=(0,X.Z)(function*(P,L,Q,ae,$e,rt){const At=ae[$e];try{if(At)yield L[At];else{const cn=(yield Qa(Q)).find(Bn=>Bn.measurementId===$e);cn&&(yield L[cn.appId])}}catch(un){yr.error(un)}P("config",$e,rt)})).apply(this,arguments)}function Uu(P,L,Q,ae,$e){return co.apply(this,arguments)}function co(){return(co=(0,X.Z)(function*(P,L,Q,ae,$e){try{let rt=[];if($e&&$e.send_to){let At=$e.send_to;Array.isArray(At)||(At=[At]);const un=yield Qa(Q);for(const cn of At){const Bn=un.find(xn=>xn.measurementId===cn),Sr=Bn&&L[Bn.appId];if(!Sr){rt=[];break}rt.push(Sr)}}0===rt.length&&(rt=Object.values(L)),yield Promise.all(rt),P("event",ae,$e||{})}catch(rt){yr.error(rt)}})).apply(this,arguments)}function Ba(){const P=window.document.getElementsByTagName("script");for(const L of Object.values(P))if(L.src&&L.src.includes(Po))return L;return null}const Ls=new De.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ys=new class Vs{constructor(L={},Q=1e3){this.throttleMetadata=L,this.intervalMillis=Q}getThrottleMetadata(L){return this.throttleMetadata[L]}setThrottleMetadata(L,Q){this.throttleMetadata[L]=Q}deleteThrottleMetadata(L){delete this.throttleMetadata[L]}};function ja(P){return new Headers({Accept:"application/json","x-goog-api-key":P})}function Go(P){return Do.apply(this,arguments)}function Do(){return(Do=(0,X.Z)(function*(P){var L;const{appId:Q,apiKey:ae}=P,$e={method:"GET",headers:ja(ae)},rt=ao.replace("{app-id}",Q),At=yield fetch(rt,$e);if(200!==At.status&&304!==At.status){let un="";try{const cn=yield At.json();(null===(L=cn.error)||void 0===L?void 0:L.message)&&(un=cn.error.message)}catch(cn){}throw Ls.create("config-fetch-failed",{httpStatus:At.status,responseMessage:un})}return At.json()})).apply(this,arguments)}function gi(P){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,X.Z)(function*(P,L=Ys,Q){const{appId:ae,apiKey:$e,measurementId:rt}=P.options;if(!ae)throw Ls.create("no-app-id");if(!$e){if(rt)return{measurementId:rt,appId:ae};throw Ls.create("no-api-key")}const At=L.getThrottleMetadata(ae)||{backoffCount:0,throttleEndTimeMillis:Date.now()},un=new fo;return setTimeout((0,X.Z)(function*(){un.abort()}),void 0!==Q?Q:6e4),ho({appId:ae,apiKey:$e,measurementId:rt},At,un,L)})).apply(this,arguments)}function ho(P,L,Q){return zo.apply(this,arguments)}function zo(){return(zo=(0,X.Z)(function*(P,{throttleEndTimeMillis:L,backoffCount:Q},ae,$e=Ys){const{appId:rt,measurementId:At}=P;try{yield Ja(ae,L)}catch(un){if(At)return yr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${At} provided in the "measurementId" field in the local Firebase config. [${un.message}]`),{appId:rt,measurementId:At};throw un}try{const un=yield Go(P);return $e.deleteThrottleMetadata(rt),un}catch(un){if(!Pi(un)){if($e.deleteThrottleMetadata(rt),At)return yr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${At} provided in the "measurementId" field in the local Firebase config. [${un.message}]`),{appId:rt,measurementId:At};throw un}const cn=503===Number(un.customData.httpStatus)?(0,De.$s)(Q,$e.intervalMillis,30):(0,De.$s)(Q,$e.intervalMillis),Bn={throttleEndTimeMillis:Date.now()+cn,backoffCount:Q+1};return $e.setThrottleMetadata(rt,Bn),yr.debug(`Calling attemptFetch again in ${cn} millis`),ho(P,Bn,ae,$e)}})).apply(this,arguments)}function Ja(P,L){return new Promise((Q,ae)=>{const $e=Math.max(L-Date.now(),0),rt=setTimeout(Q,$e);P.addEventListener(()=>{clearTimeout(rt),ae(Ls.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}function Pi(P){if(!(P instanceof De.ZR&&P.customData))return!1;const L=Number(P.customData.httpStatus);return 429===L||500===L||503===L||504===L}class fo{constructor(){this.listeners=[]}addEventListener(L){this.listeners.push(L)}abort(){this.listeners.forEach(L=>L())}}function qo(){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,X.Z)(function*(){if(!(0,De.hl)())return yr.warn(Ls.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,De.eu)()}catch(P){return yr.warn(Ls.create("indexeddb-unavailable",{errorInfo:P}).message),!1}return!0})).apply(this,arguments)}function Ft(){return(Ft=(0,X.Z)(function*(P,L,Q,ae,$e,rt,At){var un;const cn=gi(P);cn.then(ar=>{Q[ar.measurementId]=ar.appId,P.options.measurementId&&ar.measurementId!==P.options.measurementId&&yr.warn(`The measurement ID in the local Firebase config (${P.options.measurementId}) does not match the measurement ID fetched from the server (${ar.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ar=>yr.error(ar)),L.push(cn);const Bn=qo().then(ar=>{if(ar)return ae.getId()}),[Sr,xn]=yield Promise.all([cn,Bn]);Ba()||Ua(rt,Sr.measurementId),$e("js",new Date);const gs=null!==(un=null==At?void 0:At.config)&&void 0!==un?un:{};return gs.origin="firebase",gs.update=!0,null!=xn&&(gs[gl]=xn),$e("config",Sr.measurementId,gs),Sr.measurementId})).apply(this,arguments)}class zr{constructor(L){this.app=L}_delete(){return delete D[this.app.options.appId],Promise.resolve()}}let D={},T=[];const E={};let z,q,M="dataLayer",re=!1;function $n(P,L,Q){!function en(){const P=[];if((0,De.ru)()&&P.push("This is a browser extension environment."),(0,De.zI)()||P.push("Cookies are not available."),P.length>0){const L=P.map((ae,$e)=>`(${$e+1}) ${ae}`).join(" "),Q=Ls.create("invalid-analytics-context",{errorInfo:L});yr.warn(Q.message)}}();const ae=P.options.appId;if(!ae)throw Ls.create("no-app-id");if(!P.options.apiKey){if(!P.options.measurementId)throw Ls.create("no-api-key");yr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${P.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=D[ae])throw Ls.create("already-exists",{id:ae});if(!re){!function uo(P){let L=[];Array.isArray(window[P])?L=window[P]:window[P]=L}(M);const{wrappedGtag:rt,gtagCore:At}=function Bu(P,L,Q,ae,$e){let rt=function(...At){window[ae].push(arguments)};return window[$e]&&"function"==typeof window[$e]&&(rt=window[$e]),window[$e]=function Da(P,L,Q,ae){function rt(){return(rt=(0,X.Z)(function*(At,un,cn){try{"event"===At?yield Uu(P,L,Q,un,cn):"config"===At?yield lo(P,L,Q,ae,un,cn):P("set",un)}catch(Bn){yr.error(Bn)}})).apply(this,arguments)}return function $e(At,un,cn){return rt.apply(this,arguments)}}(rt,P,L,Q),{gtagCore:rt,wrappedGtag:window[$e]}}(D,T,E,M,"gtag");q=rt,z=At,re=!0}return D[ae]=function bs(P,L,Q,ae,$e,rt,At){return Ft.apply(this,arguments)}(P,T,E,L,z,M,Q),new zr(P)}function hr(){return(hr=(0,X.Z)(function*(P,L,Q,ae,$e){if($e&&$e.global)P("event",Q,ae);else{const rt=yield L;P("event",Q,Object.assign(Object.assign({},ae),{send_to:rt}))}})).apply(this,arguments)}function Aa(){return Or.apply(this,arguments)}function Or(){return(Or=(0,X.Z)(function*(){if((0,De.ru)()||!(0,De.zI)()||!(0,De.hl)())return!1;try{return yield(0,De.eu)()}catch(P){return!1}})).apply(this,arguments)}const fr="@firebase/analytics";!function ps(){(0,Te._registerComponent)(new Ae.wA(vu,(L,{options:Q})=>$n(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),Q),"PUBLIC")),(0,Te._registerComponent)(new Ae.wA("analytics-internal",function P(L){try{const Q=L.getProvider(vu).getImmediate();return{logEvent:(ae,$e,rt)=>function Eu(P,L,Q,ae){P=(0,De.m9)(P),function an(P,L,Q,ae,$e){return hr.apply(this,arguments)}(q,D[P.app.options.appId],L,Q,ae).catch($e=>yr.error($e))}(Q,ae,$e,rt)}}catch(Q){throw Ls.create("interop-component-reg-failed",{reason:Q})}},"PRIVATE")),(0,Te.registerVersion)(fr,"0.7.9"),(0,Te.registerVersion)(fr,"0.7.9","esm2017")}();var $a=U(4408),Hi=U(7565);const mi=new class Yi extends Hi.v{}(class bu extends $a.o{constructor(L,Q){super(L,Q),this.scheduler=L,this.work=Q}schedule(L,Q=0){return Q>0?super.schedule(L,Q):(this.delay=Q,this.state=L,this.scheduler.flush(this),this)}execute(L,Q){return Q>0||this.closed?super.execute(L,Q):this._execute(L,Q)}requestAsyncId(L,Q,ae=0){return null!=ae&&ae>0||null==ae&&this.delay>0?super.requestAsyncId(L,Q,ae):L.flush(this)}});var ko=U(4986),eu=U(8505),Ps=U(5363),Is=U(9468);const ju=new m.GfV("7.3.0"),go="__angularfire_symbol__analyticsIsSupportedValue",Ao="__angularfire_symbol__analyticsIsSupported",Us="__angularfire_symbol__remoteConfigIsSupportedValue",Ko="__angularfire_symbol__remoteConfigIsSupported",zt="__angularfire_symbol__messagingIsSupportedValue",ma="__angularfire_symbol__messagingIsSupported";function mo(P,L,Q){if(L){if(1===L.length)return L[0];const rt=L.filter(At=>At.app===Q);if(1===rt.length)return rt[0]}return Q.container.getProvider(P).getImmediate({optional:!0})}globalThis[Ao]||(globalThis[Ao]=Aa().then(P=>globalThis[go]=P).catch(()=>globalThis[go]=!1)),globalThis[ma]||(globalThis[ma]=Za().then(P=>globalThis[zt]=P).catch(()=>globalThis[zt]=!1)),globalThis[Ko]||(globalThis[Ko]=hi().then(P=>globalThis[Us]=P).catch(()=>globalThis[Us]=!1));const ml=(P,L)=>{const Q=L?[L]:(0,O.C6)(),ae=[];return Q.forEach($e=>{$e.container.getProvider(P).instances.forEach(At=>{ae.includes(At)||ae.push(At)})}),ae};function Bs(){}class Hu{constructor(L,Q=mi){this.zone=L,this.delegate=Q}now(){return this.delegate.now()}schedule(L,Q,ae){const $e=this.zone;return this.delegate.schedule(function(At){$e.runGuarded(()=>{L.apply(this,[At])})},Q,ae)}}class ya{constructor(L){this.zone=L,this.task=null}call(L,Q){const ae=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bs,{},Bs,Bs)),Q.pipe((0,eu.b)({next:ae,complete:ae,error:ae})).subscribe(L).add(ae)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let yl=(()=>{class P{constructor(Q){this.ngZone=Q,this.outsideAngular=Q.runOutsideAngular(()=>new Hu(Zone.current)),this.insideAngular=Q.run(()=>new Hu(Zone.current,ko.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return P.\u0275fac=function(Q){return new(Q||P)(m.LFG(m.R0b))},P.\u0275prov=m.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function yo(){const P=globalThis.\u0275AngularFireScheduler;if(!P)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return P}function Yo(P){return P.pipe((0,Ps.Q)(yo().outsideAngular))}function Gu(P){return yo(),function _a(P){return function(Q){return(Q=Q.lift(new ya(P.ngZone))).pipe((0,Is.R)(P.outsideAngular),(0,Ps.Q)(P.insideAngular))}}(yo())(P)}},2090:(jt,ze,U)=>{U.d(ze,{$s:()=>bn,BH:()=>St,G6:()=>ot,L:()=>Oe,LL:()=>We,Mn:()=>Ke,Sg:()=>it,UG:()=>Ze,US:()=>Ae,ZB:()=>fe,ZR:()=>tt,b$:()=>Ut,d:()=>oe,eu:()=>Xe,hl:()=>de,jU:()=>dt,m9:()=>Yn,ne:()=>Xn,pd:()=>lr,r3:()=>we,ru:()=>Vt,tV:()=>je,uI:()=>Mt,vZ:()=>Pn,w1:()=>ve,xO:()=>Zn,xb:()=>Dt,z$:()=>ht,zI:()=>se,zd:()=>pr});const Te=function(ue){const ge=[];let Ce=0;for(let yt=0;yt<ue.length;yt++){let he=ue.charCodeAt(yt);he<128?ge[Ce++]=he:he<2048?(ge[Ce++]=he>>6|192,ge[Ce++]=63&he|128):55296==(64512&he)&&yt+1<ue.length&&56320==(64512&ue.charCodeAt(yt+1))?(he=65536+((1023&he)<<10)+(1023&ue.charCodeAt(++yt)),ge[Ce++]=he>>18|240,ge[Ce++]=he>>12&63|128,ge[Ce++]=he>>6&63|128,ge[Ce++]=63&he|128):(ge[Ce++]=he>>12|224,ge[Ce++]=he>>6&63|128,ge[Ce++]=63&he|128)}return ge},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ue,ge){if(!Array.isArray(ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ce=ge?this.byteToCharMapWebSafe_:this.byteToCharMap_,yt=[];for(let he=0;he<ue.length;he+=3){const Pe=ue[he],wt=he+1<ue.length,Bt=wt?ue[he+1]:0,Wt=he+2<ue.length,ln=Wt?ue[he+2]:0;let Rr=(15&Bt)<<2|ln>>6,qr=63&ln;Wt||(qr=64,wt||(Rr=64)),yt.push(Ce[Pe>>2],Ce[(3&Pe)<<4|Bt>>4],Ce[Rr],Ce[qr])}return yt.join("")},encodeString(ue,ge){return this.HAS_NATIVE_SUPPORT&&!ge?btoa(ue):this.encodeByteArray(Te(ue),ge)},decodeString(ue,ge){return this.HAS_NATIVE_SUPPORT&&!ge?atob(ue):function(ue){const ge=[];let Ce=0,yt=0;for(;Ce<ue.length;){const he=ue[Ce++];if(he<128)ge[yt++]=String.fromCharCode(he);else if(he>191&&he<224){const Pe=ue[Ce++];ge[yt++]=String.fromCharCode((31&he)<<6|63&Pe)}else if(he>239&&he<365){const Wt=((7&he)<<18|(63&ue[Ce++])<<12|(63&ue[Ce++])<<6|63&ue[Ce++])-65536;ge[yt++]=String.fromCharCode(55296+(Wt>>10)),ge[yt++]=String.fromCharCode(56320+(1023&Wt))}else{const Pe=ue[Ce++],wt=ue[Ce++];ge[yt++]=String.fromCharCode((15&he)<<12|(63&Pe)<<6|63&wt)}}return ge.join("")}(this.decodeStringToByteArray(ue,ge))},decodeStringToByteArray(ue,ge){this.init_();const Ce=ge?this.charToByteMapWebSafe_:this.charToByteMap_,yt=[];for(let he=0;he<ue.length;){const Pe=Ce[ue.charAt(he++)],Bt=he<ue.length?Ce[ue.charAt(he)]:0;++he;const ln=he<ue.length?Ce[ue.charAt(he)]:64;++he;const dn=he<ue.length?Ce[ue.charAt(he)]:64;if(++he,null==Pe||null==Bt||null==ln||null==dn)throw Error();yt.push(Pe<<2|Bt>>4),64!==ln&&(yt.push(Bt<<4&240|ln>>2),64!==dn&&yt.push(ln<<6&192|dn))}return yt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ue=0;ue<this.ENCODED_VALS.length;ue++)this.byteToCharMap_[ue]=this.ENCODED_VALS.charAt(ue),this.charToByteMap_[this.byteToCharMap_[ue]]=ue,this.byteToCharMapWebSafe_[ue]=this.ENCODED_VALS_WEBSAFE.charAt(ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ue]]=ue,ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ue)]=ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ue)]=ue)}}},Oe=function(ue){return function(ue){const ge=Te(ue);return Ae.encodeByteArray(ge,!0)}(ue).replace(/\./g,"")},je=function(ue){try{return Ae.decodeString(ue,!0)}catch(ge){console.error("base64Decode failed: ",ge)}return null};function fe(ue,ge){if(!(ge instanceof Object))return ge;switch(ge.constructor){case Date:return new Date(ge.getTime());case Object:void 0===ue&&(ue={});break;case Array:ue=[];break;default:return ge}for(const Ce in ge)!ge.hasOwnProperty(Ce)||!Ve(Ce)||(ue[Ce]=fe(ue[Ce],ge[Ce]));return ue}function Ve(ue){return"__proto__"!==ue}class St{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ge,Ce)=>{this.resolve=ge,this.reject=Ce})}wrapCallback(ge){return(Ce,yt)=>{Ce?this.reject(Ce):this.resolve(yt),"function"==typeof ge&&(this.promise.catch(()=>{}),1===ge.length?ge(Ce):ge(Ce,yt))}}}function it(ue,ge){if(ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const yt=ge||"demo-project",he=ue.iat||0,Pe=ue.sub||ue.user_id;if(!Pe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const wt=Object.assign({iss:`https://securetoken.google.com/${yt}`,aud:yt,iat:he,exp:he+3600,auth_time:he,sub:Pe,user_id:Pe,firebase:{sign_in_provider:"custom",identities:{}}},ue);return[Oe(JSON.stringify({alg:"none",type:"JWT"})),Oe(JSON.stringify(wt)),""].join(".")}function ht(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Mt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function Ze(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ue){return!1}}function dt(){return"object"==typeof self&&self.self===self}function Vt(){const ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ue&&void 0!==ue.id}function Ut(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function oe(){return ht().indexOf("Electron/")>=0}function ve(){const ue=ht();return ue.indexOf("MSIE ")>=0||ue.indexOf("Trident/")>=0}function Ke(){return ht().indexOf("MSAppHost/")>=0}function ot(){return!Ze()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function de(){return"object"==typeof indexedDB}function Xe(){return new Promise((ue,ge)=>{try{let Ce=!0;const yt="validate-browser-context-for-indexeddb-analytics-module",he=self.indexedDB.open(yt);he.onsuccess=()=>{he.result.close(),Ce||self.indexedDB.deleteDatabase(yt),ue(!0)},he.onupgradeneeded=()=>{Ce=!1},he.onerror=()=>{var Pe;ge((null===(Pe=he.error)||void 0===Pe?void 0:Pe.message)||"")}}catch(Ce){ge(Ce)}})}function se(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class tt extends Error{constructor(ge,Ce,yt){super(Ce),this.code=ge,this.customData=yt,this.name="FirebaseError",Object.setPrototypeOf(this,tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,We.prototype.create)}}class We{constructor(ge,Ce,yt){this.service=ge,this.serviceName=Ce,this.errors=yt}create(ge,...Ce){const yt=Ce[0]||{},he=`${this.service}/${ge}`,Pe=this.errors[ge],wt=Pe?function It(ue,ge){return ue.replace(Nt,(Ce,yt)=>{const he=ge[yt];return null!=he?String(he):`<${yt}?>`})}(Pe,yt):"Error";return new tt(he,`${this.serviceName}: ${wt} (${he}).`,yt)}}const Nt=/\{\$([^}]+)}/g;function we(ue,ge){return Object.prototype.hasOwnProperty.call(ue,ge)}function Dt(ue){for(const ge in ue)if(Object.prototype.hasOwnProperty.call(ue,ge))return!1;return!0}function Pn(ue,ge){if(ue===ge)return!0;const Ce=Object.keys(ue),yt=Object.keys(ge);for(const he of Ce){if(!yt.includes(he))return!1;const Pe=ue[he],wt=ge[he];if(Wn(Pe)&&Wn(wt)){if(!Pn(Pe,wt))return!1}else if(Pe!==wt)return!1}for(const he of yt)if(!Ce.includes(he))return!1;return!0}function Wn(ue){return null!==ue&&"object"==typeof ue}function Zn(ue){const ge=[];for(const[Ce,yt]of Object.entries(ue))Array.isArray(yt)?yt.forEach(he=>{ge.push(encodeURIComponent(Ce)+"="+encodeURIComponent(he))}):ge.push(encodeURIComponent(Ce)+"="+encodeURIComponent(yt));return ge.length?"&"+ge.join("&"):""}function pr(ue){const ge={};return ue.replace(/^\?/,"").split("&").forEach(yt=>{if(yt){const[he,Pe]=yt.split("=");ge[decodeURIComponent(he)]=decodeURIComponent(Pe)}}),ge}function lr(ue){const ge=ue.indexOf("?");if(!ge)return"";const Ce=ue.indexOf("#",ge);return ue.substring(ge,Ce>0?Ce:void 0)}function Xn(ue,ge){const Ce=new sn(ue,ge);return Ce.subscribe.bind(Ce)}class sn{constructor(ge,Ce){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ce,this.task.then(()=>{ge(this)}).catch(yt=>{this.error(yt)})}next(ge){this.forEachObserver(Ce=>{Ce.next(ge)})}error(ge){this.forEachObserver(Ce=>{Ce.error(ge)}),this.close(ge)}complete(){this.forEachObserver(ge=>{ge.complete()}),this.close()}subscribe(ge,Ce,yt){let he;if(void 0===ge&&void 0===Ce&&void 0===yt)throw new Error("Missing Observer.");he=function Mn(ue,ge){if("object"!=typeof ue||null===ue)return!1;for(const Ce of ge)if(Ce in ue&&"function"==typeof ue[Ce])return!0;return!1}(ge,["next","error","complete"])?ge:{next:ge,error:Ce,complete:yt},void 0===he.next&&(he.next=wn),void 0===he.error&&(he.error=wn),void 0===he.complete&&(he.complete=wn);const Pe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?he.error(this.finalError):he.complete()}catch(wt){}}),this.observers.push(he),Pe}unsubscribeOne(ge){void 0===this.observers||void 0===this.observers[ge]||(delete this.observers[ge],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ge){if(!this.finalized)for(let Ce=0;Ce<this.observers.length;Ce++)this.sendOne(Ce,ge)}sendOne(ge,Ce){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ge])try{Ce(this.observers[ge])}catch(yt){"undefined"!=typeof console&&console.error&&console.error(yt)}})}close(ge){this.finalized||(this.finalized=!0,void 0!==ge&&(this.finalError=ge),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wn(){}function bn(ue,ge=1e3,Ce=2){const yt=ge*Math.pow(Ce,ue),he=Math.round(.5*yt*(Math.random()-.5)*2);return Math.min(144e5,yt+he)}function Yn(ue){return ue&&ue._delegate?ue._delegate:ue}},7123:(jt,ze,U)=>{U.d(ze,{b:()=>m});class m{constructor(){this.email="",this.name="",this.lastName="",this.tipo=""}}},5146:(jt,ze,U)=>{U.d(ze,{s:()=>X});var m=U(5e3),O=U(520);let X=(()=>{class Te{constructor(Ae){this.http=Ae}ObtenerGitHub(){return this.http.get("https://api.github.com/users/EzequielArchilla")}ObtenerPaises(){return this.http.get("https://restcountries.com/v3.1/all")}ObtenerPais(Ae){return this.http.get("https://restcountries.com/v3.1/name/"+Ae+"?fullText=true")}}return Te.\u0275fac=function(Ae){return new(Ae||Te)(m.LFG(O.eN))},Te.\u0275prov=m.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})()},1228:(jt,ze,U)=>{U.d(ze,{e:()=>De});var m=U(7579),O=U(7123),X=U(5e3),Te=U(1205);let De=(()=>{class Ae{constructor(Oe){this.afAuth=Oe,this.userLogged=new O.b,this.logged=!1,this.loggedChange=new m.x,this.loggedChange.subscribe(je=>{this.logged=je})}signIn(Oe,je){return this.afAuth.signInWithEmailAndPassword(Oe,je)}signUp(Oe,je){return this.afAuth.createUserWithEmailAndPassword(Oe,je)}signOut(){return this.afAuth.signOut()}setLogged(Oe){this.loggedChange.next(Oe)}}return Ae.\u0275fac=function(Oe){return new(Oe||Ae)(X.LFG(Te.zQ))},Ae.\u0275prov=X.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})()},6282:(jt,ze,U)=>{var m=U(2313),O=U(5e3),X=U(520),Te=U(2382),De=U(3809),Ae=U(7123),Ue=U(2290),Oe=U(7566);let je=(()=>{class y{constructor(g){this.db=g,this.usuariosRef=this.db.collection("usuarios")}crearUsuario(g){return this.usuariosRef.add(Object.assign({},g))}update(g,b){return this.usuariosRef.doc(g).update(b)}delete(g){return this.usuariosRef.doc(g).delete()}}return y.\u0275fac=function(g){return new(g||y)(O.LFG(Oe.ST))},y.\u0275prov=O.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();var pe=U(1228);let fe=(()=>{class y{constructor(g,b,x,j){this.toastr=g,this.router=b,this.userFire=x,this.userAuthService=j,this.usuario=new Ae.b,this.password=""}ngOnInit(){}fastLogIn(g){"admin"==g?(this.usuario.email="admin@test.com",this.usuario.tipo="admin",this.password="123456"):(this.usuario.email="empleado@test.com",this.usuario.tipo="empleado",this.password="123456")}showSuccess(){this.toastr.success("Ingreso correcto!")}showError(g){this.toastr.error("Error: "+g)}logIn(){this.userAuthService.signIn(this.usuario.email,this.password).then(g=>{this.userAuthService.userLogged=this.usuario,this.userAuthService.setLogged(!0),this.showSuccess(),setTimeout(()=>{this.router.navigate(["bienvenido"])},1e3)}).catch(g=>{this.showError(g.message)})}}return y.\u0275fac=function(g){return new(g||y)(O.Y36(Ue._W),O.Y36(De.F0),O.Y36(je),O.Y36(pe.e))},y.\u0275cmp=O.Xpm({type:y,selectors:[["app-ingreso"]],decls:22,vars:2,consts:[[1,"text-center"],[1,"form-signin"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["type","email","id","floatingInput","placeholder","name@example.com",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput"],["type","password","id","floatingPassword","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingPassword"],[1,"w-100","mb-4","btn","btn-lg","btn-primary",3,"click"],[1,"w-100","mb-2","btn","btn-lg","btn-primary",3,"click"],["routerLink","/registro"],[1,"mt-5","mb-3","text-muted"]],template:function(g,b){1&g&&(O.TgZ(0,"body",0)(1,"main",1)(2,"h1",2),O._uU(3,"Parcial Ezequiel Archilla"),O.qZA(),O.TgZ(4,"div",3)(5,"input",4),O.NdJ("ngModelChange",function(j){return b.usuario.email=j}),O.qZA(),O.TgZ(6,"label",5),O._uU(7,"Email"),O.qZA()(),O.TgZ(8,"div",3)(9,"input",6),O.NdJ("ngModelChange",function(j){return b.password=j}),O.qZA(),O.TgZ(10,"label",7),O._uU(11,"Contrase\xf1a"),O.qZA()(),O.TgZ(12,"button",8),O.NdJ("click",function(){return b.logIn()}),O._uU(13,"Ingreso"),O.qZA(),O.TgZ(14,"button",9),O.NdJ("click",function(){return b.fastLogIn("empleado")}),O._uU(15,"Ingreso Rapido Empleado"),O.qZA(),O.TgZ(16,"button",8),O.NdJ("click",function(){return b.fastLogIn("admin")}),O._uU(17,"Ingreso Rapido Admin"),O.qZA(),O.TgZ(18,"a",10),O._uU(19,"Registrarse"),O.qZA(),O.TgZ(20,"p",11),O._uU(21,"\xa9 Ezequiel Archilla 2022"),O.qZA()()()),2&g&&(O.xp6(5),O.Q6J("ngModel",b.usuario.email),O.xp6(4),O.Q6J("ngModel",b.password))},directives:[Te.Fj,Te.JJ,Te.On,De.yS],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}"]}),y})(),Ve=(()=>{class y{constructor(g,b,x,j){this.toastr=g,this.router=b,this.userAuthService=x,this.userFire=j,this.usuario=new Ae.b,this.password=""}ngOnInit(){}showSuccess(){this.toastr.success("Registrado correcto!")}showError(g){this.toastr.error("Error: "+g)}signUp(){this.userAuthService.signUp(this.usuario.email,this.password).then(g=>{this.userFire.crearUsuario(this.usuario),this.userAuthService.userLogged=this.usuario,this.userAuthService.setLogged(!0),this.showSuccess(),setTimeout(()=>{this.router.navigate(["bienvenido"])},1e3)}).catch(g=>{this.showError(g.message)})}}return y.\u0275fac=function(g){return new(g||y)(O.Y36(Ue._W),O.Y36(De.F0),O.Y36(pe.e),O.Y36(je))},y.\u0275cmp=O.Xpm({type:y,selectors:[["app-registro"]],decls:30,vars:4,consts:[[1,"text-center"],[1,"form-signin"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["type","email",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput"],[2,"display","flex"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","password",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingPassword"],["value","Empleado"],["value","Administrador"],[1,"w-100","btn","btn-lg","btn-primary",3,"click"],[1,"mt-5","mb-3","text-muted"]],template:function(g,b){1&g&&(O.TgZ(0,"body",0)(1,"main",1)(2,"h1",2),O._uU(3,"Parcial Ezequiel Archilla"),O.qZA(),O.TgZ(4,"div",3)(5,"input",4),O.NdJ("ngModelChange",function(j){return b.usuario.email=j}),O.qZA(),O.TgZ(6,"label",5),O._uU(7,"Email"),O.qZA()(),O.TgZ(8,"div",6)(9,"div",3)(10,"input",7),O.NdJ("ngModelChange",function(j){return b.usuario.name=j}),O.qZA(),O.TgZ(11,"label",5),O._uU(12,"Nombre"),O.qZA()(),O.TgZ(13,"div",3)(14,"input",7),O.NdJ("ngModelChange",function(j){return b.usuario.lastName=j}),O.qZA(),O.TgZ(15,"label",5),O._uU(16,"Apellido"),O.qZA()()(),O.TgZ(17,"div",3)(18,"input",8),O.NdJ("ngModelChange",function(j){return b.password=j}),O.qZA(),O.TgZ(19,"label",9),O._uU(20,"Contrase\xf1a"),O.qZA()(),O.TgZ(21,"select",3)(22,"option",10),O._uU(23,"Empleado"),O.qZA(),O.TgZ(24,"option",11),O._uU(25,"Administrador"),O.qZA()(),O.TgZ(26,"button",12),O.NdJ("click",function(){return b.signUp()}),O._uU(27," Registrar "),O.qZA(),O.TgZ(28,"p",13),O._uU(29,"\xa9 Ezequiel Archilla 2022"),O.qZA()()()),2&g&&(O.xp6(5),O.Q6J("ngModel",b.usuario.email),O.xp6(5),O.Q6J("ngModel",b.usuario.name),O.xp6(4),O.Q6J("ngModel",b.usuario.lastName),O.xp6(4),O.Q6J("ngModel",b.password))},directives:[Te.Fj,Te.JJ,Te.On,Te.YN,Te.Kr],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}.form-floating[_ngcontent-%COMP%]{margin-top:3px}"]}),y})();var St=U(5146),it=U(9808);function ht(y,c){if(1&y&&(O.TgZ(0,"div",3),O._UZ(1,"img",4),O.TgZ(2,"ul",5),O._UZ(3,"br"),O.TgZ(4,"li",6),O._uU(5),O.qZA(),O.TgZ(6,"li",6),O._uU(7,"https://github.com/EzequielArchilla/"),O.qZA()()()),2&y){const g=O.oxw();O.xp6(1),O.Q6J("src",g.data.avatar_url,O.LSH),O.xp6(4),O.Oqu(g.data.login)}}const Ze=[{path:"",redirectTo:"bienvenido",pathMatch:"full"},{path:"bienvenido",component:(()=>{class y{constructor(g){this.apiService=g,this.data="",this.apiService.ObtenerGitHub().subscribe(b=>{this.data=b})}ngOnInit(){}}return y.\u0275fac=function(g){return new(g||y)(O.Y36(St.s))},y.\u0275cmp=O.Xpm({type:y,selectors:[["app-bienvenida"]],decls:5,vars:1,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-primary"],["class","container text-center",4,"ngIf"],[1,"container","text-center"],["height","120","width","120",3,"src"],[1,"list-group"],[1,"list-group-item"]],template:function(g,b){1&g&&(O.TgZ(0,"body")(1,"h2",0)(2,"span",1),O._uU(3,"Datos:"),O.qZA()(),O.YNc(4,ht,8,2,"div",2),O.qZA()),2&g&&(O.xp6(4),O.Q6J("ngIf",""!=b.data))},directives:[it.O5],styles:[""]}),y})()},{path:"ingreso",component:fe},{path:"registro",component:Ve},{path:"repartidores",loadChildren:()=>U.e(940).then(U.bind(U,9940)).then(y=>y.RepartidoresModule)}];let dt=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275mod=O.oAB({type:y}),y.\u0275inj=O.cJS({imports:[[De.Bz.forRoot(Ze)],De.Bz]}),y})();function Vt(y,c){if(1&y){const g=O.EpF();O.TgZ(0,"button",7),O.NdJ("click",function(){return O.CHM(g),O.oxw().navigateToLogin()}),O._uU(1," Ingresar "),O.qZA()}}function Ut(y,c){if(1&y){const g=O.EpF();O.TgZ(0,"div",8)(1,"span",9),O._uU(2),O.qZA(),O.TgZ(3,"button",7),O.NdJ("click",function(){return O.CHM(g),O.oxw().signOut()}),O._uU(4,"Salir"),O.qZA()()}if(2&y){const g=O.oxw();O.xp6(2),O.hij("",g.email," ")}}let oe=(()=>{class y{constructor(g,b){this.router=g,this.userAuthService=b,this.logged=!1,this.email=""}ngOnInit(){this.userAuthService.loggedChange.subscribe(g=>{this.logged=g,this.email=this.userAuthService.userLogged.email,console.log(this.email),console.log(this.userAuthService.userLogged.email)})}navigateToLogin(){this.router.navigate(["ingreso"])}signOut(){this.userAuthService.signOut(),this.userAuthService.setLogged(!1)}}return y.\u0275fac=function(g){return new(g||y)(O.Y36(De.F0),O.Y36(pe.e))},y.\u0275cmp=O.Xpm({type:y,selectors:[["app-nav-bar"]],decls:12,vars:2,consts:[[1,"navbar","navbar-dark","bg-dark","shadow-sm"],[1,"container"],["routerLink","bienvenido",1,"navbar-brand","d-flex","align-items-center"],["routerLink","repartidores/alta",1,"nav-link"],["routerLink","repartidores/detalle",1,"nav-link"],["class","btn btn-secondary",3,"click",4,"ngIf"],["class","d-flex flex-row align-items-center",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],[1,"d-flex","flex-row","align-items-center"],[1,"text-white"]],template:function(g,b){1&g&&(O.TgZ(0,"header")(1,"div",0)(2,"div",1)(3,"a",2)(4,"strong"),O._uU(5,"Parcial Ezequiel Archilla"),O.qZA()(),O.TgZ(6,"a",3),O._uU(7,"Alta Repartidor"),O.qZA(),O.TgZ(8,"a",4),O._uU(9,"Detalle Repartidor"),O.qZA(),O.YNc(10,Vt,2,0,"button",5),O.YNc(11,Ut,5,1,"div",6),O.qZA()()()),2&g&&(O.xp6(10),O.Q6J("ngIf",!b.logged),O.xp6(1),O.Q6J("ngIf",b.logged))},directives:[De.yS,it.O5],styles:[""]}),y})(),ve=(()=>{class y{constructor(){this.title="Parcial-Archilla-Ezequiel"}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275cmp=O.Xpm({type:y,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"pd-top"]],template:function(g,b){1&g&&(O._UZ(0,"app-nav-bar"),O.TgZ(1,"div",0),O._UZ(2,"router-outlet"),O.qZA())},directives:[oe,De.lC],styles:[".pd-top[_ngcontent-%COMP%]{padding-top:.5rem}"]}),y})();var Ke=U(2011),Ge=U(1205);const ot_firebaseConfig={apiKey:"AIzaSyBNCYFf2kC03dOg99NWOQsofbRjZQiTIoI",authDomain:"pparchilla-ezequiel.firebaseapp.com",projectId:"pparchilla-ezequiel",storageBucket:"pparchilla-ezequiel.appspot.com",messagingSenderId:"955063956245",appId:"1:955063956245:web:5300bcd0c7602748f32f1c"};var de=U(8306),Xe=U(9646),se=U(8996),ke=U(4986),_e=U(4482),tt=U(5403),It=U(4004),Nt=U(3900),Ot=U(5813),Zt=U(3942),Ct=U(5861),yn=U(9681),Qt=U(2090),nt=U(4859);const et="firebasestorage.googleapis.com",we="storageBucket";class Ht extends Qt.ZR{constructor(c,g){super(Pn(c),`Firebase Storage: ${g} (${Pn(c)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ht.prototype)}_codeEquals(c){return Pn(c)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(c){this.customData.serverResponse=c,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Pn(y){return"storage/"+y}function Wn(){return new Ht("unknown","An unknown error occurred, please check the error payload for server response.")}function gn(){return new Ht("canceled","User canceled the upload/download.")}function ui(){return new Ht("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Se(y){return new Ht("invalid-argument",y)}function Et(){return new Ht("app-deleted","The Firebase app was deleted.")}function He(y){return new Ht("invalid-root-operation","The operation '"+y+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _t(y,c){return new Ht("invalid-format","String does not match format '"+y+"': "+c)}function kt(y){throw new Ht("internal-error","Internal error: "+y)}class pn{constructor(c,g){this.bucket=c,this.path_=g}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const c=encodeURIComponent;return"/b/"+c(this.bucket)+"/o/"+c(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(c,g){let b;try{b=pn.makeFromUrl(c,g)}catch(x){return new pn(c,"")}if(""===b.path)return b;throw function wn(y){return new Ht("invalid-default-bucket","Invalid default bucket '"+y+"'.")}(c)}static makeFromUrl(c,g){let b=null;const x="([A-Za-z0-9.\\-_]+)",ne=new RegExp("^gs://"+x+"(/(.*))?$","i");function Ye(Un){Un.path_=decodeURIComponent(Un.path)}const Yt=g.replace(/[.]/g,"\\."),Cr=[{regex:ne,indices:{bucket:1,path:3},postModify:function j(Un){"/"===Un.path.charAt(Un.path.length-1)&&(Un.path_=Un.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Yt}/v[A-Za-z0-9_]+/b/${x}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Ye},{regex:new RegExp(`^https?://${g===et?"(?:storage.googleapis.com|storage.cloud.google.com)":g}/${x}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Ye}];for(let Un=0;Un<Cr.length;Un++){const Ds=Cr[Un],ki=Ds.regex.exec(c);if(ki){let Pr=ki[Ds.indices.path];Pr||(Pr=""),b=new pn(ki[Ds.indices.bucket],Pr),Ds.postModify(b);break}}if(null==b)throw function Mn(y){return new Ht("invalid-url","Invalid URL '"+y+"'.")}(c);return b}}class _n{constructor(c){this.promise_=Promise.reject(c)}getPromise(){return this.promise_}cancel(c=!1){}}function ge(y){return"string"==typeof y||y instanceof String}function Ce(y){return yt()&&y instanceof Blob}function yt(){return"undefined"!=typeof Blob}function he(y,c,g,b){if(b<c)throw Se(`Invalid value for '${y}'. Expected ${c} or greater.`);if(b>g)throw Se(`Invalid value for '${y}'. Expected ${g} or less.`)}function Pe(y,c,g){let b=c;return null==g&&(b=`https://${c}`),`${g}://${b}/v0${y}`}function wt(y){const c=encodeURIComponent;let g="?";for(const b in y)y.hasOwnProperty(b)&&(g=g+(c(b)+"=")+c(y[b])+"&");return g=g.slice(0,-1),g}var Bt=(()=>{return(y=Bt||(Bt={}))[y.NO_ERROR=0]="NO_ERROR",y[y.NETWORK_ERROR=1]="NETWORK_ERROR",y[y.ABORT=2]="ABORT",Bt;var y})();class Wt{constructor(c,g,b,x,j,ee,ne,ye,Ye,bt,Yt){this.url_=c,this.method_=g,this.headers_=b,this.body_=x,this.successCodes_=j,this.additionalRetryCodes_=ee,this.callback_=ne,this.errorCallback_=ye,this.timeout_=Ye,this.progressCallback_=bt,this.connectionFactory_=Yt,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Xt,Rn)=>{this.resolve_=Xt,this.reject_=Rn,this.start_()})}start_(){const g=(b,x)=>{const j=this.resolve_,ee=this.reject_,ne=x.connection;if(x.wasSuccessCode)try{const ye=this.callback_(ne,ne.getResponse());!function br(y){return void 0!==y}(ye)?j():j(ye)}catch(ye){ee(ye)}else if(null!==ne){const ye=Wn();ye.serverResponse=ne.getErrorText(),ee(this.errorCallback_?this.errorCallback_(ne,ye):ye)}else ee(x.canceled?this.appDelete_?Et():gn():function sn(){return new Ht("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?g(0,new ln(!1,null,!0)):this.backoffId_=function bn(y,c,g){let b=1,x=null,j=null,ee=!1,ne=0;function ye(){return 2===ne}let Ye=!1;function bt(...Gn){Ye||(Ye=!0,c.apply(null,Gn))}function Yt(Gn){x=setTimeout(()=>{x=null,y(Rn,ye())},Gn)}function Xt(){j&&clearTimeout(j)}function Rn(Gn,...Zr){if(Ye)return void Xt();if(Gn)return Xt(),void bt.call(null,Gn,...Zr);if(ye()||ee)return Xt(),void bt.call(null,Gn,...Zr);let Cr;b<64&&(b*=2),1===ne?(ne=2,Cr=0):Cr=1e3*(b+Math.random()),Yt(Cr)}let rn=!1;function In(Gn){rn||(rn=!0,Xt(),!Ye&&(null!==x?(Gn||(ne=2),clearTimeout(x),Yt(0)):Gn||(ne=1)))}return Yt(0),j=setTimeout(()=>{ee=!0,In(!0)},g),In}((b,x)=>{if(x)return void b(!1,new ln(!1,null,!0));const j=this.connectionFactory_();this.pendingConnection_=j;const ee=ne=>{null!==this.progressCallback_&&this.progressCallback_(ne.loaded,ne.lengthComputable?ne.total:-1)};null!==this.progressCallback_&&j.addUploadProgressListener(ee),j.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&j.removeUploadProgressListener(ee),this.pendingConnection_=null;const ne=j.getErrorCode()===Bt.NO_ERROR,ye=j.getStatus();if(!ne||this.isRetryStatusCode_(ye)){const bt=j.getErrorCode()===Bt.ABORT;return void b(!1,new ln(!1,null,bt))}const Ye=-1!==this.successCodes_.indexOf(ye);b(!0,new ln(Ye,j))})},g,this.timeout_)}getPromise(){return this.promise_}cancel(c){this.canceled_=!0,this.appDelete_=c||!1,null!==this.backoffId_&&function Yr(y){y(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(c){const g=c>=500&&c<600,x=-1!==[408,429].indexOf(c),j=-1!==this.additionalRetryCodes_.indexOf(c);return g||x||j}}class ln{constructor(c,g,b){this.wasSuccessCode=c,this.connection=g,this.canceled=!!b}}function Me(...y){const c=function qe(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==c){const g=new c;for(let b=0;b<y.length;b++)g.append(y[b]);return g.getBlob()}if(yt())return new Blob(y);throw new Ht("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ft={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tn{constructor(c,g){this.data=c,this.contentType=g||null}}function mn(y,c){switch(y){case ft.RAW:return new tn(gr(c));case ft.BASE64:case ft.BASE64URL:return new tn(Li(y,c));case ft.DATA_URL:return new tn(function li(y){const c=new vi(y);return c.base64?Li(ft.BASE64,c.rest):function Qr(y){let c;try{c=decodeURIComponent(y)}catch(g){throw _t(ft.DATA_URL,"Malformed data URL.")}return gr(c)}(c.rest)}(c),function Gr(y){return new vi(y).contentType}(c))}throw Wn()}function gr(y){const c=[];for(let g=0;g<y.length;g++){let b=y.charCodeAt(g);b<=127?c.push(b):b<=2047?c.push(192|b>>6,128|63&b):55296==(64512&b)?g<y.length-1&&56320==(64512&y.charCodeAt(g+1))?(b=65536|(1023&b)<<10|1023&y.charCodeAt(++g),c.push(240|b>>18,128|b>>12&63,128|b>>6&63,128|63&b)):c.push(239,191,189):56320==(64512&b)?c.push(239,191,189):c.push(224|b>>12,128|b>>6&63,128|63&b)}return new Uint8Array(c)}function Li(y,c){switch(y){case ft.BASE64:{const x=-1!==c.indexOf("-"),j=-1!==c.indexOf("_");if(x||j)throw _t(y,"Invalid character '"+(x?"-":"_")+"' found: is it base64url encoded?");break}case ft.BASE64URL:{const x=-1!==c.indexOf("+"),j=-1!==c.indexOf("/");if(x||j)throw _t(y,"Invalid character '"+(x?"+":"/")+"' found: is it base64 encoded?");c=c.replace(/-/g,"+").replace(/_/g,"/");break}}let g;try{g=function Le(y){return atob(y)}(c)}catch(x){throw _t(y,"Invalid character found")}const b=new Uint8Array(g.length);for(let x=0;x<g.length;x++)b[x]=g.charCodeAt(x);return b}class vi{constructor(c){this.base64=!1,this.contentType=null;const g=c.match(/^data:([^,]+)?,/);if(null===g)throw _t(ft.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const b=g[1]||null;null!=b&&(this.base64=function Vi(y,c){return y.length>=c.length&&y.substring(y.length-c.length)===c}(b,";base64"),this.contentType=this.base64?b.substring(0,b.length-7):b),this.rest=c.substring(c.indexOf(",")+1)}}class Ir{constructor(c,g){let b=0,x="";Ce(c)?(this.data_=c,b=c.size,x=c.type):c instanceof ArrayBuffer?(g?this.data_=new Uint8Array(c):(this.data_=new Uint8Array(c.byteLength),this.data_.set(new Uint8Array(c))),b=this.data_.length):c instanceof Uint8Array&&(g?this.data_=c:(this.data_=new Uint8Array(c.length),this.data_.set(c)),b=c.length),this.size_=b,this.type_=x}size(){return this.size_}type(){return this.type_}slice(c,g){if(Ce(this.data_)){const x=function ie(y,c,g){return y.webkitSlice?y.webkitSlice(c,g):y.mozSlice?y.mozSlice(c,g):y.slice?y.slice(c,g):null}(this.data_,c,g);return null===x?null:new Ir(x)}{const b=new Uint8Array(this.data_.buffer,c,g-c);return new Ir(b,!0)}}static getBlob(...c){if(yt()){const g=c.map(b=>b instanceof Ir?b.data_:b);return new Ir(Me.apply(null,g))}{const g=c.map(ee=>ge(ee)?mn(ft.RAW,ee).data:ee.data_);let b=0;g.forEach(ee=>{b+=ee.byteLength});const x=new Uint8Array(b);let j=0;return g.forEach(ee=>{for(let ne=0;ne<ee.length;ne++)x[j++]=ee[ne]}),new Ir(x,!0)}}uploadData(){return this.data_}}function $t(y){let c;try{c=JSON.parse(y)}catch(g){return null}return function ue(y){return"object"==typeof y&&!Array.isArray(y)}(c)?c:null}function xr(y){const c=y.lastIndexOf("/",y.length-2);return-1===c?y:y.slice(c+1)}function Ri(y,c){return c}class Qn{constructor(c,g,b,x){this.server=c,this.local=g||c,this.writable=!!b,this.xform=x||Ri}}let Ei=null;function ci(){if(Ei)return Ei;const y=[];y.push(new Qn("bucket")),y.push(new Qn("generation")),y.push(new Qn("metageneration")),y.push(new Qn("name","fullPath",!0));const g=new Qn("name");g.xform=function c(j,ee){return function cr(y){return!ge(y)||y.length<2?y:xr(y)}(ee)},y.push(g);const x=new Qn("size");return x.xform=function b(j,ee){return void 0!==ee?Number(ee):ee},y.push(x),y.push(new Qn("timeCreated")),y.push(new Qn("updated")),y.push(new Qn("md5Hash",null,!0)),y.push(new Qn("cacheControl",null,!0)),y.push(new Qn("contentDisposition",null,!0)),y.push(new Qn("contentEncoding",null,!0)),y.push(new Qn("contentLanguage",null,!0)),y.push(new Qn("contentType",null,!0)),y.push(new Qn("metadata","customMetadata",!0)),Ei=y,Ei}function xi(y,c,g){const b=$t(c);return null===b?null:function Nn(y,c,g){const b={type:"file"},x=g.length;for(let j=0;j<x;j++){const ee=g[j];b[ee.local]=ee.xform(b,c[ee.server])}return function kr(y,c){Object.defineProperty(y,"ref",{get:function g(){const j=new pn(y.bucket,y.fullPath);return c._makeStorageReference(j)}})}(b,y),b}(y,b,g)}function os(y,c){const g={},b=c.length;for(let x=0;x<b;x++){const j=c[x];j.writable&&(g[j.server]=y[j.local])}return JSON.stringify(g)}const Ci="prefixes";class nr{constructor(c,g,b,x){this.url=c,this.method=g,this.handler=b,this.timeout=x,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Kn(y){if(!y)throw Wn()}function ys(y,c){return function g(b,x){const j=xi(y,x,c);return Kn(null!==j),j}}function di(y){return function c(g,b){let x;return x=401===g.getStatus()?g.getErrorText().includes("Firebase App Check token is invalid")?function sr(){return new Ht("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function lr(){return new Ht("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===g.getStatus()?function pr(y){return new Ht("quota-exceeded","Quota for bucket '"+y+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(y.bucket):403===g.getStatus()?function Xn(y){return new Ht("unauthorized","User does not have permission to access '"+y+"'.")}(y.path):b,x.serverResponse=b.serverResponse,x}}function $i(y){const c=di(y);return function g(b,x){let j=c(b,x);return 404===b.getStatus()&&(j=function Zn(y){return new Ht("object-not-found","Object '"+y+"' does not exist.")}(y.path)),j.serverResponse=x.serverResponse,j}}function Gs(y,c,g){const x=Pe(c.fullServerUrl(),y.host,y._protocol),ee=y.maxOperationRetryTime,ne=new nr(x,"GET",ys(y,g),ee);return ne.errorHandler=$i(c),ne}function as(y,c,g,b,x){const j={};j.prefix=c.isRoot?"":c.path+"/",g&&g.length>0&&(j.delimiter=g),b&&(j.pageToken=b),x&&(j.maxResults=x);const ne=Pe(c.bucketOnlyServerUrl(),y.host,y._protocol),Ye=y.maxOperationRetryTime,bt=new nr(ne,"GET",function ni(y,c){return function g(b,x){const j=function Wr(y,c,g){const b=$t(g);return null===b?null:function Br(y,c,g){const b={prefixes:[],items:[],nextPageToken:g.nextPageToken};if(g[Ci])for(const x of g[Ci]){const j=x.replace(/\/$/,""),ee=y._makeStorageReference(new pn(c,j));b.prefixes.push(ee)}if(g.items)for(const x of g.items){const j=y._makeStorageReference(new pn(c,x.name));b.items.push(j)}return b}(y,c,b)}(y,c,x);return Kn(null!==j),j}}(y,c.bucket),Ye);return bt.urlParams=j,bt.errorHandler=di(c),bt}function Gi(y,c,g){const b=Object.assign({},g);return b.fullPath=y.path,b.size=c.size(),b.contentType||(b.contentType=function Dr(y,c){return y&&y.contentType||c&&c.type()||"application/octet-stream"}(null,c)),b}class Ne{constructor(c,g,b,x){this.current=c,this.total=g,this.finalized=!!b,this.metadata=x||null}}function Ie(y,c){let g=null;try{g=y.getResponseHeader("X-Goog-Upload-Status")}catch(x){Kn(!1)}return Kn(!!g&&-1!==(c||["active"]).indexOf(g)),g}const mr={STATE_CHANGED:"state_changed"},Jn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function tr(y){switch(y){case"running":case"pausing":case"canceling":return Jn.RUNNING;case"paused":return Jn.PAUSED;case"success":return Jn.SUCCESS;case"canceled":return Jn.CANCELED;default:return Jn.ERROR}}class _s{constructor(c,g,b){if(function Yn(y){return"function"==typeof y}(c)||null!=g||null!=b)this.next=c,this.error=null!=g?g:void 0,this.complete=null!=b?b:void 0;else{const j=c;this.next=j.next,this.error=j.error,this.complete=j.complete}}}function vs(y){return(...c)=>{Promise.resolve().then(()=>y(...c))}}class Rs extends class bo{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Bt.NO_ERROR,this.sendPromise_=new Promise(c=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Bt.ABORT,c()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Bt.NETWORK_ERROR,c()}),this.xhr_.addEventListener("load",()=>{c()})})}send(c,g,b,x){if(this.sent_)throw kt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(g,c,!0),void 0!==x)for(const j in x)x.hasOwnProperty(j)&&this.xhr_.setRequestHeader(j,x[j].toString());return void 0!==b?this.xhr_.send(b):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw kt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw kt("cannot .getStatus() before sending");try{return this.xhr_.status}catch(c){return-1}}getResponse(){if(!this.sent_)throw kt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw kt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(c){return this.xhr_.getResponseHeader(c)}addUploadProgressListener(c){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",c)}removeUploadProgressListener(c){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",c)}}{initXhr(){this.xhr_.responseType="text"}}function hi(){return new Rs}class zi{constructor(c,g,b=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=c,this._blob=g,this._metadata=b,this._mappings=ci(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=x=>{this._request=void 0,this._chunkMultiplier=1,x._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=x,this._transition("error"))},this._metadataErrorHandler=x=>{this._request=void 0,x._codeEquals("canceled")?this.completeTransitions_():(this._error=x,this._transition("error"))},this._promise=new Promise((x,j)=>{this._resolve=x,this._reject=j,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const c=this._transferred;return g=>this._updateProgress(c+g)}_shouldDoResumable(c){return c.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(c){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([g,b])=>{switch(this._state){case"running":c(g,b);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((c,g)=>{const b=function Je(y,c,g,b,x){const j=c.bucketOnlyServerUrl(),ee=Gi(c,b,x),ne={name:ee.fullPath},ye=Pe(j,y.host,y._protocol),bt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${b.size()}`,"X-Goog-Upload-Header-Content-Type":ee.contentType,"Content-Type":"application/json; charset=utf-8"},Yt=os(ee,g),rn=new nr(ye,"POST",function Rn(In){let Gn;Ie(In);try{Gn=In.getResponseHeader("X-Goog-Upload-URL")}catch(Zr){Kn(!1)}return Kn(ge(Gn)),Gn},y.maxUploadRetryTime);return rn.urlParams=ne,rn.headers=bt,rn.body=Yt,rn.errorHandler=di(c),rn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),x=this._ref.storage._makeRequest(b,hi,c,g);this._request=x,x.getPromise().then(j=>{this._request=void 0,this._uploadUrl=j,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const c=this._uploadUrl;this._resolveToken((g,b)=>{const x=function mt(y,c,g,b){const ye=new nr(g,"POST",function j(Ye){const bt=Ie(Ye,["active","final"]);let Yt=null;try{Yt=Ye.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Rn){Kn(!1)}Yt||Kn(!1);const Xt=Number(Yt);return Kn(!isNaN(Xt)),new Ne(Xt,b.size(),"final"===bt)},y.maxUploadRetryTime);return ye.headers={"X-Goog-Upload-Command":"query"},ye.errorHandler=di(c),ye}(this._ref.storage,this._ref._location,c,this._blob),j=this._ref.storage._makeRequest(x,hi,g,b);this._request=j,j.getPromise().then(ee=>{ee=ee,this._request=void 0,this._updateProgress(ee.current),this._needToFetchStatus=!1,ee.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const c=262144*this._chunkMultiplier,g=new Ne(this._transferred,this._blob.size()),b=this._uploadUrl;this._resolveToken((x,j)=>{let ee;try{ee=function Jt(y,c,g,b,x,j,ee,ne){const ye=new Ne(0,0);if(ee?(ye.current=ee.current,ye.total=ee.total):(ye.current=0,ye.total=b.size()),b.size()!==ye.total)throw function gt(){return new Ht("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const Ye=ye.total-ye.current;let bt=Ye;x>0&&(bt=Math.min(bt,x));const Yt=ye.current,rn={"X-Goog-Upload-Command":bt===Ye?"upload, finalize":"upload","X-Goog-Upload-Offset":`${ye.current}`},In=b.slice(Yt,Yt+bt);if(null===In)throw ui();const Cr=new nr(g,"POST",function Gn(Un,Ds){const ki=Ie(Un,["active","final"]),Ii=ye.current+bt,Pr=b.size();let As;return As="final"===ki?ys(c,j)(Un,Ds):null,new Ne(Ii,Pr,"final"===ki,As)},c.maxUploadRetryTime);return Cr.headers=rn,Cr.body=In.uploadData(),Cr.progressCallback=ne||null,Cr.errorHandler=di(y),Cr}(this._ref._location,this._ref.storage,b,this._blob,c,this._mappings,g,this._makeProgressCallback())}catch(ye){return this._error=ye,void this._transition("error")}const ne=this._ref.storage._makeRequest(ee,hi,x,j);this._request=ne,ne.getPromise().then(ye=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(ye.current),ye.finalized?(this._metadata=ye.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((c,g)=>{const b=Gs(this._ref.storage,this._ref._location,this._mappings),x=this._ref.storage._makeRequest(b,hi,c,g);this._request=x,x.getPromise().then(j=>{this._request=void 0,this._metadata=j,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((c,g)=>{const b=function zs(y,c,g,b,x){const j=c.bucketOnlyServerUrl(),ee={"X-Goog-Upload-Protocol":"multipart"},ye=function ne(){let Cr="";for(let Un=0;Un<2;Un++)Cr+=Math.random().toString().slice(2);return Cr}();ee["Content-Type"]="multipart/related; boundary="+ye;const Ye=Gi(c,b,x),bt=os(Ye,g),Rn=Ir.getBlob("--"+ye+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+bt+"\r\n--"+ye+"\r\nContent-Type: "+Ye.contentType+"\r\n\r\n",b,"\r\n--"+ye+"--");if(null===Rn)throw ui();const rn={name:Ye.fullPath},In=Pe(j,y.host,y._protocol),Zr=y.maxUploadRetryTime,On=new nr(In,"POST",ys(y,g),Zr);return On.urlParams=rn,On.headers=ee,On.body=Rn.uploadData(),On.errorHandler=di(c),On}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),x=this._ref.storage._makeRequest(b,hi,c,g);this._request=x,x.getPromise().then(j=>{this._request=void 0,this._metadata=j,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(c){const g=this._transferred;this._transferred=c,this._transferred!==g&&this._notifyObservers()}_transition(c){if(this._state!==c)switch(c){case"canceling":case"pausing":this._state=c,void 0!==this._request&&this._request.cancel();break;case"running":const g="paused"===this._state;this._state=c,g&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=c,this._notifyObservers();break;case"canceled":this._error=gn(),this._state=c,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const c=tr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:c,metadata:this._metadata,task:this,ref:this._ref}}on(c,g,b,x){const j=new _s(g||void 0,b||void 0,x||void 0);return this._addObserver(j),()=>{this._removeObserver(j)}}then(c,g){return this._promise.then(c,g)}catch(c){return this.then(null,c)}_addObserver(c){this._observers.push(c),this._notifyObserver(c)}_removeObserver(c){const g=this._observers.indexOf(c);-1!==g&&this._observers.splice(g,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(g=>{this._notifyObserver(g)})}_finishPromise(){if(void 0!==this._resolve){let c=!0;switch(tr(this._state)){case Jn.SUCCESS:vs(this._resolve.bind(null,this.snapshot))();break;case Jn.CANCELED:case Jn.ERROR:vs(this._reject.bind(null,this._error))();break;default:c=!1}c&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(c){switch(tr(this._state)){case Jn.RUNNING:case Jn.PAUSED:c.next&&vs(c.next.bind(c,this.snapshot))();break;case Jn.SUCCESS:c.complete&&vs(c.complete.bind(c))();break;default:c.error&&vs(c.error.bind(c,this._error))()}}resume(){const c="paused"===this._state||"pausing"===this._state;return c&&this._transition("running"),c}pause(){const c="running"===this._state;return c&&this._transition("pausing"),c}cancel(){const c="running"===this._state||"pausing"===this._state;return c&&this._transition("canceling"),c}}class wi{constructor(c,g){this._service=c,this._location=g instanceof pn?g:pn.makeFromUrl(g,c.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(c,g){return new wi(c,g)}get root(){const c=new pn(this._location.bucket,"");return this._newRef(this._service,c)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xr(this._location.path)}get storage(){return this._service}get parent(){const c=function Gt(y){if(0===y.length)return null;const c=y.lastIndexOf("/");return-1===c?"":y.slice(0,c)}(this._location.path);if(null===c)return null;const g=new pn(this._location.bucket,c);return new wi(this._service,g)}_throwIfRoot(c){if(""===this._location.path)throw He(c)}}function Mo(y,c,g){return si.apply(this,arguments)}function si(){return(si=(0,Ct.Z)(function*(y,c,g){const x=yield qi(y,{pageToken:g});c.prefixes.push(...x.prefixes),c.items.push(...x.items),null!=x.nextPageToken&&(yield Mo(y,c,x.nextPageToken))})).apply(this,arguments)}function qi(y,c){null!=c&&"number"==typeof c.maxResults&&he("options.maxResults",1,1e3,c.maxResults);const g=c||{},b=as(y.storage,y._location,"/",g.pageToken,g.maxResults);return y.storage.makeRequestWithTokens(b,hi)}function io(y){y._throwIfRoot("getDownloadURL");const c=function ls(y,c,g){const x=Pe(c.fullServerUrl(),y.host,y._protocol),ee=y.maxOperationRetryTime,ne=new nr(x,"GET",function ri(y,c){return function g(b,x){const j=xi(y,x,c);return Kn(null!==j),function Ms(y,c,g,b){const x=$t(c);if(null===x||!ge(x.downloadTokens))return null;const j=x.downloadTokens;if(0===j.length)return null;const ee=encodeURIComponent;return j.split(",").map(Ye=>{const Yt=y.fullPath;return Pe("/b/"+ee(y.bucket)+"/o/"+ee(Yt),g,b)+wt({alt:"media",token:Ye})})[0]}(j,x,y.host,y._protocol)}}(y,g),ee);return ne.errorHandler=$i(c),ne}(y.storage,y._location,ci());return y.storage.makeRequestWithTokens(c,hi).then(g=>{if(null===g)throw function be(){return new Ht("no-download-url","The given file does not have any download URLs.")}();return g})}function Wi(y,c){const g=function Tn(y,c){const g=c.split("/").filter(b=>b.length>0).join("/");return 0===y.length?g:y+"/"+g}(y._location.path,c),b=new pn(y._location.bucket,g);return new wi(y.storage,b)}function jo(y,c){if(y instanceof k){const g=y;if(null==g._bucket)throw function _i(){return new Ht("no-default-bucket","No default bucket found. Did you set the '"+we+"' property when initializing the app?")}();const b=new wi(g,g._bucket);return null!=c?jo(b,c):b}return void 0!==c?Wi(y,c):y}function Mr(y,c){if(c&&function cs(y){return/^[A-Za-z]+:\/\//.test(y)}(c)){if(y instanceof k)return function bi(y,c){return new wi(y,c)}(y,c);throw Se("To use ref(service, url), the first argument must be a Storage instance.")}return jo(y,c)}function F(y,c){const g=null==c?void 0:c[we];return null==g?null:pn.makeFromBucketSpec(g,y)}class k{constructor(c,g,b,x,j){this.app=c,this._authProvider=g,this._appCheckProvider=b,this._url=x,this._firebaseVersion=j,this._bucket=null,this._host=et,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=x?pn.makeFromBucketSpec(x,this._host):F(this._host,this.app.options)}get host(){return this._host}set host(c){this._host=c,this._bucket=null!=this._url?pn.makeFromBucketSpec(this._url,c):F(c,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(c){he("time",0,Number.POSITIVE_INFINITY,c),this._maxUploadRetryTime=c}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(c){he("time",0,Number.POSITIVE_INFINITY,c),this._maxOperationRetryTime=c}_getAuthToken(){var c=this;return(0,Ct.Z)(function*(){if(c._overrideAuthToken)return c._overrideAuthToken;const g=c._authProvider.getImmediate({optional:!0});if(g){const b=yield g.getToken();if(null!==b)return b.accessToken}return null})()}_getAppCheckToken(){var c=this;return(0,Ct.Z)(function*(){const g=c._appCheckProvider.getImmediate({optional:!0});return g?(yield g.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(c=>c.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(c){return new wi(this,c)}_makeRequest(c,g,b,x){if(this._deleted)return new _n(Et());{const j=function Fi(y,c,g,b,x,j){const ee=wt(y.urlParams),ne=y.url+ee,ye=Object.assign({},y.headers);return function Rr(y,c){c&&(y["X-Firebase-GMPID"]=c)}(ye,c),function vr(y,c){null!==c&&c.length>0&&(y.Authorization="Firebase "+c)}(ye,g),function dn(y,c){y["X-Firebase-Storage-Version"]="webjs/"+(null!=c?c:"AppManager")}(ye,j),function qr(y,c){null!==c&&(y["X-Firebase-AppCheck"]=c)}(ye,b),new Wt(ne,y.method,ye,y.body,y.successCodes,y.additionalRetryCodes,y.handler,y.errorHandler,y.timeout,y.progressCallback,x)}(c,this._appId,b,x,g,this._firebaseVersion);return this._requests.add(j),j.getPromise().then(()=>this._requests.delete(j),()=>this._requests.delete(j)),j}}makeRequestWithTokens(c,g){var b=this;return(0,Ct.Z)(function*(){const[x,j]=yield Promise.all([b._getAuthToken(),b._getAppCheckToken()]);return b._makeRequest(c,g,x,j).getPromise()})()}}const J="@firebase/storage";function Ui(y,c){return Mr(y=(0,Qt.m9)(y),c)}function V(y,{instanceIdentifier:c}){const g=y.getProvider("app").getImmediate(),b=y.getProvider("auth-internal"),x=y.getProvider("app-check-internal");return new k(g,b,x,c,yn.SDK_VERSION)}!function N(){(0,yn._registerComponent)(new nt.wA("storage",V,"PUBLIC").setMultipleInstances(!0)),(0,yn.registerVersion)(J,"0.9.6",""),(0,yn.registerVersion)(J,"0.9.6","esm2017")}();class R{constructor(c,g,b){this._delegate=c,this.task=g,this.ref=b}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Y{constructor(c,g){this._delegate=c,this._ref=g,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new R(this._delegate.snapshot,this,this._ref)}then(c,g){return this._delegate.then(b=>{if(c)return c(new R(b,this,this._ref))},g)}on(c,g,b,x){let j;return g&&(j="function"==typeof g?ee=>g(new R(ee,this,this._ref)):{next:g.next?ee=>g.next(new R(ee,this,this._ref)):void 0,complete:g.complete||void 0,error:g.error||void 0}),this._delegate.on(c,j,b||void 0,x||void 0)}}class me{constructor(c,g){this._delegate=c,this._service=g}get prefixes(){return this._delegate.prefixes.map(c=>new Tt(c,this._service))}get items(){return this._delegate.items.map(c=>new Tt(c,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Tt{constructor(c,g){this._delegate=c,this.storage=g}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(c){const g=function An(y,c){return Wi(y,c)}(this._delegate,c);return new Tt(g,this.storage)}get root(){return new Tt(this._delegate.root,this.storage)}get parent(){const c=this._delegate.parent;return null==c?null:new Tt(c,this.storage)}put(c,g){return this._throwIfRoot("put"),new Y(function dr(y,c,g){return function Di(y,c,g){return y._throwIfRoot("uploadBytesResumable"),new zi(y,new Ir(c),g)}(y=(0,Qt.m9)(y),c,g)}(this._delegate,c,g),this)}putString(c,g=ft.RAW,b){this._throwIfRoot("putString");const x=mn(g,c),j=Object.assign({},b);return null==j.contentType&&null!=x.contentType&&(j.contentType=x.contentType),new Y(new zi(this._delegate,new Ir(x.data,!0),j),this)}listAll(){return function Er(y){return function fi(y){const c={prefixes:[],items:[]};return Mo(y,c).then(()=>c)}(y=(0,Qt.m9)(y))}(this._delegate).then(c=>new me(c,this.storage))}list(c){return function jr(y,c){return qi(y=(0,Qt.m9)(y),c)}(this._delegate,c||void 0).then(g=>new me(g,this.storage))}getMetadata(){return function kn(y){return function Fr(y){y._throwIfRoot("getMetadata");const c=Gs(y.storage,y._location,ci());return y.storage.makeRequestWithTokens(c,hi)}(y=(0,Qt.m9)(y))}(this._delegate)}updateMetadata(c){return function qn(y,c){return function To(y,c){y._throwIfRoot("updateMetadata");const g=function Uo(y,c,g,b){const j=Pe(c.fullServerUrl(),y.host,y._protocol),ne=os(g,b),Ye=y.maxOperationRetryTime,bt=new nr(j,"PATCH",ys(y,b),Ye);return bt.headers={"Content-Type":"application/json; charset=utf-8"},bt.body=ne,bt.errorHandler=$i(c),bt}(y.storage,y._location,c,ci());return y.storage.makeRequestWithTokens(g,hi)}(y=(0,Qt.m9)(y),c)}(this._delegate,c)}getDownloadURL(){return function Lr(y){return io(y=(0,Qt.m9)(y))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Ki(y){return function so(y){y._throwIfRoot("deleteObject");const c=function oa(y,c){const b=Pe(c.fullServerUrl(),y.host,y._protocol),ne=new nr(b,"DELETE",function ee(ye,Ye){},y.maxOperationRetryTime);return ne.successCodes=[200,204],ne.errorHandler=$i(c),ne}(y.storage,y._location);return y.storage.makeRequestWithTokens(c,hi)}(y=(0,Qt.m9)(y))}(this._delegate)}_throwIfRoot(c){if(""===this._delegate._location.path)throw He(c)}}class or{constructor(c,g){this.app=c,this._delegate=g}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(c){if(rr(c))throw Se("ref() expected a child path but got a URL, use refFromURL instead.");return new Tt(Ui(this._delegate,c),this)}refFromURL(c){if(!rr(c))throw Se("refFromURL() expected a full URL but got a child path, use ref() instead.");try{pn.makeFromUrl(c,this._delegate.host)}catch(g){throw Se("refFromUrl() expected a valid full URL but got an invalid one.")}return new Tt(Ui(this._delegate,c),this)}setMaxUploadRetryTime(c){this._delegate.maxUploadRetryTime=c}setMaxOperationRetryTime(c){this._delegate.maxOperationRetryTime=c}useEmulator(c,g,b={}){!function Os(y,c,g,b={}){!function W(y,c,g,b={}){y.host=`${c}:${g}`,y._protocol="http";const{mockUserToken:x}=b;x&&(y._overrideAuthToken="string"==typeof x?x:(0,Qt.Sg)(x,y.app.options.projectId))}(y,c,g,b)}(this._delegate,c,g,b)}}function rr(y){return/^[A-Za-z]+:\/\//.test(y)}function Ws(y,{instanceIdentifier:c}){const g=y.getProvider("app-compat").getImmediate(),b=y.getProvider("storage").getImmediate({identifier:c});return new or(g,b)}!function ua(y){const c={TaskState:Jn,TaskEvent:mr,StringFormat:ft,Storage:or,Reference:Tt};y.INTERNAL.registerComponent(new nt.wA("storage-compat",Ws,"PUBLIC").setServiceProps(c).setMultipleInstances(!0)),y.registerVersion("@firebase/storage-compat","0.1.14")}(Zt.Z);var ku=U(440),Fu=U(127);function Ks(y){const c=function Ol(y){return new de.y(c=>{const g=ee=>c.next(ee);g(y.snapshot);const j=y.on("state_changed",g);return y.then(ee=>{g(ee),c.complete()},ee=>{g(y.snapshot),(ee=>{c.error(ee)})(ee)}),function(){j()}}).pipe(function We(y,c=ke.z){return(0,_e.e)((g,b)=>{let x=null,j=null,ee=null;const ne=()=>{if(x){x.unsubscribe(),x=null;const Ye=j;j=null,b.next(Ye)}};function ye(){const Ye=ee+y,bt=c.now();if(bt<Ye)return x=this.schedule(void 0,Ye-bt),void b.add(x);ne()}g.subscribe((0,tt.x)(b,Ye=>{j=Ye,ee=c.now(),x||(x=c.schedule(ye,y),b.add(x))},()=>{ne(),b.complete()},void 0,()=>{j=x=null}))})}(0))}(y);return{task:y,then:y.then.bind(y),catch:y.catch.bind(y),pause:y.pause.bind(y),cancel:y.cancel.bind(y),resume:y.resume.bind(y),snapshotChanges:()=>c,percentageChanges:()=>c.pipe((0,It.U)(g=>g.bytesTransferred/g.totalBytes*100))}}function pi(y){return{getDownloadURL:()=>(0,Xe.of)(void 0).pipe(Ot.fc,(0,Nt.w)(()=>y.getDownloadURL()),Ot.iC),getMetadata:()=>(0,Xe.of)(void 0).pipe(Ot.fc,(0,Nt.w)(()=>y.getMetadata()),Ot.iC),delete:()=>(0,se.D)(y.delete()),child:c=>pi(y.child(c)),updateMetadata:c=>(0,se.D)(y.updateMetadata(c)),put:(c,g)=>Ks(y.put(c,g)),putString:(c,g,b)=>Ks(y.putString(c,g,b)),list:c=>(0,se.D)(y.list(c)),listAll:()=>(0,se.D)(y.listAll())}}const ws=new O.OlP("angularfire2.storageBucket"),Ia=new O.OlP("angularfire2.storage.maxUploadRetryTime"),Ro=new O.OlP("angularfire2.storage.maxOperationRetryTime"),ds=new O.OlP("angularfire2.storage.use-emulator");let la=(()=>{class y{constructor(g,b,x,j,ee,ne,ye,Ye,bt,Yt){const Xt=(0,Ke.on)(g,ee,b);this.storage=(0,Ke.cc)(`${Xt.name}.storage.${x}`,"AngularFireStorage",Xt.name,()=>{const Rn=ee.runOutsideAngular(()=>Xt.storage(x||void 0)),rn=bt;return rn&&Rn.useEmulator(...rn),ye&&Rn.setMaxUploadRetryTime(ye),Ye&&Rn.setMaxOperationRetryTime(Ye),Rn},[ye,Ye])}ref(g){return pi(this.storage.ref(g))}refFromURL(g){return pi(this.storage.refFromURL(g))}upload(g,b,x){return pi(this.storage.ref(g)).put(b,x)}}return y.\u0275fac=function(g){return new(g||y)(O.LFG(Ke.Dh),O.LFG(Ke.xv,8),O.LFG(ws,8),O.LFG(O.Lbi),O.LFG(O.R0b),O.LFG(Ot.HU),O.LFG(Ia,8),O.LFG(Ro,8),O.LFG(ds,8),O.LFG(ku.nm,8))},y.\u0275prov=O.Yz7({token:y,factory:y.\u0275fac,providedIn:"any"}),y})(),oi=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275mod=O.oAB({type:y}),y.\u0275inj=O.cJS({}),y})(),Ka=(()=>{class y{constructor(){Fu.Z.registerVersion("angularfire",Ot.q4.full,"gcs-compat")}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275mod=O.oAB({type:y}),y.\u0275inj=O.cJS({providers:[la],imports:[oi]}),y})(),Fa=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275mod=O.oAB({type:y}),y.\u0275inj=O.cJS({imports:[[Ke.hO.initializeApp(ot_firebaseConfig),Ge.ww,Oe.yb,Ka]]}),y})();var Ar=U(1777);const ir=!1;function Ta(y){return new O.vHH(3e3,ir)}function Zs(){return"undefined"!=typeof window&&void 0!==window.document}function Vs(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ys(y){switch(y.length){case 0:return new Ar.ZN;case 1:return y[0];default:return new Ar.ZE(y)}}function ja(y,c,g,b,x={},j={}){const ee=[],ne=[];let ye=-1,Ye=null;if(b.forEach(bt=>{const Yt=bt.offset,Xt=Yt==ye,Rn=Xt&&Ye||{};Object.keys(bt).forEach(rn=>{let In=rn,Gn=bt[rn];if("offset"!==rn)switch(In=c.normalizePropertyName(In,ee),Gn){case Ar.k1:Gn=x[rn];break;case Ar.l3:Gn=j[rn];break;default:Gn=c.normalizeStyleValue(rn,In,Gn,ee)}Rn[In]=Gn}),Xt||ne.push(Rn),Ye=Rn,ye=Yt}),ee.length)throw function Ua(y){return new O.vHH(3502,ir)}();return ne}function Go(y,c,g,b){switch(c){case"start":y.onStart(()=>b(g&&Do(g,"start",y)));break;case"done":y.onDone(()=>b(g&&Do(g,"done",y)));break;case"destroy":y.onDestroy(()=>b(g&&Do(g,"destroy",y)))}}function Do(y,c,g){const b=g.totalTime,j=gi(y.element,y.triggerName,y.fromState,y.toState,c||y.phaseName,null==b?y.totalTime:b,!!g.disabled),ee=y._data;return null!=ee&&(j._data=ee),j}function gi(y,c,g,b,x="",j=0,ee){return{element:y,triggerName:c,fromState:g,toState:b,phaseName:x,totalTime:j,disabled:!!ee}}function Ai(y,c,g){let b;return y instanceof Map?(b=y.get(c),b||y.set(c,b=g)):(b=y[c],b||(b=y[c]=g)),b}function ho(y){const c=y.indexOf(":");return[y.substring(1,c),y.substr(c+1)]}let zo=(y,c)=>!1,Ja=(y,c,g)=>[],Pi=null;function fo(y){const c=y.parentNode||y.host;return c===Pi?null:c}(Vs()||"undefined"!=typeof Element)&&(Zs()?(Pi=(()=>document.documentElement)(),zo=(y,c)=>{for(;c;){if(c===y)return!0;c=fo(c)}return!1}):zo=(y,c)=>y.contains(c),Ja=(y,c,g)=>{if(g)return Array.from(y.querySelectorAll(c));const b=y.querySelector(c);return b?[b]:[]});let bs=null,Ft=!1;function zr(y){bs||(bs=function D(){return"undefined"!=typeof document?document.body:null}()||{},Ft=!!bs.style&&"WebkitAppearance"in bs.style);let c=!0;return bs.style&&!function Ha(y){return"ebkit"==y.substring(1,6)}(y)&&(c=y in bs.style,!c&&Ft&&(c="Webkit"+y.charAt(0).toUpperCase()+y.substr(1)in bs.style)),c}const T=zo,E=Ja;let B=(()=>{class y{validateStyleProperty(g){return zr(g)}matchesElement(g,b){return!1}containsElement(g,b){return T(g,b)}getParentElement(g){return fo(g)}query(g,b,x){return E(g,b,x)}computeStyle(g,b,x){return x||""}animate(g,b,x,j,ee,ne=[],ye){return new Ar.ZN(x,j)}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=O.Yz7({token:y,factory:y.\u0275fac}),y})(),z=(()=>{class y{}return y.NOOP=new B,y})();const en="ng-enter",$n="ng-leave",an="ng-trigger",hr=".ng-trigger",Tr="ng-animating",Ni=".ng-animating";function Zi(y){if("number"==typeof y)return y;const c=y.match(/^(-?[\.\d]+)(m?s)/);return!c||c.length<2?0:No(parseFloat(c[1]),c[2])}function No(y,c){return"s"===c?1e3*y:y}function pa(y,c,g){return y.hasOwnProperty("duration")?y:function Kr(y,c,g){let x,j=0,ee="";if("string"==typeof y){const ne=y.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ne)return c.push(Ta()),{duration:0,delay:0,easing:""};x=No(parseFloat(ne[1]),ne[2]);const ye=ne[3];null!=ye&&(j=No(parseFloat(ye),ne[4]));const Ye=ne[5];Ye&&(ee=Ye)}else x=y;if(!g){let ne=!1,ye=c.length;x<0&&(c.push(function Ca(){return new O.vHH(3100,ir)}()),ne=!0),j<0&&(c.push(function xo(){return new O.vHH(3101,ir)}()),ne=!0),ne&&c.splice(ye,0,Ta())}return{duration:x,delay:j,easing:ee}}(y,c,g)}function po(y,c={}){return Object.keys(y).forEach(g=>{c[g]=y[g]}),c}function Ln(y,c,g={}){if(c)for(let b in y)g[b]=y[b];else po(y,g);return g}function ga(y,c,g){return g?c+":"+g+";":""}function Aa(y){let c="";for(let g=0;g<y.style.length;g++){const b=y.style.item(g);c+=ga(0,b,y.style.getPropertyValue(b))}for(const g in y.style)y.style.hasOwnProperty(g)&&!g.startsWith("_")&&(c+=ga(0,bu(g),y.style[g]));y.setAttribute("style",c)}function Or(y,c,g){y.style&&(Object.keys(c).forEach(b=>{const x=$a(b);g&&!g.hasOwnProperty(b)&&(g[b]=y.style[x]),y.style[x]=c[b]}),Vs()&&Aa(y))}function Sn(y,c){y.style&&(Object.keys(c).forEach(g=>{const b=$a(g);y.style[b]=""}),Vs()&&Aa(y))}function Xr(y){return Array.isArray(y)?1==y.length?y[0]:(0,Ar.vP)(y):y}const Pl=new RegExp("{{\\s*(.+?)\\s*}}","g");function Eu(y){let c=[];if("string"==typeof y){let g;for(;g=Pl.exec(y);)c.push(g[1]);Pl.lastIndex=0}return c}function fr(y,c,g){const b=y.toString(),x=b.replace(Pl,(j,ee)=>{let ne=c[ee];return c.hasOwnProperty(ee)||(g.push(function Ho(y){return new O.vHH(3003,ir)}()),ne=""),ne.toString()});return x==b?y:x}function wu(y){const c=[];let g=y.next();for(;!g.done;)c.push(g.value),g=y.next();return c}const ps=/-+([a-z0-9])/g;function $a(y){return y.replace(ps,(...c)=>c[1].toUpperCase())}function bu(y){return y.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function mi(y,c,g){switch(c.type){case 7:return y.visitTrigger(c,g);case 0:return y.visitState(c,g);case 1:return y.visitTransition(c,g);case 2:return y.visitSequence(c,g);case 3:return y.visitGroup(c,g);case 4:return y.visitAnimate(c,g);case 5:return y.visitKeyframes(c,g);case 6:return y.visitStyle(c,g);case 8:return y.visitReference(c,g);case 9:return y.visitAnimateChild(c,g);case 10:return y.visitAnimateRef(c,g);case 11:return y.visitQuery(c,g);case 12:return y.visitStagger(c,g);default:throw function oo(y){return new O.vHH(3004,ir)}()}}function ei(y,c){return window.getComputedStyle(y)[c]}function Ko(y,c){const g=[];return"string"==typeof y?y.split(/\s*,\s*/).forEach(b=>function zt(y,c,g){if(":"==y[0]){const ye=function ma(y,c){switch(y){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(g,b)=>parseFloat(b)>parseFloat(g);case":decrement":return(g,b)=>parseFloat(b)<parseFloat(g);default:return c.push(function ao(y){return new O.vHH(3016,ir)}()),"* => *"}}(y,g);if("function"==typeof ye)return void c.push(ye);y=ye}const b=y.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==b||b.length<4)return g.push(function $o(y){return new O.vHH(3015,ir)}()),c;const x=b[1],j=b[2],ee=b[3];c.push(yi(x,ee));"<"==j[0]&&!("*"==x&&"*"==ee)&&c.push(yi(ee,x))}(b,g,c)):g.push(y),g}const Sa=new Set(["true","1"]),Zo=new Set(["false","0"]);function yi(y,c){const g=Sa.has(y)||Zo.has(y),b=Sa.has(c)||Zo.has(c);return(x,j)=>{let ee="*"==y||y==x,ne="*"==c||c==j;return!ee&&g&&"boolean"==typeof x&&(ee=x?Sa.has(y):Zo.has(y)),!ne&&b&&"boolean"==typeof j&&(ne=j?Sa.has(c):Zo.has(c)),ee&&ne}}const mo=new RegExp("s*:selfs*,?","g");function ml(y,c,g,b){return new Hu(y).build(c,g,b)}class Hu{constructor(c){this._driver=c}build(c,g,b){const x=new yo(g);this._resetContextStyleTimingState(x);const j=mi(this,Xr(c),x);return x.unsupportedCSSPropertiesFound.size&&x.unsupportedCSSPropertiesFound.keys(),j}_resetContextStyleTimingState(c){c.currentQuerySelector="",c.collectedStyles={},c.collectedStyles[""]={},c.currentTime=0}visitTrigger(c,g){let b=g.queryCount=0,x=g.depCount=0;const j=[],ee=[];return"@"==c.name.charAt(0)&&g.errors.push(function da(){return new O.vHH(3006,ir)}()),c.definitions.forEach(ne=>{if(this._resetContextStyleTimingState(g),0==ne.type){const ye=ne,Ye=ye.name;Ye.toString().split(/\s*,\s*/).forEach(bt=>{ye.name=bt,j.push(this.visitState(ye,g))}),ye.name=Ye}else if(1==ne.type){const ye=this.visitTransition(ne,g);b+=ye.queryCount,x+=ye.depCount,ee.push(ye)}else g.errors.push(function _u(){return new O.vHH(3007,ir)}())}),{type:7,name:c.name,states:j,transitions:ee,queryCount:b,depCount:x,options:null}}visitState(c,g){const b=this.visitStyle(c.styles,g),x=c.options&&c.options.params||null;if(b.containsDynamicStyles){const j=new Set,ee=x||{};b.styles.forEach(ne=>{if(So(ne)){const ye=ne;Object.keys(ye).forEach(Ye=>{Eu(ye[Ye]).forEach(bt=>{ee.hasOwnProperty(bt)||j.add(bt)})})}}),j.size&&(wu(j.values()),g.errors.push(function Oo(y,c){return new O.vHH(3008,ir)}()))}return{type:0,name:c.name,style:b,options:x?{params:x}:null}}visitTransition(c,g){g.queryCount=0,g.depCount=0;const b=mi(this,Xr(c.animation),g);return{type:1,matchers:Ko(c.expr,g.errors),animation:b,queryCount:g.queryCount,depCount:g.depCount,options:_o(c.options)}}visitSequence(c,g){return{type:2,steps:c.steps.map(b=>mi(this,b,g)),options:_o(c.options)}}visitGroup(c,g){const b=g.currentTime;let x=0;const j=c.steps.map(ee=>{g.currentTime=b;const ne=mi(this,ee,g);return x=Math.max(x,g.currentTime),ne});return g.currentTime=x,{type:3,steps:j,options:_o(c.options)}}visitAnimate(c,g){const b=function Yo(y,c){if(y.hasOwnProperty("duration"))return y;if("number"==typeof y)return Gu(pa(y,c).duration,0,"");const g=y;if(g.split(/\s+/).some(j=>"{"==j.charAt(0)&&"{"==j.charAt(1))){const j=Gu(0,0,"");return j.dynamic=!0,j.strValue=g,j}const x=pa(g,c);return Gu(x.duration,x.delay,x.easing)}(c.timings,g.errors);g.currentAnimateTimings=b;let x,j=c.styles?c.styles:(0,Ar.oB)({});if(5==j.type)x=this.visitKeyframes(j,g);else{let ee=c.styles,ne=!1;if(!ee){ne=!0;const Ye={};b.easing&&(Ye.easing=b.easing),ee=(0,Ar.oB)(Ye)}g.currentTime+=b.duration+b.delay;const ye=this.visitStyle(ee,g);ye.isEmptyStep=ne,x=ye}return g.currentAnimateTimings=null,{type:4,timings:b,style:x,options:null}}visitStyle(c,g){const b=this._makeStyleAst(c,g);return this._validateStyleAst(b,g),b}_makeStyleAst(c,g){const b=[];Array.isArray(c.styles)?c.styles.forEach(ee=>{"string"==typeof ee?ee==Ar.l3?b.push(ee):g.errors.push(function hs(y){return new O.vHH(3002,ir)}()):b.push(ee)}):b.push(c.styles);let x=!1,j=null;return b.forEach(ee=>{if(So(ee)){const ne=ee,ye=ne.easing;if(ye&&(j=ye,delete ne.easing),!x)for(let Ye in ne)if(ne[Ye].toString().indexOf("{{")>=0){x=!0;break}}}),{type:6,styles:b,easing:j,offset:c.offset,containsDynamicStyles:x,options:null}}_validateStyleAst(c,g){const b=g.currentAnimateTimings;let x=g.currentTime,j=g.currentTime;b&&j>0&&(j-=b.duration+b.delay),c.styles.forEach(ee=>{"string"!=typeof ee&&Object.keys(ee).forEach(ne=>{if(!this._driver.validateStyleProperty(ne))return delete ee[ne],void g.unsupportedCSSPropertiesFound.add(ne);const ye=g.collectedStyles[g.currentQuerySelector],Ye=ye[ne];let bt=!0;Ye&&(j!=x&&j>=Ye.startTime&&x<=Ye.endTime&&(g.errors.push(function ai(y,c,g,b,x){return new O.vHH(3010,ir)}()),bt=!1),j=Ye.startTime),bt&&(ye[ne]={startTime:j,endTime:x}),g.options&&function Xa(y,c,g){const b=c.params||{},x=Eu(y);x.length&&x.forEach(j=>{b.hasOwnProperty(j)||g.push(function La(y){return new O.vHH(3001,ir)}())})}(ee[ne],g.options,g.errors)})})}visitKeyframes(c,g){const b={type:5,styles:[],options:null};if(!g.currentAnimateTimings)return g.errors.push(function Va(){return new O.vHH(3011,ir)}()),b;let j=0;const ee=[];let ne=!1,ye=!1,Ye=0;const bt=c.steps.map(Zr=>{const On=this._makeStyleAst(Zr,g);let Cr=null!=On.offset?On.offset:function $u(y){if("string"==typeof y)return null;let c=null;if(Array.isArray(y))y.forEach(g=>{if(So(g)&&g.hasOwnProperty("offset")){const b=g;c=parseFloat(b.offset),delete b.offset}});else if(So(y)&&y.hasOwnProperty("offset")){const g=y;c=parseFloat(g.offset),delete g.offset}return c}(On.styles),Un=0;return null!=Cr&&(j++,Un=On.offset=Cr),ye=ye||Un<0||Un>1,ne=ne||Un<Ye,Ye=Un,ee.push(Un),On});ye&&g.errors.push(function Lu(){return new O.vHH(3012,ir)}()),ne&&g.errors.push(function Vu(){return new O.vHH(3200,ir)}());const Yt=c.steps.length;let Xt=0;j>0&&j<Yt?g.errors.push(function vu(){return new O.vHH(3202,ir)}()):0==j&&(Xt=1/(Yt-1));const Rn=Yt-1,rn=g.currentTime,In=g.currentAnimateTimings,Gn=In.duration;return bt.forEach((Zr,On)=>{const Cr=Xt>0?On==Rn?1:Xt*On:ee[On],Un=Cr*Gn;g.currentTime=rn+In.delay+Un,In.duration=Un,this._validateStyleAst(Zr,g),Zr.offset=Cr,b.styles.push(Zr)}),b}visitReference(c,g){return{type:8,animation:mi(this,Xr(c.animation),g),options:_o(c.options)}}visitAnimateChild(c,g){return g.depCount++,{type:9,options:_o(c.options)}}visitAnimateRef(c,g){return{type:10,animation:this.visitReference(c.animation,g),options:_o(c.options)}}visitQuery(c,g){const b=g.currentQuerySelector,x=c.options||{};g.queryCount++,g.currentQuery=c;const[j,ee]=function ya(y){const c=!!y.split(/\s*,\s*/).find(g=>":self"==g);return c&&(y=y.replace(mo,"")),y=y.replace(/@\*/g,hr).replace(/@\w+/g,g=>hr+"-"+g.substr(1)).replace(/:animating/g,Ni),[y,c]}(c.selector);g.currentQuerySelector=b.length?b+" "+j:j,Ai(g.collectedStyles,g.currentQuerySelector,{});const ne=mi(this,Xr(c.animation),g);return g.currentQuery=null,g.currentQuerySelector=b,{type:11,selector:j,limit:x.limit||0,optional:!!x.optional,includeSelf:ee,animation:ne,originalSelector:c.selector,options:_o(c.options)}}visitStagger(c,g){g.currentQuery||g.errors.push(function gl(){return new O.vHH(3013,ir)}());const b="full"===c.timings?{duration:0,delay:0,easing:"full"}:pa(c.timings,g.errors,!0);return{type:12,animation:mi(this,Xr(c.animation),g),timings:b,options:null}}}class yo{constructor(c){this.errors=c,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function So(y){return!Array.isArray(y)&&"object"==typeof y}function _o(y){return y?(y=po(y)).params&&(y.params=function yl(y){return y?po(y):null}(y.params)):y={},y}function Gu(y,c,g){return{duration:y,delay:c,easing:g}}function _a(y,c,g,b,x,j,ee=null,ne=!1){return{type:1,element:y,keyframes:c,preStyleProps:g,postStyleProps:b,duration:x,delay:j,totalTime:x+j,easing:ee,subTimeline:ne}}class Ra{constructor(){this._map=new Map}get(c){return this._map.get(c)||[]}append(c,g){let b=this._map.get(c);b||this._map.set(c,b=[]),b.push(...g)}has(c){return this._map.has(c)}clear(){this._map.clear()}}const L=new RegExp(":enter","g"),ae=new RegExp(":leave","g");function $e(y,c,g,b,x,j={},ee={},ne,ye,Ye=[]){return(new rt).buildKeyframes(y,c,g,b,x,j,ee,ne,ye,Ye)}class rt{buildKeyframes(c,g,b,x,j,ee,ne,ye,Ye,bt=[]){Ye=Ye||new Ra;const Yt=new un(c,g,Ye,x,j,bt,[]);Yt.options=ye,Yt.currentTimeline.setStyles([ee],null,Yt.errors,ye),mi(this,b,Yt);const Xt=Yt.timelines.filter(Rn=>Rn.containsAnimation());if(Object.keys(ne).length){let Rn;for(let rn=Xt.length-1;rn>=0;rn--){const In=Xt[rn];if(In.element===g){Rn=In;break}}Rn&&!Rn.allowOnlyTimelineStyles()&&Rn.setStyles([ne],null,Yt.errors,ye)}return Xt.length?Xt.map(Rn=>Rn.buildKeyframes()):[_a(g,[],[],[],0,0,"",!1)]}visitTrigger(c,g){}visitState(c,g){}visitTransition(c,g){}visitAnimateChild(c,g){const b=g.subInstructions.get(g.element);if(b){const x=g.createSubContext(c.options),j=g.currentTimeline.currentTime,ee=this._visitSubInstructions(b,x,x.options);j!=ee&&g.transformIntoNewTimeline(ee)}g.previousNode=c}visitAnimateRef(c,g){const b=g.createSubContext(c.options);b.transformIntoNewTimeline(),this.visitReference(c.animation,b),g.transformIntoNewTimeline(b.currentTimeline.currentTime),g.previousNode=c}_visitSubInstructions(c,g,b){let j=g.currentTimeline.currentTime;const ee=null!=b.duration?Zi(b.duration):null,ne=null!=b.delay?Zi(b.delay):null;return 0!==ee&&c.forEach(ye=>{const Ye=g.appendInstructionToTimeline(ye,ee,ne);j=Math.max(j,Ye.duration+Ye.delay)}),j}visitReference(c,g){g.updateOptions(c.options,!0),mi(this,c.animation,g),g.previousNode=c}visitSequence(c,g){const b=g.subContextCount;let x=g;const j=c.options;if(j&&(j.params||j.delay)&&(x=g.createSubContext(j),x.transformIntoNewTimeline(),null!=j.delay)){6==x.previousNode.type&&(x.currentTimeline.snapshotCurrentStyles(),x.previousNode=At);const ee=Zi(j.delay);x.delayNextStep(ee)}c.steps.length&&(c.steps.forEach(ee=>mi(this,ee,x)),x.currentTimeline.applyStylesToKeyframe(),x.subContextCount>b&&x.transformIntoNewTimeline()),g.previousNode=c}visitGroup(c,g){const b=[];let x=g.currentTimeline.currentTime;const j=c.options&&c.options.delay?Zi(c.options.delay):0;c.steps.forEach(ee=>{const ne=g.createSubContext(c.options);j&&ne.delayNextStep(j),mi(this,ee,ne),x=Math.max(x,ne.currentTimeline.currentTime),b.push(ne.currentTimeline)}),b.forEach(ee=>g.currentTimeline.mergeTimelineCollectedStyles(ee)),g.transformIntoNewTimeline(x),g.previousNode=c}_visitTiming(c,g){if(c.dynamic){const b=c.strValue;return pa(g.params?fr(b,g.params,g.errors):b,g.errors)}return{duration:c.duration,delay:c.delay,easing:c.easing}}visitAnimate(c,g){const b=g.currentAnimateTimings=this._visitTiming(c.timings,g),x=g.currentTimeline;b.delay&&(g.incrementTime(b.delay),x.snapshotCurrentStyles());const j=c.style;5==j.type?this.visitKeyframes(j,g):(g.incrementTime(b.duration),this.visitStyle(j,g),x.applyStylesToKeyframe()),g.currentAnimateTimings=null,g.previousNode=c}visitStyle(c,g){const b=g.currentTimeline,x=g.currentAnimateTimings;!x&&b.getCurrentStyleProperties().length&&b.forwardFrame();const j=x&&x.easing||c.easing;c.isEmptyStep?b.applyEmptyStep(j):b.setStyles(c.styles,j,g.errors,g.options),g.previousNode=c}visitKeyframes(c,g){const b=g.currentAnimateTimings,x=g.currentTimeline.duration,j=b.duration,ne=g.createSubContext().currentTimeline;ne.easing=b.easing,c.styles.forEach(ye=>{ne.forwardTime((ye.offset||0)*j),ne.setStyles(ye.styles,ye.easing,g.errors,g.options),ne.applyStylesToKeyframe()}),g.currentTimeline.mergeTimelineCollectedStyles(ne),g.transformIntoNewTimeline(x+j),g.previousNode=c}visitQuery(c,g){const b=g.currentTimeline.currentTime,x=c.options||{},j=x.delay?Zi(x.delay):0;j&&(6===g.previousNode.type||0==b&&g.currentTimeline.getCurrentStyleProperties().length)&&(g.currentTimeline.snapshotCurrentStyles(),g.previousNode=At);let ee=b;const ne=g.invokeQuery(c.selector,c.originalSelector,c.limit,c.includeSelf,!!x.optional,g.errors);g.currentQueryTotal=ne.length;let ye=null;ne.forEach((Ye,bt)=>{g.currentQueryIndex=bt;const Yt=g.createSubContext(c.options,Ye);j&&Yt.delayNextStep(j),Ye===g.element&&(ye=Yt.currentTimeline),mi(this,c.animation,Yt),Yt.currentTimeline.applyStylesToKeyframe(),ee=Math.max(ee,Yt.currentTimeline.currentTime)}),g.currentQueryIndex=0,g.currentQueryTotal=0,g.transformIntoNewTimeline(ee),ye&&(g.currentTimeline.mergeTimelineCollectedStyles(ye),g.currentTimeline.snapshotCurrentStyles()),g.previousNode=c}visitStagger(c,g){const b=g.parentContext,x=g.currentTimeline,j=c.timings,ee=Math.abs(j.duration),ne=ee*(g.currentQueryTotal-1);let ye=ee*g.currentQueryIndex;switch(j.duration<0?"reverse":j.easing){case"reverse":ye=ne-ye;break;case"full":ye=b.currentStaggerTime}const bt=g.currentTimeline;ye&&bt.delayNextStep(ye);const Yt=bt.currentTime;mi(this,c.animation,g),g.previousNode=c,b.currentStaggerTime=x.currentTime-Yt+(x.startTime-b.currentTimeline.startTime)}}const At={};class un{constructor(c,g,b,x,j,ee,ne,ye){this._driver=c,this.element=g,this.subInstructions=b,this._enterClassName=x,this._leaveClassName=j,this.errors=ee,this.timelines=ne,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=At,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ye||new cn(this._driver,g,0),ne.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(c,g){if(!c)return;const b=c;let x=this.options;null!=b.duration&&(x.duration=Zi(b.duration)),null!=b.delay&&(x.delay=Zi(b.delay));const j=b.params;if(j){let ee=x.params;ee||(ee=this.options.params={}),Object.keys(j).forEach(ne=>{(!g||!ee.hasOwnProperty(ne))&&(ee[ne]=fr(j[ne],ee,this.errors))})}}_copyOptions(){const c={};if(this.options){const g=this.options.params;if(g){const b=c.params={};Object.keys(g).forEach(x=>{b[x]=g[x]})}}return c}createSubContext(c=null,g,b){const x=g||this.element,j=new un(this._driver,x,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(x,b||0));return j.previousNode=this.previousNode,j.currentAnimateTimings=this.currentAnimateTimings,j.options=this._copyOptions(),j.updateOptions(c),j.currentQueryIndex=this.currentQueryIndex,j.currentQueryTotal=this.currentQueryTotal,j.parentContext=this,this.subContextCount++,j}transformIntoNewTimeline(c){return this.previousNode=At,this.currentTimeline=this.currentTimeline.fork(this.element,c),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(c,g,b){const x={duration:null!=g?g:c.duration,delay:this.currentTimeline.currentTime+(null!=b?b:0)+c.delay,easing:""},j=new Bn(this._driver,c.element,c.keyframes,c.preStyleProps,c.postStyleProps,x,c.stretchStartingKeyframe);return this.timelines.push(j),x}incrementTime(c){this.currentTimeline.forwardTime(this.currentTimeline.duration+c)}delayNextStep(c){c>0&&this.currentTimeline.delayNextStep(c)}invokeQuery(c,g,b,x,j,ee){let ne=[];if(x&&ne.push(this.element),c.length>0){c=(c=c.replace(L,"."+this._enterClassName)).replace(ae,"."+this._leaveClassName);let Ye=this._driver.query(this.element,c,1!=b);0!==b&&(Ye=b<0?Ye.slice(Ye.length+b,Ye.length):Ye.slice(0,b)),ne.push(...Ye)}return!j&&0==ne.length&&ee.push(function Ya(y){return new O.vHH(3014,ir)}()),ne}}class cn{constructor(c,g,b,x){this._driver=c,this.element=g,this.startTime=b,this._elementTimelineStylesLookup=x,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(g),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(g,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(c){const g=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||g?(this.forwardTime(this.currentTime+c),g&&this.snapshotCurrentStyles()):this.startTime+=c}fork(c,g){return this.applyStylesToKeyframe(),new cn(this._driver,c,g||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(c){this.applyStylesToKeyframe(),this.duration=c,this._loadKeyframe()}_updateStyle(c,g){this._localTimelineStyles[c]=g,this._globalTimelineStyles[c]=g,this._styleSummary[c]={time:this.currentTime,value:g}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(c){c&&(this._previousKeyframe.easing=c),Object.keys(this._globalTimelineStyles).forEach(g=>{this._backFill[g]=this._globalTimelineStyles[g]||Ar.l3,this._currentKeyframe[g]=Ar.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(c,g,b,x){g&&(this._previousKeyframe.easing=g);const j=x&&x.params||{},ee=function xn(y,c){const g={};let b;return y.forEach(x=>{"*"===x?(b=b||Object.keys(c),b.forEach(j=>{g[j]=Ar.l3})):Ln(x,!1,g)}),g}(c,this._globalTimelineStyles);Object.keys(ee).forEach(ne=>{const ye=fr(ee[ne],j,b);this._pendingStyles[ne]=ye,this._localTimelineStyles.hasOwnProperty(ne)||(this._backFill[ne]=this._globalTimelineStyles.hasOwnProperty(ne)?this._globalTimelineStyles[ne]:Ar.l3),this._updateStyle(ne,ye)})}applyStylesToKeyframe(){const c=this._pendingStyles,g=Object.keys(c);0!=g.length&&(this._pendingStyles={},g.forEach(b=>{this._currentKeyframe[b]=c[b]}),Object.keys(this._localTimelineStyles).forEach(b=>{this._currentKeyframe.hasOwnProperty(b)||(this._currentKeyframe[b]=this._localTimelineStyles[b])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(c=>{const g=this._localTimelineStyles[c];this._pendingStyles[c]=g,this._updateStyle(c,g)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const c=[];for(let g in this._currentKeyframe)c.push(g);return c}mergeTimelineCollectedStyles(c){Object.keys(c._styleSummary).forEach(g=>{const b=this._styleSummary[g],x=c._styleSummary[g];(!b||x.time>b.time)&&this._updateStyle(g,x.value)})}buildKeyframes(){this.applyStylesToKeyframe();const c=new Set,g=new Set,b=1===this._keyframes.size&&0===this.duration;let x=[];this._keyframes.forEach((ne,ye)=>{const Ye=Ln(ne,!0);Object.keys(Ye).forEach(bt=>{const Yt=Ye[bt];Yt==Ar.k1?c.add(bt):Yt==Ar.l3&&g.add(bt)}),b||(Ye.offset=ye/this.duration),x.push(Ye)});const j=c.size?wu(c.values()):[],ee=g.size?wu(g.values()):[];if(b){const ne=x[0],ye=po(ne);ne.offset=0,ye.offset=1,x=[ne,ye]}return _a(this.element,x,j,ee,this.duration,this.startTime,this.easing,!1)}}class Bn extends cn{constructor(c,g,b,x,j,ee,ne=!1){super(c,g,ee.delay),this.keyframes=b,this.preStyleProps=x,this.postStyleProps=j,this._stretchStartingKeyframe=ne,this.timings={duration:ee.duration,delay:ee.delay,easing:ee.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let c=this.keyframes,{delay:g,duration:b,easing:x}=this.timings;if(this._stretchStartingKeyframe&&g){const j=[],ee=b+g,ne=g/ee,ye=Ln(c[0],!1);ye.offset=0,j.push(ye);const Ye=Ln(c[0],!1);Ye.offset=Sr(ne),j.push(Ye);const bt=c.length-1;for(let Yt=1;Yt<=bt;Yt++){let Xt=Ln(c[Yt],!1);Xt.offset=Sr((g+Xt.offset*b)/ee),j.push(Xt)}b=ee,g=0,x="",c=j}return _a(this.element,c,this.preStyleProps,this.postStyleProps,b,g,x,!0)}}function Sr(y,c=3){const g=Math.pow(10,c-1);return Math.round(y*g)/g}class ar{}class Si extends ar{normalizePropertyName(c,g){return $a(c)}normalizeStyleValue(c,g,b,x){let j="";const ee=b.toString().trim();if(wr[g]&&0!==b&&"0"!==b)if("number"==typeof b)j="px";else{const ne=b.match(/^[+-]?[\d\.]+([a-z]*)$/);ne&&0==ne[1].length&&x.push(function Za(y,c){return new O.vHH(3005,ir)}())}return ee+j}}const wr=(()=>function vo(y){const c={};return y.forEach(g=>c[g]=!0),c}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function js(y,c,g,b,x,j,ee,ne,ye,Ye,bt,Yt,Xt){return{type:0,element:y,triggerName:c,isRemovalTransition:x,fromState:g,fromStyles:j,toState:b,toStyles:ee,timelines:ne,queriedElements:ye,preStyleProps:Ye,postStyleProps:bt,totalTime:Yt,errors:Xt}}const Oa={};class Nl{constructor(c,g,b){this._triggerName=c,this.ast=g,this._stateStyles=b}match(c,g,b,x){return function Ga(y,c,g,b,x){return y.some(j=>j(c,g,b,x))}(this.ast.matchers,c,g,b,x)}buildStyles(c,g,b){const x=this._stateStyles["*"],j=this._stateStyles[c],ee=x?x.buildStyles(g,b):{};return j?j.buildStyles(g,b):ee}build(c,g,b,x,j,ee,ne,ye,Ye,bt){const Yt=[],Xt=this.ast.options&&this.ast.options.params||Oa,rn=this.buildStyles(b,ne&&ne.params||Oa,Yt),In=ye&&ye.params||Oa,Gn=this.buildStyles(x,In,Yt),Zr=new Set,On=new Map,Cr=new Map,Un="void"===x,Ds={params:Object.assign(Object.assign({},Xt),In)},ki=bt?[]:$e(c,g,this.ast.animation,j,ee,rn,Gn,Ds,Ye,Yt);let Ii=0;if(ki.forEach(As=>{Ii=Math.max(As.duration+As.delay,Ii)}),Yt.length)return js(g,this._triggerName,b,x,Un,rn,Gn,[],[],On,Cr,Ii,Yt);ki.forEach(As=>{const Jo=As.element,$l=Ai(On,Jo,{});As.preStyleProps.forEach(Ji=>$l[Ji]=!0);const tl=Ai(Cr,Jo,{});As.postStyleProps.forEach(Ji=>tl[Ji]=!0),Jo!==g&&Zr.add(Jo)});const Pr=wu(Zr.values());return js(g,this._triggerName,b,x,Un,rn,Gn,ki,Pr,On,Cr,Ii)}}class kl{constructor(c,g,b){this.styles=c,this.defaultParams=g,this.normalizer=b}buildStyles(c,g){const b={},x=po(this.defaultParams);return Object.keys(c).forEach(j=>{const ee=c[j];null!=ee&&(x[j]=ee)}),this.styles.styles.forEach(j=>{if("string"!=typeof j){const ee=j;Object.keys(ee).forEach(ne=>{let ye=ee[ne];ye.length>1&&(ye=fr(ye,x,g));const Ye=this.normalizer.normalizePropertyName(ne,g);ye=this.normalizer.normalizeStyleValue(ne,Ye,ye,g),b[Ye]=ye})}}),b}}class zu{constructor(c,g,b){this.name=c,this.ast=g,this._normalizer=b,this.transitionFactories=[],this.states={},g.states.forEach(x=>{this.states[x.name]=new kl(x.style,x.options&&x.options.params||{},b)}),dc(this.states,"true","1"),dc(this.states,"false","0"),g.transitions.forEach(x=>{this.transitionFactories.push(new Nl(c,x,this.states))}),this.fallbackTransition=function qu(y,c,g){return new Nl(y,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ee,ne)=>!0],options:null,queryCount:0,depCount:0},c)}(c,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(c,g,b,x){return this.transitionFactories.find(ee=>ee.match(c,g,b,x))||null}matchStyles(c,g,b){return this.fallbackTransition.buildStyles(c,g,b)}}function dc(y,c,g){y.hasOwnProperty(c)?y.hasOwnProperty(g)||(y[g]=y[c]):y.hasOwnProperty(g)&&(y[c]=y[g])}const Iu=new Ra;class Qi{constructor(c,g,b){this.bodyNode=c,this._driver=g,this._normalizer=b,this._animations={},this._playersById={},this.players=[]}register(c,g){const b=[],j=ml(this._driver,g,b,[]);if(b.length)throw function uo(y){return new O.vHH(3503,ir)}();this._animations[c]=j}_buildPlayer(c,g,b){const x=c.element,j=ja(0,this._normalizer,0,c.keyframes,g,b);return this._driver.animate(x,j,c.duration,c.delay,c.easing,[],!0)}create(c,g,b={}){const x=[],j=this._animations[c];let ee;const ne=new Map;if(j?(ee=$e(this._driver,g,j,en,$n,{},{},b,Iu,x),ee.forEach(bt=>{const Yt=Ai(ne,bt.element,{});bt.postStyleProps.forEach(Xt=>Yt[Xt]=null)})):(x.push(function lo(){return new O.vHH(3300,ir)}()),ee=[]),x.length)throw function fs(y){return new O.vHH(3504,ir)}();ne.forEach((bt,Yt)=>{Object.keys(bt).forEach(Xt=>{bt[Xt]=this._driver.computeStyle(Yt,Xt,Ar.l3)})});const Ye=Ys(ee.map(bt=>{const Yt=ne.get(bt.element);return this._buildPlayer(bt,{},Yt)}));return this._playersById[c]=Ye,Ye.onDestroy(()=>this.destroy(c)),this.players.push(Ye),Ye}destroy(c){const g=this._getPlayer(c);g.destroy(),delete this._playersById[c];const b=this.players.indexOf(g);b>=0&&this.players.splice(b,1)}_getPlayer(c){const g=this._playersById[c];if(!g)throw function Uu(y){return new O.vHH(3301,ir)}();return g}listen(c,g,b,x){const j=gi(g,"","","");return Go(this._getPlayer(c),b,j,x),()=>{}}command(c,g,b,x){if("register"==b)return void this.register(c,x[0]);if("create"==b)return void this.create(c,g,x[0]||{});const j=this._getPlayer(c);switch(b){case"play":j.play();break;case"pause":j.pause();break;case"reset":j.reset();break;case"restart":j.restart();break;case"finish":j.finish();break;case"init":j.init();break;case"setPosition":j.setPosition(parseFloat(x[0]));break;case"destroy":this.destroy(c)}}}const Fl="ng-animate-queued",Ll="ng-animate-disabled",Rd=[],Vc={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},va={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ts="__ng_removed";class ru{constructor(c,g=""){this.namespaceId=g;const b=c&&c.hasOwnProperty("value");if(this.value=function Bl(y){return null!=y?y:null}(b?c.value:c),b){const j=po(c);delete j.value,this.options=j}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(c){const g=c.params;if(g){const b=this.options.params;Object.keys(g).forEach(x=>{null==b[x]&&(b[x]=g[x])})}}}const Wu="void",Ul=new ru(Wu);class iu{constructor(c,g,b){this.id=c,this.hostElement=g,this._engine=b,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+c,Qs(g,this._hostClassName)}listen(c,g,b,x){if(!this._triggers.hasOwnProperty(g))throw function co(y,c){return new O.vHH(3302,ir)}();if(null==b||0==b.length)throw function Da(y){return new O.vHH(3303,ir)}();if(!function za(y){return"start"==y||"done"==y}(b))throw function Bu(y,c){return new O.vHH(3400,ir)}();const j=Ai(this._elementListeners,c,[]),ee={name:g,phase:b,callback:x};j.push(ee);const ne=Ai(this._engine.statesByElement,c,{});return ne.hasOwnProperty(g)||(Qs(c,an),Qs(c,an+"-"+g),ne[g]=Ul),()=>{this._engine.afterFlush(()=>{const ye=j.indexOf(ee);ye>=0&&j.splice(ye,1),this._triggers[g]||delete ne[g]})}}register(c,g){return!this._triggers[c]&&(this._triggers[c]=g,!0)}_getTrigger(c){const g=this._triggers[c];if(!g)throw function Ba(y){return new O.vHH(3401,ir)}();return g}trigger(c,g,b,x=!0){const j=this._getTrigger(g),ee=new Pa(this.id,g,c);let ne=this._engine.statesByElement.get(c);ne||(Qs(c,an),Qs(c,an+"-"+g),this._engine.statesByElement.set(c,ne={}));let ye=ne[g];const Ye=new ru(b,this.id);if(!(b&&b.hasOwnProperty("value"))&&ye&&Ye.absorbOptions(ye.options),ne[g]=Ye,ye||(ye=Ul),Ye.value!==Wu&&ye.value===Ye.value){if(!function Bc(y,c){const g=Object.keys(y),b=Object.keys(c);if(g.length!=b.length)return!1;for(let x=0;x<g.length;x++){const j=g[x];if(!c.hasOwnProperty(j)||y[j]!==c[j])return!1}return!0}(ye.params,Ye.params)){const In=[],Gn=j.matchStyles(ye.value,ye.params,In),Zr=j.matchStyles(Ye.value,Ye.params,In);In.length?this._engine.reportError(In):this._engine.afterFlush(()=>{Sn(c,Gn),Or(c,Zr)})}return}const Xt=Ai(this._engine.playersByElement,c,[]);Xt.forEach(In=>{In.namespaceId==this.id&&In.triggerName==g&&In.queued&&In.destroy()});let Rn=j.matchTransition(ye.value,Ye.value,c,Ye.params),rn=!1;if(!Rn){if(!x)return;Rn=j.fallbackTransition,rn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:g,transition:Rn,fromState:ye,toState:Ye,player:ee,isFallbackTransition:rn}),rn||(Qs(c,Fl),ee.onStart(()=>{Du(c,Fl)})),ee.onDone(()=>{let In=this.players.indexOf(ee);In>=0&&this.players.splice(In,1);const Gn=this._engine.playersByElement.get(c);if(Gn){let Zr=Gn.indexOf(ee);Zr>=0&&Gn.splice(Zr,1)}}),this.players.push(ee),Xt.push(ee),ee}deregister(c){delete this._triggers[c],this._engine.statesByElement.forEach((g,b)=>{delete g[c]}),this._elementListeners.forEach((g,b)=>{this._elementListeners.set(b,g.filter(x=>x.name!=c))})}clearElementCache(c){this._engine.statesByElement.delete(c),this._elementListeners.delete(c);const g=this._engine.playersByElement.get(c);g&&(g.forEach(b=>b.destroy()),this._engine.playersByElement.delete(c))}_signalRemovalForInnerTriggers(c,g){const b=this._engine.driver.query(c,hr,!0);b.forEach(x=>{if(x[Ts])return;const j=this._engine.fetchNamespacesByElement(x);j.size?j.forEach(ee=>ee.triggerLeaveAnimation(x,g,!1,!0)):this.clearElementCache(x)}),this._engine.afterFlushAnimationsDone(()=>b.forEach(x=>this.clearElementCache(x)))}triggerLeaveAnimation(c,g,b,x){const j=this._engine.statesByElement.get(c),ee=new Map;if(j){const ne=[];if(Object.keys(j).forEach(ye=>{if(ee.set(ye,j[ye].value),this._triggers[ye]){const Ye=this.trigger(c,ye,Wu,x);Ye&&ne.push(Ye)}}),ne.length)return this._engine.markElementAsRemoved(this.id,c,!0,g,ee),b&&Ys(ne).onDone(()=>this._engine.processLeaveNode(c)),!0}return!1}prepareLeaveAnimationListeners(c){const g=this._elementListeners.get(c),b=this._engine.statesByElement.get(c);if(g&&b){const x=new Set;g.forEach(j=>{const ee=j.name;if(x.has(ee))return;x.add(ee);const ye=this._triggers[ee].fallbackTransition,Ye=b[ee]||Ul,bt=new ru(Wu),Yt=new Pa(this.id,ee,c);this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:ee,transition:ye,fromState:Ye,toState:bt,player:Yt,isFallbackTransition:!0})})}}removeNode(c,g){const b=this._engine;if(c.childElementCount&&this._signalRemovalForInnerTriggers(c,g),this.triggerLeaveAnimation(c,g,!0))return;let x=!1;if(b.totalAnimations){const j=b.players.length?b.playersByQueriedElement.get(c):[];if(j&&j.length)x=!0;else{let ee=c;for(;ee=ee.parentNode;)if(b.statesByElement.get(ee)){x=!0;break}}}if(this.prepareLeaveAnimationListeners(c),x)b.markElementAsRemoved(this.id,c,!1,g);else{const j=c[Ts];(!j||j===Vc)&&(b.afterFlush(()=>this.clearElementCache(c)),b.destroyInnerAnimations(c),b._onRemovalComplete(c,g))}}insertNode(c,g){Qs(c,this._hostClassName)}drainQueuedTransitions(c){const g=[];return this._queue.forEach(b=>{const x=b.player;if(x.destroyed)return;const j=b.element,ee=this._elementListeners.get(j);ee&&ee.forEach(ne=>{if(ne.name==b.triggerName){const ye=gi(j,b.triggerName,b.fromState.value,b.toState.value);ye._data=c,Go(b.player,ne.phase,ye,ne.callback)}}),x.markedForDestroy?this._engine.afterFlush(()=>{x.destroy()}):g.push(b)}),this._queue=[],g.sort((b,x)=>{const j=b.transition.ast.depCount,ee=x.transition.ast.depCount;return 0==j||0==ee?j-ee:this._engine.driver.containsElement(b.element,x.element)?1:-1})}destroy(c){this.players.forEach(g=>g.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,c)}elementContainsData(c){let g=!1;return this._elementListeners.has(c)&&(g=!0),g=!!this._queue.find(b=>b.element===c)||g,g}}class Tu{constructor(c,g,b){this.bodyNode=c,this.driver=g,this._normalizer=b,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(x,j)=>{}}_onRemovalComplete(c,g){this.onRemovalComplete(c,g)}get queuedPlayers(){const c=[];return this._namespaceList.forEach(g=>{g.players.forEach(b=>{b.queued&&c.push(b)})}),c}createNamespace(c,g){const b=new iu(c,g,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,g)?this._balanceNamespaceList(b,g):(this.newHostElements.set(g,b),this.collectEnterElement(g)),this._namespaceLookup[c]=b}_balanceNamespaceList(c,g){const b=this._namespaceList,x=this.namespacesByHostElement,j=b.length-1;if(j>=0){let ee=!1;if(void 0!==this.driver.getParentElement){let ne=this.driver.getParentElement(g);for(;ne;){const ye=x.get(ne);if(ye){const Ye=b.indexOf(ye);b.splice(Ye+1,0,c),ee=!0;break}ne=this.driver.getParentElement(ne)}}else for(let ne=j;ne>=0;ne--)if(this.driver.containsElement(b[ne].hostElement,g)){b.splice(ne+1,0,c),ee=!0;break}ee||b.unshift(c)}else b.push(c);return x.set(g,c),c}register(c,g){let b=this._namespaceLookup[c];return b||(b=this.createNamespace(c,g)),b}registerTrigger(c,g,b){let x=this._namespaceLookup[c];x&&x.register(g,b)&&this.totalAnimations++}destroy(c,g){if(!c)return;const b=this._fetchNamespace(c);this.afterFlush(()=>{this.namespacesByHostElement.delete(b.hostElement),delete this._namespaceLookup[c];const x=this._namespaceList.indexOf(b);x>=0&&this._namespaceList.splice(x,1)}),this.afterFlushAnimationsDone(()=>b.destroy(g))}_fetchNamespace(c){return this._namespaceLookup[c]}fetchNamespacesByElement(c){const g=new Set,b=this.statesByElement.get(c);if(b){const x=Object.keys(b);for(let j=0;j<x.length;j++){const ee=b[x[j]].namespaceId;if(ee){const ne=this._fetchNamespace(ee);ne&&g.add(ne)}}}return g}trigger(c,g,b,x){if(Cu(g)){const j=this._fetchNamespace(c);if(j)return j.trigger(g,b,x),!0}return!1}insertNode(c,g,b,x){if(!Cu(g))return;const j=g[Ts];if(j&&j.setForRemoval){j.setForRemoval=!1,j.setForMove=!0;const ee=this.collectedLeaveElements.indexOf(g);ee>=0&&this.collectedLeaveElements.splice(ee,1)}if(c){const ee=this._fetchNamespace(c);ee&&ee.insertNode(g,b)}x&&this.collectEnterElement(g)}collectEnterElement(c){this.collectedEnterElements.push(c)}markElementAsDisabled(c,g){g?this.disabledNodes.has(c)||(this.disabledNodes.add(c),Qs(c,Ll)):this.disabledNodes.has(c)&&(this.disabledNodes.delete(c),Du(c,Ll))}removeNode(c,g,b,x){if(Cu(g)){const j=c?this._fetchNamespace(c):null;if(j?j.removeNode(g,x):this.markElementAsRemoved(c,g,!1,x),b){const ee=this.namespacesByHostElement.get(g);ee&&ee.id!==c&&ee.removeNode(g,x)}}else this._onRemovalComplete(g,x)}markElementAsRemoved(c,g,b,x,j){this.collectedLeaveElements.push(g),g[Ts]={namespaceId:c,setForRemoval:x,hasAnimation:b,removedBeforeQueried:!1,previousTriggersValues:j}}listen(c,g,b,x,j){return Cu(g)?this._fetchNamespace(c).listen(g,b,x,j):()=>{}}_buildInstruction(c,g,b,x,j){return c.transition.build(this.driver,c.element,c.fromState.value,c.toState.value,b,x,c.fromState.options,c.toState.options,g,j)}destroyInnerAnimations(c){let g=this.driver.query(c,hr,!0);g.forEach(b=>this.destroyActiveAnimationsForElement(b)),0!=this.playersByQueriedElement.size&&(g=this.driver.query(c,Ni,!0),g.forEach(b=>this.finishActiveQueriedAnimationOnElement(b)))}destroyActiveAnimationsForElement(c){const g=this.playersByElement.get(c);g&&g.forEach(b=>{b.queued?b.markedForDestroy=!0:b.destroy()})}finishActiveQueriedAnimationOnElement(c){const g=this.playersByQueriedElement.get(c);g&&g.forEach(b=>b.finish())}whenRenderingDone(){return new Promise(c=>{if(this.players.length)return Ys(this.players).onDone(()=>c());c()})}processLeaveNode(c){var g;const b=c[Ts];if(b&&b.setForRemoval){if(c[Ts]=Vc,b.namespaceId){this.destroyInnerAnimations(c);const x=this._fetchNamespace(b.namespaceId);x&&x.clearElementCache(c)}this._onRemovalComplete(c,b.setForRemoval)}(null===(g=c.classList)||void 0===g?void 0:g.contains(Ll))&&this.markElementAsDisabled(c,!1),this.driver.query(c,".ng-animate-disabled",!0).forEach(x=>{this.markElementAsDisabled(x,!1)})}flush(c=-1){let g=[];if(this.newHostElements.size&&(this.newHostElements.forEach((b,x)=>this._balanceNamespaceList(b,x)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let b=0;b<this.collectedEnterElements.length;b++)Qs(this.collectedEnterElements[b],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const b=[];try{g=this._flushAnimations(b,c)}finally{for(let x=0;x<b.length;x++)b[x]()}}else for(let b=0;b<this.collectedLeaveElements.length;b++)this.processLeaveNode(this.collectedLeaveElements[b]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(b=>b()),this._flushFns=[],this._whenQuietFns.length){const b=this._whenQuietFns;this._whenQuietFns=[],g.length?Ys(g).onDone(()=>{b.forEach(x=>x())}):b.forEach(x=>x())}}reportError(c){throw function Fs(y){return new O.vHH(3402,ir)}()}_flushAnimations(c,g){const b=new Ra,x=[],j=new Map,ee=[],ne=new Map,ye=new Map,Ye=new Map,bt=new Set;this.disabledNodes.forEach(vn=>{bt.add(vn);const Cn=this.driver.query(vn,".ng-animate-queued",!0);for(let jn=0;jn<Cn.length;jn++)bt.add(Cn[jn])});const Yt=this.bodyNode,Xt=Array.from(this.statesByElement.keys()),Rn=fc(Xt,this.collectedEnterElements),rn=new Map;let In=0;Rn.forEach((vn,Cn)=>{const jn=en+In++;rn.set(Cn,jn),vn.forEach(Nr=>Qs(Nr,jn))});const Gn=[],Zr=new Set,On=new Set;for(let vn=0;vn<this.collectedLeaveElements.length;vn++){const Cn=this.collectedLeaveElements[vn],jn=Cn[Ts];jn&&jn.setForRemoval&&(Gn.push(Cn),Zr.add(Cn),jn.hasAnimation?this.driver.query(Cn,".ng-star-inserted",!0).forEach(Nr=>Zr.add(Nr)):On.add(Cn))}const Cr=new Map,Un=fc(Xt,Array.from(Zr));Un.forEach((vn,Cn)=>{const jn=$n+In++;Cr.set(Cn,jn),vn.forEach(Nr=>Qs(Nr,jn))}),c.push(()=>{Rn.forEach((vn,Cn)=>{const jn=rn.get(Cn);vn.forEach(Nr=>Du(Nr,jn))}),Un.forEach((vn,Cn)=>{const jn=Cr.get(Cn);vn.forEach(Nr=>Du(Nr,jn))}),Gn.forEach(vn=>{this.processLeaveNode(vn)})});const Ds=[],ki=[];for(let vn=this._namespaceList.length-1;vn>=0;vn--)this._namespaceList[vn].drainQueuedTransitions(g).forEach(jn=>{const Nr=jn.player,_r=jn.element;if(Ds.push(Nr),this.collectedEnterElements.length){const ms=_r[Ts];if(ms&&ms.setForMove){if(ms.previousTriggersValues&&ms.previousTriggersValues.has(jn.triggerName)){const es=ms.previousTriggersValues.get(jn.triggerName),Ea=this.statesByElement.get(jn.element);Ea&&Ea[jn.triggerName]&&(Ea[jn.triggerName].value=es)}return void Nr.destroy()}}const Xo=!Yt||!this.driver.containsElement(Yt,_r),Xi=Cr.get(_r),Eo=rn.get(_r),Vr=this._buildInstruction(jn,b,Eo,Xi,Xo);if(Vr.errors&&Vr.errors.length)return void ki.push(Vr);if(Xo)return Nr.onStart(()=>Sn(_r,Vr.fromStyles)),Nr.onDestroy(()=>Or(_r,Vr.toStyles)),void x.push(Nr);if(jn.isFallbackTransition)return Nr.onStart(()=>Sn(_r,Vr.fromStyles)),Nr.onDestroy(()=>Or(_r,Vr.toStyles)),void x.push(Nr);const zl=[];Vr.timelines.forEach(ms=>{ms.stretchStartingKeyframe=!0,this.disabledNodes.has(ms.element)||zl.push(ms)}),Vr.timelines=zl,b.append(_r,Vr.timelines),ee.push({instruction:Vr,player:Nr,element:_r}),Vr.queriedElements.forEach(ms=>Ai(ne,ms,[]).push(Nr)),Vr.preStyleProps.forEach((ms,es)=>{const Ea=Object.keys(ms);if(Ea.length){let Na=ye.get(es);Na||ye.set(es,Na=new Set),Ea.forEach(yc=>Na.add(yc))}}),Vr.postStyleProps.forEach((ms,es)=>{const Ea=Object.keys(ms);let Na=Ye.get(es);Na||Ye.set(es,Na=new Set),Ea.forEach(yc=>Na.add(yc))})});if(ki.length){const vn=[];ki.forEach(Cn=>{vn.push(function fa(y,c){return new O.vHH(3505,ir)}())}),Ds.forEach(Cn=>Cn.destroy()),this.reportError(vn)}const Ii=new Map,Pr=new Map;ee.forEach(vn=>{const Cn=vn.element;b.has(Cn)&&(Pr.set(Cn,Cn),this._beforeAnimationBuild(vn.player.namespaceId,vn.instruction,Ii))}),x.forEach(vn=>{const Cn=vn.element;this._getPreviousPlayers(Cn,!1,vn.namespaceId,vn.triggerName,null).forEach(Nr=>{Ai(Ii,Cn,[]).push(Nr),Nr.destroy()})});const As=Gn.filter(vn=>pc(vn,ye,Ye)),Jo=new Map;Fo(Jo,this.driver,On,Ye,Ar.l3).forEach(vn=>{pc(vn,ye,Ye)&&As.push(vn)});const tl=new Map;Rn.forEach((vn,Cn)=>{Fo(tl,this.driver,new Set(vn),ye,Ar.k1)}),As.forEach(vn=>{const Cn=Jo.get(vn),jn=tl.get(vn);Jo.set(vn,Object.assign(Object.assign({},Cn),jn))});const Ji=[],nl=[],Gl={};ee.forEach(vn=>{const{element:Cn,player:jn,instruction:Nr}=vn;if(b.has(Cn)){if(bt.has(Cn))return jn.onDestroy(()=>Or(Cn,Nr.toStyles)),jn.disabled=!0,jn.overrideTotalTime(Nr.totalTime),void x.push(jn);let _r=Gl;if(Pr.size>1){let Xi=Cn;const Eo=[];for(;Xi=Xi.parentNode;){const Vr=Pr.get(Xi);if(Vr){_r=Vr;break}Eo.push(Xi)}Eo.forEach(Vr=>Pr.set(Vr,_r))}const Xo=this._buildAnimation(jn.namespaceId,Nr,Ii,j,tl,Jo);if(jn.setRealPlayer(Xo),_r===Gl)Ji.push(jn);else{const Xi=this.playersByElement.get(_r);Xi&&Xi.length&&(jn.parentPlayer=Ys(Xi)),x.push(jn)}}else Sn(Cn,Nr.fromStyles),jn.onDestroy(()=>Or(Cn,Nr.toStyles)),nl.push(jn),bt.has(Cn)&&x.push(jn)}),nl.forEach(vn=>{const Cn=j.get(vn.element);if(Cn&&Cn.length){const jn=Ys(Cn);vn.setRealPlayer(jn)}}),x.forEach(vn=>{vn.parentPlayer?vn.syncPlayerEvents(vn.parentPlayer):vn.destroy()});for(let vn=0;vn<Gn.length;vn++){const Cn=Gn[vn],jn=Cn[Ts];if(Du(Cn,$n),jn&&jn.hasAnimation)continue;let Nr=[];if(ne.size){let Xo=ne.get(Cn);Xo&&Xo.length&&Nr.push(...Xo);let Xi=this.driver.query(Cn,Ni,!0);for(let Eo=0;Eo<Xi.length;Eo++){let Vr=ne.get(Xi[Eo]);Vr&&Vr.length&&Nr.push(...Vr)}}const _r=Nr.filter(Xo=>!Xo.destroyed);_r.length?Lo(this,Cn,_r):this.processLeaveNode(Cn)}return Gn.length=0,Ji.forEach(vn=>{this.players.push(vn),vn.onDone(()=>{vn.destroy();const Cn=this.players.indexOf(vn);this.players.splice(Cn,1)}),vn.play()}),Ji}elementContainsData(c,g){let b=!1;const x=g[Ts];return x&&x.setForRemoval&&(b=!0),this.playersByElement.has(g)&&(b=!0),this.playersByQueriedElement.has(g)&&(b=!0),this.statesByElement.has(g)&&(b=!0),this._fetchNamespace(c).elementContainsData(g)||b}afterFlush(c){this._flushFns.push(c)}afterFlushAnimationsDone(c){this._whenQuietFns.push(c)}_getPreviousPlayers(c,g,b,x,j){let ee=[];if(g){const ne=this.playersByQueriedElement.get(c);ne&&(ee=ne)}else{const ne=this.playersByElement.get(c);if(ne){const ye=!j||j==Wu;ne.forEach(Ye=>{Ye.queued||!ye&&Ye.triggerName!=x||ee.push(Ye)})}}return(b||x)&&(ee=ee.filter(ne=>!(b&&b!=ne.namespaceId||x&&x!=ne.triggerName))),ee}_beforeAnimationBuild(c,g,b){const j=g.element,ee=g.isRemovalTransition?void 0:c,ne=g.isRemovalTransition?void 0:g.triggerName;for(const ye of g.timelines){const Ye=ye.element,bt=Ye!==j,Yt=Ai(b,Ye,[]);this._getPreviousPlayers(Ye,bt,ee,ne,g.toState).forEach(Rn=>{const rn=Rn.getRealPlayer();rn.beforeDestroy&&rn.beforeDestroy(),Rn.destroy(),Yt.push(Rn)})}Sn(j,g.fromStyles)}_buildAnimation(c,g,b,x,j,ee){const ne=g.triggerName,ye=g.element,Ye=[],bt=new Set,Yt=new Set,Xt=g.timelines.map(rn=>{const In=rn.element;bt.add(In);const Gn=In[Ts];if(Gn&&Gn.removedBeforeQueried)return new Ar.ZN(rn.duration,rn.delay);const Zr=In!==ye,On=function ou(y){const c=[];return Ku(y,c),c}((b.get(In)||Rd).map(Ii=>Ii.getRealPlayer())).filter(Ii=>!!Ii.element&&Ii.element===In),Cr=j.get(In),Un=ee.get(In),Ds=ja(0,this._normalizer,0,rn.keyframes,Cr,Un),ki=this._buildPlayer(rn,Ds,On);if(rn.subTimeline&&x&&Yt.add(In),Zr){const Ii=new Pa(c,ne,In);Ii.setRealPlayer(ki),Ye.push(Ii)}return ki});Ye.forEach(rn=>{Ai(this.playersByQueriedElement,rn.element,[]).push(rn),rn.onDone(()=>function Uc(y,c,g){let b;if(y instanceof Map){if(b=y.get(c),b){if(b.length){const x=b.indexOf(g);b.splice(x,1)}0==b.length&&y.delete(c)}}else if(b=y[c],b){if(b.length){const x=b.indexOf(g);b.splice(x,1)}0==b.length&&delete y[c]}return b}(this.playersByQueriedElement,rn.element,rn))}),bt.forEach(rn=>Qs(rn,Tr));const Rn=Ys(Xt);return Rn.onDestroy(()=>{bt.forEach(rn=>Du(rn,Tr)),Or(ye,g.toStyles)}),Yt.forEach(rn=>{Ai(x,rn,[]).push(Rn)}),Rn}_buildPlayer(c,g,b){return g.length>0?this.driver.animate(c.element,g,c.duration,c.delay,c.easing,b):new Ar.ZN(c.duration,c.delay)}}class Pa{constructor(c,g,b){this.namespaceId=c,this.triggerName=g,this.element=b,this._player=new Ar.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(c){this._containsRealPlayer||(this._player=c,Object.keys(this._queuedCallbacks).forEach(g=>{this._queuedCallbacks[g].forEach(b=>Go(c,g,void 0,b))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(c.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(c){this.totalTime=c}syncPlayerEvents(c){const g=this._player;g.triggerCallback&&c.onStart(()=>g.triggerCallback("start")),c.onDone(()=>this.finish()),c.onDestroy(()=>this.destroy())}_queueEvent(c,g){Ai(this._queuedCallbacks,c,[]).push(g)}onDone(c){this.queued&&this._queueEvent("done",c),this._player.onDone(c)}onStart(c){this.queued&&this._queueEvent("start",c),this._player.onStart(c)}onDestroy(c){this.queued&&this._queueEvent("destroy",c),this._player.onDestroy(c)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(c){this.queued||this._player.setPosition(c)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(c){const g=this._player;g.triggerCallback&&g.triggerCallback(c)}}function Cu(y){return y&&1===y.nodeType}function su(y,c){const g=y.style.display;return y.style.display=null!=c?c:"none",g}function Fo(y,c,g,b,x){const j=[];g.forEach(ye=>j.push(su(ye)));const ee=[];b.forEach((ye,Ye)=>{const bt={};ye.forEach(Yt=>{const Xt=bt[Yt]=c.computeStyle(Ye,Yt,x);(!Xt||0==Xt.length)&&(Ye[Ts]=va,ee.push(Ye))}),y.set(Ye,bt)});let ne=0;return g.forEach(ye=>su(ye,j[ne++])),ee}function fc(y,c){const g=new Map;if(y.forEach(ne=>g.set(ne,[])),0==c.length)return g;const x=new Set(c),j=new Map;function ee(ne){if(!ne)return 1;let ye=j.get(ne);if(ye)return ye;const Ye=ne.parentNode;return ye=g.has(Ye)?Ye:x.has(Ye)?1:ee(Ye),j.set(ne,ye),ye}return c.forEach(ne=>{const ye=ee(ne);1!==ye&&g.get(ye).push(ne)}),g}function Qs(y,c){var g;null===(g=y.classList)||void 0===g||g.add(c)}function Du(y,c){var g;null===(g=y.classList)||void 0===g||g.remove(c)}function Lo(y,c,g){Ys(g).onDone(()=>y.processLeaveNode(c))}function Ku(y,c){for(let g=0;g<y.length;g++){const b=y[g];b instanceof Ar.ZE?Ku(b.players,c):c.push(b)}}function pc(y,c,g){const b=g.get(y);if(!b)return!1;let x=c.get(y);return x?b.forEach(j=>x.add(j)):c.set(y,b),g.delete(y),!0}class _l{constructor(c,g,b){this.bodyNode=c,this._driver=g,this._normalizer=b,this._triggerCache={},this.onRemovalComplete=(x,j)=>{},this._transitionEngine=new Tu(c,g,b),this._timelineEngine=new Qi(c,g,b),this._transitionEngine.onRemovalComplete=(x,j)=>this.onRemovalComplete(x,j)}registerTrigger(c,g,b,x,j){const ee=c+"-"+x;let ne=this._triggerCache[ee];if(!ne){const ye=[],bt=ml(this._driver,j,ye,[]);if(ye.length)throw function Qa(y,c){return new O.vHH(3404,ir)}();ne=function nu(y,c,g){return new zu(y,c,g)}(x,bt,this._normalizer),this._triggerCache[ee]=ne}this._transitionEngine.registerTrigger(g,x,ne)}register(c,g){this._transitionEngine.register(c,g)}destroy(c,g){this._transitionEngine.destroy(c,g)}onInsert(c,g,b,x){this._transitionEngine.insertNode(c,g,b,x)}onRemove(c,g,b,x){this._transitionEngine.removeNode(c,g,x||!1,b)}disableAnimations(c,g){this._transitionEngine.markElementAsDisabled(c,g)}process(c,g,b,x){if("@"==b.charAt(0)){const[j,ee]=ho(b);this._timelineEngine.command(j,g,ee,x)}else this._transitionEngine.trigger(c,g,b,x)}listen(c,g,b,x,j){if("@"==b.charAt(0)){const[ee,ne]=ho(b);return this._timelineEngine.listen(ee,g,ne,j)}return this._transitionEngine.listen(c,g,b,x,j)}flush(c=-1){this._transitionEngine.flush(c)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let jc=(()=>{class y{constructor(g,b,x){this._element=g,this._startStyles=b,this._endStyles=x,this._state=0;let j=y.initialStylesByElement.get(g);j||y.initialStylesByElement.set(g,j={}),this._initialStyles=j}start(){this._state<1&&(this._startStyles&&Or(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Or(this._element,this._initialStyles),this._endStyles&&(Or(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(y.initialStylesByElement.delete(this._element),this._startStyles&&(Sn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Sn(this._element,this._endStyles),this._endStyles=null),Or(this._element,this._initialStyles),this._state=3)}}return y.initialStylesByElement=new WeakMap,y})();function au(y){let c=null;const g=Object.keys(y);for(let b=0;b<g.length;b++){const x=g[b];Hc(x)&&(c=c||{},c[x]=y[x])}return c}function Hc(y){return"display"===y||"position"===y}class $c{constructor(c,g,b,x){this.element=c,this.keyframes=g,this.options=b,this._specialStyles=x,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=b.duration,this._delay=b.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const c=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,c,this.options),this._finalKeyframe=c.length?c[c.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(c,g,b){return c.animate(g,b)}onStart(c){this._onStartFns.push(c)}onDone(c){this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(c=>c()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}setPosition(c){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=c*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const c={};if(this.hasStarted()){const g=this._finalKeyframe;Object.keys(g).forEach(b=>{"offset"!=b&&(c[b]=this._finished?g[b]:ei(this.element,b))})}this.currentSnapshot=c}triggerCallback(c){const g="start"==c?this._onStartFns:this._onDoneFns;g.forEach(b=>b()),g.length=0}}class Gc{validateStyleProperty(c){return zr(c)}matchesElement(c,g){return!1}containsElement(c,g){return T(c,g)}getParentElement(c){return fo(c)}query(c,g,b){return E(c,g,b)}computeStyle(c,g,b){return window.getComputedStyle(c)[g]}animate(c,g,b,x,j,ee=[]){const ye={duration:b,delay:x,fill:0==x?"both":"forwards"};j&&(ye.easing=j);const Ye={},bt=ee.filter(Xt=>Xt instanceof $c);(function Hi(y,c){return 0===y||0===c})(b,x)&&bt.forEach(Xt=>{let Rn=Xt.currentSnapshot;Object.keys(Rn).forEach(rn=>Ye[rn]=Rn[rn])}),g=function Yi(y,c,g){const b=Object.keys(g);if(b.length&&c.length){let j=c[0],ee=[];if(b.forEach(ne=>{j.hasOwnProperty(ne)||ee.push(ne),j[ne]=g[ne]}),ee.length)for(var x=1;x<c.length;x++){let ne=c[x];ee.forEach(function(ye){ne[ye]=ei(y,ye)})}}return c}(c,g=g.map(Xt=>Ln(Xt,!1)),Ye);const Yt=function jl(y,c){let g=null,b=null;return Array.isArray(c)&&c.length?(g=au(c[0]),c.length>1&&(b=au(c[c.length-1]))):c&&(g=au(c)),g||b?new jc(y,g,b):null}(c,g);return new $c(c,g,ye,Yt)}}let Zu=(()=>{class y extends Ar._j{constructor(g,b){super(),this._nextAnimationId=0,this._renderer=g.createRenderer(b.body,{id:"0",encapsulation:O.ifc.None,styles:[],data:{animation:[]}})}build(g){const b=this._nextAnimationId.toString();this._nextAnimationId++;const x=Array.isArray(g)?(0,Ar.vP)(g):g;return Qo(this._renderer,null,b,"register",[x]),new vl(b,this._renderer)}}return y.\u0275fac=function(g){return new(g||y)(O.LFG(O.FYo),O.LFG(it.K0))},y.\u0275prov=O.Yz7({token:y,factory:y.\u0275fac}),y})();class vl extends Ar.LC{constructor(c,g){super(),this._id=c,this._renderer=g}create(c,g){return new uu(this._id,c,g||{},this._renderer)}}class uu{constructor(c,g,b,x){this.id=c,this.element=g,this._renderer=x,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",b)}_listen(c,g){return this._renderer.listen(this.element,`@@${this.id}:${c}`,g)}_command(c,...g){return Qo(this._renderer,this.element,this.id,c,g)}onDone(c){this._listen("done",c)}onStart(c){this._listen("start",c)}onDestroy(c){this._listen("destroy",c)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(c){this._command("setPosition",c)}getPosition(){var c,g;return null!==(g=null===(c=this._renderer.engine.players[+this.id])||void 0===c?void 0:c.getPosition())&&void 0!==g?g:0}}function Qo(y,c,g,b,x){return y.setProperty(c,`@@${g}:${b}`,x)}const Ns="@.disabled";let Qu=(()=>{class y{constructor(g,b,x){this.delegate=g,this.engine=b,this._zone=x,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),b.onRemovalComplete=(j,ee)=>{const ne=null==ee?void 0:ee.parentNode(j);ne&&ee.removeChild(ne,j)}}createRenderer(g,b){const j=this.delegate.createRenderer(g,b);if(!(g&&b&&b.data&&b.data.animation)){let bt=this._rendererCache.get(j);return bt||(bt=new Ju("",j,this.engine),this._rendererCache.set(j,bt)),bt}const ee=b.id,ne=b.id+"-"+this._currentId;this._currentId++,this.engine.register(ne,g);const ye=bt=>{Array.isArray(bt)?bt.forEach(ye):this.engine.registerTrigger(ee,ne,g,bt.name,bt)};return b.data.animation.forEach(ye),new Xu(this,ne,j,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(g,b,x){g>=0&&g<this._microtaskId?this._zone.run(()=>b(x)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(j=>{const[ee,ne]=j;ee(ne)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([b,x]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return y.\u0275fac=function(g){return new(g||y)(O.LFG(O.FYo),O.LFG(_l),O.LFG(O.R0b))},y.\u0275prov=O.Yz7({token:y,factory:y.\u0275fac}),y})();class Ju{constructor(c,g,b){this.namespaceId=c,this.delegate=g,this.engine=b,this.destroyNode=this.delegate.destroyNode?x=>g.destroyNode(x):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(c,g){return this.delegate.createElement(c,g)}createComment(c){return this.delegate.createComment(c)}createText(c){return this.delegate.createText(c)}appendChild(c,g){this.delegate.appendChild(c,g),this.engine.onInsert(this.namespaceId,g,c,!1)}insertBefore(c,g,b,x=!0){this.delegate.insertBefore(c,g,b),this.engine.onInsert(this.namespaceId,g,c,x)}removeChild(c,g,b){this.engine.onRemove(this.namespaceId,g,this.delegate,b)}selectRootElement(c,g){return this.delegate.selectRootElement(c,g)}parentNode(c){return this.delegate.parentNode(c)}nextSibling(c){return this.delegate.nextSibling(c)}setAttribute(c,g,b,x){this.delegate.setAttribute(c,g,b,x)}removeAttribute(c,g,b){this.delegate.removeAttribute(c,g,b)}addClass(c,g){this.delegate.addClass(c,g)}removeClass(c,g){this.delegate.removeClass(c,g)}setStyle(c,g,b,x){this.delegate.setStyle(c,g,b,x)}removeStyle(c,g,b){this.delegate.removeStyle(c,g,b)}setProperty(c,g,b){"@"==g.charAt(0)&&g==Ns?this.disableAnimations(c,!!b):this.delegate.setProperty(c,g,b)}setValue(c,g){this.delegate.setValue(c,g)}listen(c,g,b){return this.delegate.listen(c,g,b)}disableAnimations(c,g){this.engine.disableAnimations(c,g)}}class Xu extends Ju{constructor(c,g,b,x){super(g,b,x),this.factory=c,this.namespaceId=g}setProperty(c,g,b){"@"==g.charAt(0)?"."==g.charAt(1)&&g==Ns?this.disableAnimations(c,b=void 0===b||!!b):this.engine.process(this.namespaceId,c,g.substr(1),b):this.delegate.setProperty(c,g,b)}listen(c,g,b){if("@"==g.charAt(0)){const x=function zc(y){switch(y){case"body":return document.body;case"document":return document;case"window":return window;default:return y}}(c);let j=g.substr(1),ee="";return"@"!=j.charAt(0)&&([j,ee]=function qc(y){const c=y.indexOf(".");return[y.substring(0,c),y.substr(c+1)]}(j)),this.engine.listen(this.namespaceId,x,j,ee,ne=>{this.factory.scheduleListenerCallback(ne._data||-1,b,ne)})}return this.delegate.listen(c,g,b)}}let Cs=(()=>{class y extends _l{constructor(g,b,x){super(g.body,b,x)}ngOnDestroy(){this.flush()}}return y.\u0275fac=function(g){return new(g||y)(O.LFG(it.K0),O.LFG(z),O.LFG(ar))},y.\u0275prov=O.Yz7({token:y,factory:y.\u0275fac}),y})();const Hl=new O.OlP("AnimationModuleType"),el=[{provide:Ar._j,useClass:Zu},{provide:ar,useFactory:function gc(){return new Si}},{provide:_l,useClass:Cs},{provide:O.FYo,useFactory:function lu(y,c,g){return new Qu(y,c,g)},deps:[m.se,_l,O.R0b]}],xd=[{provide:z,useFactory:()=>new Gc},{provide:Hl,useValue:"BrowserAnimations"},...el],Od=[{provide:z,useClass:B},{provide:Hl,useValue:"NoopAnimations"},...el];let mc=(()=>{class y{static withConfig(g){return{ngModule:y,providers:g.disableAnimations?Od:xd}}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275mod=O.oAB({type:y}),y.\u0275inj=O.cJS({providers:xd,imports:[m.b2]}),y})(),qa=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275mod=O.oAB({type:y,bootstrap:[ve]}),y.\u0275inj=O.cJS({providers:[],imports:[[m.b2,dt,Fa,X.JF,Te.u5,Ue.Rh.forRoot({timeOut:2e3,positionClass:"toast-top-center"}),Te.UX,mc]]}),y})();(0,O.G48)(),m.q6().bootstrapModule(qa).catch(y=>console.error(y))},5867:(jt,ze,U)=>{U.d(ze,{C6:()=>m.getApps,Mq:()=>m.getApp});var m=U(9681);(0,m.registerVersion)("firebase","9.8.1","app")},127:(jt,ze,U)=>{U.d(ze,{Z:()=>m.Z});var m=U(3942);m.Z.registerVersion("firebase","9.8.1","app-compat")},7092:(jt,ze,U)=>{U.r(ze);var m=U(5861),O=U(3942),X=U(2090),Te=U(9681),De=U(655),Ae=U(1877),Ue=U(4859);const ht=function St(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Mt=function it(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ze=new X.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Vt=new Ae.Yd("@firebase/auth");function Ut(_,...d){Vt.logLevel<=Ae.in.ERROR&&Vt.error(`Auth (${Te.SDK_VERSION}): ${_}`,...d)}function oe(_,...d){throw ot(_,...d)}function ve(_,...d){return ot(_,...d)}function Ke(_,d,f){const I=Object.assign(Object.assign({},Mt()),{[d]:f});return new X.LL("auth","Firebase",I).create(d,{appName:_.name})}function Ge(_,d,f){if(!(d instanceof f))throw f.name!==d.constructor.name&&oe(_,"argument-error"),Ke(_,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ot(_,...d){if("string"!=typeof _){const f=d[0],I=[...d.slice(1)];return I[0]&&(I[0].appName=_.name),_._errorFactory.create(f,...I)}return Ze.create(_,...d)}function de(_,d,...f){if(!_)throw ot(d,...f)}function Xe(_){const d="INTERNAL ASSERTION FAILED: "+_;throw Ut(d),new Error(d)}function se(_,d){_||Xe(d)}const ke=new Map;function _e(_){se(_ instanceof Function,"Expected a class definition");let d=ke.get(_);return d?(se(d instanceof _,"Instance stored in cache mismatched with class"),d):(d=new _,ke.set(_,d),d)}function It(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Nt(){return"http:"===Ot()||"https:"===Ot()}function Ot(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class yn{constructor(d,f){this.shortDelay=d,this.longDelay=f,se(f>d,"Short delay should be less than long delay!"),this.isMobile=(0,X.uI)()||(0,X.b$)()}get(){return function Zt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Nt()||(0,X.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qt(_,d){se(_.emulator,"Emulator should always be set here");const{url:f}=_.emulator;return d?`${f}${d.startsWith("/")?d.slice(1):d}`:f}class nt{static initialize(d,f,I){this.fetchImpl=d,f&&(this.headersImpl=f),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Xe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Xe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Xe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const et={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},we=new yn(3e4,6e4);function Be(_,d){return _.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:_.tenantId}):d}function Dt(_,d,f,I){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,m.Z)(function*(_,d,f,I,H={}){return Pn(_,H,(0,m.Z)(function*(){let te={},Fe={};I&&("GET"===d?Fe=I:te={body:JSON.stringify(I)});const ut=(0,X.xO)(Object.assign({key:_.config.apiKey},Fe)).slice(1),Kt=yield _._getAdditionalHeaders();return Kt["Content-Type"]="application/json",_.languageCode&&(Kt["X-Firebase-Locale"]=_.languageCode),nt.fetch()(lr(_,_.config.apiHost,f,ut),Object.assign({method:d,headers:Kt,referrerPolicy:"no-referrer"},te))}))})).apply(this,arguments)}function Pn(_,d,f){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,m.Z)(function*(_,d,f){_._canInitEmulator=!1;const I=Object.assign(Object.assign({},et),d);try{const H=new sr(_),te=yield Promise.race([f(),H.promise]);H.clearNetworkTimeout();const Fe=yield te.json();if("needConfirmation"in Fe)throw Xn(_,"account-exists-with-different-credential",Fe);if(te.ok&&!("errorMessage"in Fe))return Fe;{const ut=te.ok?Fe.errorMessage:Fe.error.message,[Kt,hn]=ut.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Kt)throw Xn(_,"credential-already-in-use",Fe);if("EMAIL_EXISTS"===Kt)throw Xn(_,"email-already-in-use",Fe);const En=I[Kt]||Kt.toLowerCase().replace(/[_\s]+/g,"-");if(hn)throw Ke(_,En,hn);oe(_,En)}}catch(H){if(H instanceof X.ZR)throw H;oe(_,"network-request-failed")}})).apply(this,arguments)}function Zn(_,d,f,I){return pr.apply(this,arguments)}function pr(){return(pr=(0,m.Z)(function*(_,d,f,I,H={}){const te=yield Dt(_,d,f,I,H);return"mfaPendingCredential"in te&&oe(_,"multi-factor-auth-required",{_serverResponse:te}),te})).apply(this,arguments)}function lr(_,d,f,I){const H=`${d}${f}?${I}`;return _.config.emulator?Qt(_.config,H):`${_.config.apiScheme}://${H}`}class sr{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((f,I)=>{this.timer=setTimeout(()=>I(ve(this.auth,"network-request-failed")),we.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xn(_,d,f){const I={appName:_.name};f.email&&(I.email=f.email),f.phoneNumber&&(I.phoneNumber=f.phoneNumber);const H=ve(_,d,I);return H.customData._tokenResponse=f,H}function gn(){return(gn=(0,m.Z)(function*(_,d){return Dt(_,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Mn(_,d){return wn.apply(this,arguments)}function wn(){return(wn=(0,m.Z)(function*(_,d){return Dt(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function _i(_,d){return ui.apply(this,arguments)}function ui(){return(ui=(0,m.Z)(function*(_,d){return Dt(_,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function gt(_){if(_)try{const d=new Date(Number(_));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function Et(){return(Et=(0,m.Z)(function*(_,d=!1){const f=(0,X.m9)(_),I=yield f.getIdToken(d),H=_t(I);de(H&&H.exp&&H.auth_time&&H.iat,f.auth,"internal-error");const te="object"==typeof H.firebase?H.firebase:void 0,Fe=null==te?void 0:te.sign_in_provider;return{claims:H,token:I,authTime:gt(He(H.auth_time)),issuedAtTime:gt(He(H.iat)),expirationTime:gt(He(H.exp)),signInProvider:Fe||null,signInSecondFactor:(null==te?void 0:te.sign_in_second_factor)||null}})).apply(this,arguments)}function He(_){return 1e3*Number(_)}function _t(_){const[d,f,I]=_.split(".");if(void 0===d||void 0===f||void 0===I)return Ut("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,X.tV)(f);return H?JSON.parse(H):(Ut("Failed to decode base64 JWT payload"),null)}catch(H){return Ut("Caught error parsing JWT payload as JSON",H),null}}function pn(_,d){return _n.apply(this,arguments)}function _n(){return(_n=(0,m.Z)(function*(_,d,f=!1){if(f)return d;try{return yield d}catch(I){throw I instanceof X.ZR&&bn(I)&&_.auth.currentUser===_&&(yield _.auth.signOut()),I}})).apply(this,arguments)}function bn({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Yr{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var f;if(d){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const H=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(d=!1){var f=this;if(!this.isRunning)return;const I=this.getInterval(d);this.timerId=setTimeout((0,m.Z)(function*(){yield f.iteration()}),I)}iteration(){var d=this;return(0,m.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f.code&&d.schedule(!0))}d.schedule()})()}}class br{constructor(d,f){this.createdAt=d,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=gt(this.lastLoginAt),this.creationTime=gt(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yn(_){return ue.apply(this,arguments)}function ue(){return(ue=(0,m.Z)(function*(_){var d;const f=_.auth,I=yield _.getIdToken(),H=yield pn(_,_i(f,{idToken:I}));de(null==H?void 0:H.users.length,f,"internal-error");const te=H.users[0];_._notifyReloadListener(te);const Fe=(null===(d=te.providerUserInfo)||void 0===d?void 0:d.length)?he(te.providerUserInfo):[],ut=yt(_.providerData,Fe),En=!!_.isAnonymous&&!(_.email&&te.passwordHash||(null==ut?void 0:ut.length)),Fn={uid:te.localId,displayName:te.displayName||null,photoURL:te.photoUrl||null,email:te.email||null,emailVerified:te.emailVerified||!1,phoneNumber:te.phoneNumber||null,tenantId:te.tenantId||null,providerData:ut,metadata:new br(te.createdAt,te.lastLoginAt),isAnonymous:En};Object.assign(_,Fn)})).apply(this,arguments)}function Ce(){return(Ce=(0,m.Z)(function*(_){const d=(0,X.m9)(_);yield Yn(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function yt(_,d){return[..._.filter(I=>!d.some(H=>H.providerId===I.providerId)),...d]}function he(_){return _.map(d=>{var{providerId:f}=d,I=(0,De._T)(d,["providerId"]);return{providerId:f,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function wt(){return(wt=(0,m.Z)(function*(_,d){const f=yield Pn(_,{},(0,m.Z)(function*(){const I=(0,X.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:H,apiKey:te}=_.config,Fe=lr(_,H,"/v1/token",`key=${te}`),ut=yield _._getAdditionalHeaders();return ut["Content-Type"]="application/x-www-form-urlencoded",nt.fetch()(Fe,{method:"POST",headers:ut,body:I})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class Bt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){de(d.idToken,"internal-error"),de(void 0!==d.idToken,"internal-error"),de(void 0!==d.refreshToken,"internal-error");const f="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function kt(_){const d=_t(_);return de(d,"internal-error"),de(void 0!==d.exp,"internal-error"),de(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,f)}getToken(d,f=!1){var I=this;return(0,m.Z)(function*(){return de(!I.accessToken||I.refreshToken,d,"user-token-expired"),f||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(d,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,f){var I=this;return(0,m.Z)(function*(){const{accessToken:H,refreshToken:te,expiresIn:Fe}=yield function Pe(_,d){return wt.apply(this,arguments)}(d,f);I.updateTokensAndExpiration(H,te,Number(Fe))})()}updateTokensAndExpiration(d,f,I){this.refreshToken=f||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(d,f){const{refreshToken:I,accessToken:H,expirationTime:te}=f,Fe=new Bt;return I&&(de("string"==typeof I,"internal-error",{appName:d}),Fe.refreshToken=I),H&&(de("string"==typeof H,"internal-error",{appName:d}),Fe.accessToken=H),te&&(de("number"==typeof te,"internal-error",{appName:d}),Fe.expirationTime=te),Fe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Bt,this.toJSON())}_performRefresh(){return Xe("not implemented")}}function Wt(_,d){de("string"==typeof _||void 0===_,"internal-error",{appName:d})}class ln{constructor(d){var{uid:f,auth:I,stsTokenManager:H}=d,te=(0,De._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=I,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=te.displayName||null,this.email=te.email||null,this.emailVerified=te.emailVerified||!1,this.phoneNumber=te.phoneNumber||null,this.photoURL=te.photoURL||null,this.isAnonymous=te.isAnonymous||!1,this.tenantId=te.tenantId||null,this.providerData=te.providerData?[...te.providerData]:[],this.metadata=new br(te.createdAt||void 0,te.lastLoginAt||void 0)}getIdToken(d){var f=this;return(0,m.Z)(function*(){const I=yield pn(f,f.stsTokenManager.getToken(f.auth,d));return de(I,f.auth,"internal-error"),f.accessToken!==I&&(f.accessToken=I,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),I})()}getIdTokenResult(d){return function Se(_){return Et.apply(this,arguments)}(this,d)}reload(){return function ge(_){return Ce.apply(this,arguments)}(this)}_assign(d){this!==d&&(de(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(f=>Object.assign({},f)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new ln(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,f=!1){var I=this;return(0,m.Z)(function*(){let H=!1;d.idToken&&d.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(d),H=!0),f&&(yield Yn(I)),yield I.auth._persistUserIfCurrent(I),H&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var d=this;return(0,m.Z)(function*(){const f=yield d.getIdToken();return yield pn(d,function sn(_,d){return gn.apply(this,arguments)}(d.auth,{idToken:f})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,f){var I,H,te,Fe,ut,Kt,hn,En;const Fn=null!==(I=f.displayName)&&void 0!==I?I:void 0,ts=null!==(H=f.email)&&void 0!==H?H:void 0,ea=null!==(te=f.phoneNumber)&&void 0!==te?te:void 0,Wl=null!==(Fe=f.photoURL)&&void 0!==Fe?Fe:void 0,Pd=null!==(ut=f.tenantId)&&void 0!==ut?ut:void 0,Th=null!==(Kt=f._redirectEventId)&&void 0!==Kt?Kt:void 0,bl=null!==(hn=f.createdAt)&&void 0!==hn?hn:void 0,Zc=null!==(En=f.lastLoginAt)&&void 0!==En?En:void 0,{uid:Yc,emailVerified:Ch,isAnonymous:Qc,providerData:Nd,stsTokenManager:Dh}=f;de(Yc&&Dh,d,"internal-error");const zf=Bt.fromJSON(this.name,Dh);de("string"==typeof Yc,d,"internal-error"),Wt(Fn,d.name),Wt(ts,d.name),de("boolean"==typeof Ch,d,"internal-error"),de("boolean"==typeof Qc,d,"internal-error"),Wt(ea,d.name),Wt(Wl,d.name),Wt(Pd,d.name),Wt(Th,d.name),Wt(bl,d.name),Wt(Zc,d.name);const kd=new ln({uid:Yc,auth:d,email:ts,emailVerified:Ch,displayName:Fn,isAnonymous:Qc,photoURL:Wl,phoneNumber:ea,tenantId:Pd,stsTokenManager:zf,createdAt:bl,lastLoginAt:Zc});return Nd&&Array.isArray(Nd)&&(kd.providerData=Nd.map(qf=>Object.assign({},qf))),Th&&(kd._redirectEventId=Th),kd}static _fromIdTokenResponse(d,f,I=!1){return(0,m.Z)(function*(){const H=new Bt;H.updateFromServerResponse(f);const te=new ln({uid:f.localId,auth:d,stsTokenManager:H,isAnonymous:I});return yield Yn(te),te})()}}const dn=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(f,I){var H=this;return(0,m.Z)(function*(){H.storage[f]=I})()}_get(f){var I=this;return(0,m.Z)(function*(){const H=I.storage[f];return void 0===H?null:H})()}_remove(f){var I=this;return(0,m.Z)(function*(){delete I.storage[f]})()}_addListener(f,I){}_removeListener(f,I){}}return _.type="NONE",_})();function Rr(_,d,f){return`firebase:${_}:${d}:${f}`}class qr{constructor(d,f,I){this.persistence=d,this.auth=f,this.userKey=I;const{config:H,name:te}=this.auth;this.fullUserKey=Rr(this.userKey,H.apiKey,te),this.fullPersistenceKey=Rr("persistence",H.apiKey,te),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,m.Z)(function*(){const f=yield d.persistence._get(d.fullUserKey);return f?ln._fromJSON(d.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var f=this;return(0,m.Z)(function*(){if(f.persistence===d)return;const I=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=d,I?f.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,f,I="authUser"){return(0,m.Z)(function*(){if(!f.length)return new qr(_e(dn),d,I);const H=(yield Promise.all(f.map(function(){var hn=(0,m.Z)(function*(En){if(yield En._isAvailable())return En});return function(En){return hn.apply(this,arguments)}}()))).filter(hn=>hn);let te=H[0]||_e(dn);const Fe=Rr(I,d.config.apiKey,d.name);let ut=null;for(const hn of f)try{const En=yield hn._get(Fe);if(En){const Fn=ln._fromJSON(d,En);hn!==te&&(ut=Fn),te=hn;break}}catch(En){}const Kt=H.filter(hn=>hn._shouldAllowMigration);return te._shouldAllowMigration&&Kt.length?(te=Kt[0],ut&&(yield te._set(Fe,ut.toJSON())),yield Promise.all(f.map(function(){var hn=(0,m.Z)(function*(En){if(En!==te)try{yield En._remove(Fe)}catch(Fn){}});return function(En){return hn.apply(this,arguments)}}())),new qr(te,d,I)):new qr(te,d,I)})()}}function Fi(_){const d=_.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Le(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(qe(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(tn(d))return"Blackberry";if(mn(d))return"Webos";if(Me(d))return"Safari";if((d.includes("chrome/")||ie(d))&&!d.includes("edge/"))return"Chrome";if(ft(d))return"Android";{const I=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function qe(_=(0,X.z$)()){return/firefox\//i.test(_)}function Me(_=(0,X.z$)()){const d=_.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function ie(_=(0,X.z$)()){return/crios\//i.test(_)}function Le(_=(0,X.z$)()){return/iemobile/i.test(_)}function ft(_=(0,X.z$)()){return/android/i.test(_)}function tn(_=(0,X.z$)()){return/blackberry/i.test(_)}function mn(_=(0,X.z$)()){return/webos/i.test(_)}function gr(_=(0,X.z$)()){return/iphone|ipad|ipod/i.test(_)}function li(_=(0,X.z$)()){return gr(_)||ft(_)||mn(_)||tn(_)||/windows phone/i.test(_)||Le(_)}function Vi(_,d=[]){let f;switch(_){case"Browser":f=Fi((0,X.z$)());break;case"Worker":f=`${Fi((0,X.z$)())}-${_}`;break;default:f=_}const I=d.length?d.join(","):"FirebaseCore-web";return`${f}/JsCore/${Te.SDK_VERSION}/${I}`}class Ir{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,f){const I=te=>new Promise((Fe,ut)=>{try{Fe(d(te))}catch(Kt){ut(Kt)}});I.onAbort=f,this.queue.push(I);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(d){var f=this;return(0,m.Z)(function*(){if(f.auth.currentUser===d)return;const I=[];try{for(const H of f.queue)yield H(d),H.onAbort&&I.push(H.onAbort)}catch(H){I.reverse();for(const te of I)try{te()}catch(Fe){}throw f.auth._errorFactory.create("login-blocked",{originalMessage:H.message})}})()}}class $t{constructor(d,f,I){this.app=d,this.heartbeatServiceProvider=f,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tn(this),this.idTokenSubscription=new Tn(this),this.beforeStateQueue=new Ir(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ze,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(d,f){var I=this;return f&&(this._popupRedirectResolver=_e(f)),this._initializationPromise=this.queue((0,m.Z)(function*(){var H,te;if(!I._deleted&&(I.persistenceManager=yield qr.create(I,d),!I._deleted)){if(null===(H=I._popupRedirectResolver)||void 0===H?void 0:H._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch(Fe){}yield I.initializeCurrentUser(f),I.lastNotifiedUid=(null===(te=I.currentUser)||void 0===te?void 0:te.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,m.Z)(function*(){if(d._deleted)return;const f=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||f){if(d.currentUser&&f&&d.currentUser.uid===f.uid)return d._currentUser._assign(f),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(f,!0)}})()}initializeCurrentUser(d){var f=this;return(0,m.Z)(function*(){var I;const H=yield f.assertedPersistence.getCurrentUser();let te=H,Fe=!1;if(d&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const ut=null===(I=f.redirectUser)||void 0===I?void 0:I._redirectEventId,Kt=null==te?void 0:te._redirectEventId,hn=yield f.tryRedirectSignIn(d);(!ut||ut===Kt)&&(null==hn?void 0:hn.user)&&(te=hn.user,Fe=!0)}if(!te)return f.directlySetCurrentUser(null);if(!te._redirectEventId){if(Fe)try{yield f.beforeStateQueue.runMiddleware(te)}catch(ut){te=H,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(ut))}return te?f.reloadAndSetCurrentUserOrClear(te):f.directlySetCurrentUser(null)}return de(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===te._redirectEventId?f.directlySetCurrentUser(te):f.reloadAndSetCurrentUserOrClear(te)})()}tryRedirectSignIn(d){var f=this;return(0,m.Z)(function*(){let I=null;try{I=yield f._popupRedirectResolver._completeRedirectFn(f,d,!0)}catch(H){yield f._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(d){var f=this;return(0,m.Z)(function*(){try{yield Yn(d)}catch(I){if("auth/network-request-failed"!==I.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Ct(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var d=this;return(0,m.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var f=this;return(0,m.Z)(function*(){const I=d?(0,X.m9)(d):null;return I&&de(I.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(I&&I._clone(f))})()}_updateCurrentUser(d,f=!1){var I=this;return(0,m.Z)(function*(){if(!I._deleted)return d&&de(I.tenantId===d.tenantId,I,"tenant-id-mismatch"),f||(yield I.beforeStateQueue.runMiddleware(d)),I.queue((0,m.Z)(function*(){yield I.directlySetCurrentUser(d),I.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,m.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var f=this;return this.queue((0,m.Z)(function*(){yield f.assertedPersistence.setPersistence(_e(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new X.LL("auth","Firebase",d())}onAuthStateChanged(d,f,I){return this.registerStateListener(this.authStateSubscription,d,f,I)}beforeAuthStateChanged(d,f){return this.beforeStateQueue.pushCallback(d,f)}onIdTokenChanged(d,f,I){return this.registerStateListener(this.idTokenSubscription,d,f,I)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,f){var I=this;return(0,m.Z)(function*(){const H=yield I.getOrInitRedirectPersistenceManager(f);return null===d?H.removeCurrentUser():H.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var f=this;return(0,m.Z)(function*(){if(!f.redirectPersistenceManager){const I=d&&_e(d)||f._popupRedirectResolver;de(I,f,"argument-error"),f.redirectPersistenceManager=yield qr.create(f,[_e(I._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(d){var f=this;return(0,m.Z)(function*(){var I,H;return f._isInitialized&&(yield f.queue((0,m.Z)(function*(){}))),(null===(I=f._currentUser)||void 0===I?void 0:I._redirectEventId)===d?f._currentUser:(null===(H=f.redirectUser)||void 0===H?void 0:H._redirectEventId)===d?f.redirectUser:null})()}_persistUserIfCurrent(d){var f=this;return(0,m.Z)(function*(){if(d===f.currentUser)return f.queue((0,m.Z)(function*(){return f.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(f=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,f,I,H){if(this._deleted)return()=>{};const te="function"==typeof f?f:f.next.bind(f),Fe=this._isInitialized?Promise.resolve():this._initializationPromise;return de(Fe,this,"internal-error"),Fe.then(()=>te(this.currentUser)),"function"==typeof f?d.addObserver(f,I,H):d.addObserver(f)}directlySetCurrentUser(d){var f=this;return(0,m.Z)(function*(){f.currentUser&&f.currentUser!==d&&(f._currentUser._stopProactiveRefresh(),d&&f.isProactiveRefreshEnabled&&d._startProactiveRefresh()),f.currentUser=d,d?yield f.assertedPersistence.setCurrentUser(d):yield f.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Vi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,m.Z)(function*(){var f;const I={"X-Client-Version":d.clientVersion};d.app.options.appId&&(I["X-Firebase-gmpid"]=d.app.options.appId);const H=yield null===(f=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return H&&(I["X-Firebase-Client"]=H),I})()}}function Gt(_){return(0,X.m9)(_)}class Tn{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,X.ne)(f=>this.observer=f)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ri(_){const d=_.indexOf(":");return d<0?"":_.substr(0,d+1)}function Ei(_){if(!_)return null;const d=Number(_);return isNaN(d)?null:d}class ci{constructor(d,f){this.providerId=d,this.signInMethod=f}toJSON(){return Xe("not implemented")}_getIdTokenResponse(d){return Xe("not implemented")}_linkToIdToken(d,f){return Xe("not implemented")}_getReauthenticationResolver(d){return Xe("not implemented")}}function kr(_,d){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,m.Z)(function*(_,d){return Dt(_,"POST","/v1/accounts:resetPassword",Be(_,d))})).apply(this,arguments)}function xi(_,d){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,m.Z)(function*(_,d){return Dt(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function os(_,d){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,m.Z)(function*(_,d){return Dt(_,"POST","/v1/accounts:update",Be(_,d))})).apply(this,arguments)}function Br(){return(Br=(0,m.Z)(function*(_,d){return Zn(_,"POST","/v1/accounts:signInWithPassword",Be(_,d))})).apply(this,arguments)}function Wr(_,d){return nr.apply(this,arguments)}function nr(){return(nr=(0,m.Z)(function*(_,d){return Dt(_,"POST","/v1/accounts:sendOobCode",Be(_,d))})).apply(this,arguments)}function Kn(_,d){return ys.apply(this,arguments)}function ys(){return(ys=(0,m.Z)(function*(_,d){return Wr(_,d)})).apply(this,arguments)}function ni(_,d){return ri.apply(this,arguments)}function ri(){return(ri=(0,m.Z)(function*(_,d){return Wr(_,d)})).apply(this,arguments)}function di(_,d){return $i.apply(this,arguments)}function $i(){return($i=(0,m.Z)(function*(_,d){return Wr(_,d)})).apply(this,arguments)}function Gs(_,d){return as.apply(this,arguments)}function as(){return(as=(0,m.Z)(function*(_,d){return Wr(_,d)})).apply(this,arguments)}function ls(){return(ls=(0,m.Z)(function*(_,d){return Zn(_,"POST","/v1/accounts:signInWithEmailLink",Be(_,d))})).apply(this,arguments)}function oa(){return(oa=(0,m.Z)(function*(_,d){return Zn(_,"POST","/v1/accounts:signInWithEmailLink",Be(_,d))})).apply(this,arguments)}class Dr extends ci{constructor(d,f,I,H=null){super("password",I),this._email=d,this._password=f,this._tenantId=H}static _fromEmailAndPassword(d,f){return new Dr(d,f,"password")}static _fromEmailAndCode(d,f,I=null){return new Dr(d,f,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(d){var f=this;return(0,m.Z)(function*(){switch(f.signInMethod){case"password":return function Ur(_,d){return Br.apply(this,arguments)}(d,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function us(_,d){return ls.apply(this,arguments)}(d,{email:f._email,oobCode:f._password});default:oe(d,"internal-error")}})()}_linkToIdToken(d,f){var I=this;return(0,m.Z)(function*(){switch(I.signInMethod){case"password":return xi(d,{idToken:f,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function Uo(_,d){return oa.apply(this,arguments)}(d,{idToken:f,email:I._email,oobCode:I._password});default:oe(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Gi(_,d){return zs.apply(this,arguments)}function zs(){return(zs=(0,m.Z)(function*(_,d){return Zn(_,"POST","/v1/accounts:signInWithIdp",Be(_,d))})).apply(this,arguments)}class Ie extends ci{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const f=new Ie(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(f.idToken=d.idToken),d.accessToken&&(f.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(f.nonce=d.nonce),d.pendingToken&&(f.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(f.accessToken=d.oauthToken,f.secret=d.oauthTokenSecret):oe("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:I,signInMethod:H}=f,te=(0,De._T)(f,["providerId","signInMethod"]);if(!I||!H)return null;const Fe=new Ie(I,H);return Fe.idToken=te.idToken||void 0,Fe.accessToken=te.accessToken||void 0,Fe.secret=te.secret,Fe.nonce=te.nonce,Fe.pendingToken=te.pendingToken||null,Fe}_getIdTokenResponse(d){return Gi(d,this.buildRequest())}_linkToIdToken(d,f){const I=this.buildRequest();return I.idToken=f,Gi(d,I)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,Gi(d,f)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),d.postBody=(0,X.xO)(f)}return d}}function Je(_,d){return mt.apply(this,arguments)}function mt(){return(mt=(0,m.Z)(function*(_,d){return Dt(_,"POST","/v1/accounts:sendVerificationCode",Be(_,d))})).apply(this,arguments)}function Jt(){return(Jt=(0,m.Z)(function*(_,d){return Zn(_,"POST","/v1/accounts:signInWithPhoneNumber",Be(_,d))})).apply(this,arguments)}function Jn(){return(Jn=(0,m.Z)(function*(_,d){const f=yield Zn(_,"POST","/v1/accounts:signInWithPhoneNumber",Be(_,d));if(f.temporaryProof)throw Xn(_,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const tr={USER_NOT_FOUND:"user-not-found"};function vs(){return(vs=(0,m.Z)(function*(_,d){return Zn(_,"POST","/v1/accounts:signInWithPhoneNumber",Be(_,Object.assign(Object.assign({},d),{operation:"REAUTH"})),tr)})).apply(this,arguments)}class Jr extends ci{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,f){return new Jr({verificationId:d,verificationCode:f})}static _fromTokenResponse(d,f){return new Jr({phoneNumber:d,temporaryProof:f})}_getIdTokenResponse(d){return function Lt(_,d){return Jt.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,f){return function mr(_,d){return Jn.apply(this,arguments)}(d,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function _s(_,d){return vs.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:f,verificationId:I,verificationCode:H}=this.params;return d&&f?{temporaryProof:d,phoneNumber:f}:{sessionInfo:I,code:H}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:f,verificationCode:I,phoneNumber:H,temporaryProof:te}=d;return I||f||H||te?new Jr({verificationId:f,verificationCode:I,phoneNumber:H,temporaryProof:te}):null}}class hi{constructor(d){var f,I,H,te,Fe,ut;const Kt=(0,X.zd)((0,X.pd)(d)),hn=null!==(f=Kt.apiKey)&&void 0!==f?f:null,En=null!==(I=Kt.oobCode)&&void 0!==I?I:null,Fn=function bo(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=Kt.mode)&&void 0!==H?H:null);de(hn&&En&&Fn,"argument-error"),this.apiKey=hn,this.operation=Fn,this.code=En,this.continueUrl=null!==(te=Kt.continueUrl)&&void 0!==te?te:null,this.languageCode=null!==(Fe=Kt.languageCode)&&void 0!==Fe?Fe:null,this.tenantId=null!==(ut=Kt.tenantId)&&void 0!==ut?ut:null}static parseLink(d){const f=function Rs(_){const d=(0,X.zd)((0,X.pd)(_)).link,f=d?(0,X.zd)((0,X.pd)(d)).deep_link_id:null,I=(0,X.zd)((0,X.pd)(_)).deep_link_id;return(I?(0,X.zd)((0,X.pd)(I)).link:null)||I||f||d||_}(d);try{return new hi(f)}catch(I){return null}}}let no=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(f,I){return Dr._fromEmailAndPassword(f,I)}static credentialWithLink(f,I){const H=hi.parseLink(I);return de(H,"argument-error"),Dr._fromEmailAndCode(f,H.code,H.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class ii{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class qs extends ii{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class zi extends qs{static credentialFromJSON(d){const f="string"==typeof d?JSON.parse(d):d;return de("providerId"in f&&"signInMethod"in f,"argument-error"),Ie._fromParams(f)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return de(d.idToken||d.accessToken,"argument-error"),Ie._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return zi.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return zi.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:f,oauthAccessToken:I,oauthTokenSecret:H,pendingToken:te,nonce:Fe,providerId:ut}=d;if(!I&&!H&&!f&&!te||!ut)return null;try{return new zi(ut)._credential({idToken:f,accessToken:I,nonce:Fe,pendingToken:te})}catch(Kt){return null}}}let wi=(()=>{class _ extends qs{constructor(){super("facebook.com")}static credential(f){return Ie._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return _.credential(f.oauthAccessToken)}catch(I){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Io=(()=>{class _ extends qs{constructor(){super("google.com"),this.addScope("profile")}static credential(f,I){return Ie._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:I})}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:I,oauthAccessToken:H}=f;if(!I&&!H)return null;try{return _.credential(I,H)}catch(te){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),xs=(()=>{class _ extends qs{constructor(){super("github.com")}static credential(f){return Ie._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return _.credential(f.oauthAccessToken)}catch(I){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Di extends ci{constructor(d,f){super(d,d),this.pendingToken=f}_getIdTokenResponse(d){return Gi(d,this.buildRequest())}_linkToIdToken(d,f){const I=this.buildRequest();return I.idToken=f,Gi(d,I)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,Gi(d,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:I,signInMethod:H,pendingToken:te}=f;return I&&H&&te&&I===H?new Di(I,te):null}static _create(d,f){return new Di(d,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fi extends ii{constructor(d){de(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return fi.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return fi.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const f=Di.fromJSON(d);return de(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:f,providerId:I}=d;if(!f||!I)return null;try{return Di._create(I,f)}catch(H){return null}}}let Mo=(()=>{class _ extends qs{constructor(){super("twitter.com")}static credential(f,I){return Ie._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:I})}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:I,oauthTokenSecret:H}=f;if(!I||!H)return null;try{return _.credential(I,H)}catch(te){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function si(_,d){return qi.apply(this,arguments)}function qi(){return(qi=(0,m.Z)(function*(_,d){return Zn(_,"POST","/v1/accounts:signUp",Be(_,d))})).apply(this,arguments)}class Fr{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,f,I,H=!1){return(0,m.Z)(function*(){const te=yield ln._fromIdTokenResponse(d,I,H),Fe=To(I);return new Fr({user:te,providerId:Fe,_tokenResponse:I,operationType:f})})()}static _forOperation(d,f,I){return(0,m.Z)(function*(){yield d._updateTokensIfNecessary(I,!0);const H=To(I);return new Fr({user:d,providerId:H,_tokenResponse:I,operationType:f})})()}}function To(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function so(){return(so=(0,m.Z)(function*(_){var d;const f=Gt(_);if(yield f._initializationPromise,null===(d=f.currentUser)||void 0===d?void 0:d.isAnonymous)return new Fr({user:f.currentUser,providerId:null,operationType:"signIn"});const I=yield si(f,{returnSecureToken:!0}),H=yield Fr._fromIdTokenResponse(f,"signIn",I,!0);return yield f._updateCurrentUser(H.user),H})).apply(this,arguments)}class Wi extends X.ZR{constructor(d,f,I,H){var te;super(f.code,f.message),this.operationType=I,this.user=H,Object.setPrototypeOf(this,Wi.prototype),this.customData={appName:d.name,tenantId:null!==(te=d.tenantId)&&void 0!==te?te:void 0,_serverResponse:f.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(d,f,I,H){return new Wi(d,f,I,H)}}function cs(_,d,f,I){return("reauthenticate"===d?f._getReauthenticationResolver(_):f._getIdTokenResponse(_)).catch(te=>{throw"auth/multi-factor-auth-required"===te.code?Wi._fromErrorAndOperation(_,te,d,I):te})}function bi(_){return new Set(_.map(({providerId:d})=>d).filter(d=>!!d))}function Mr(){return(Mr=(0,m.Z)(function*(_,d){const f=(0,X.m9)(_);yield k(!0,f,d);const{providerUserInfo:I}=yield Mn(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[d]}),H=bi(I||[]);return f.providerData=f.providerData.filter(te=>H.has(te.providerId)),H.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function F(_,d){return W.apply(this,arguments)}function W(){return(W=(0,m.Z)(function*(_,d,f=!1){const I=yield pn(_,d._linkToIdToken(_.auth,yield _.getIdToken()),f);return Fr._forOperation(_,"link",I)})).apply(this,arguments)}function k(_,d,f){return J.apply(this,arguments)}function J(){return(J=(0,m.Z)(function*(_,d,f){yield Yn(d);const H=!1===_?"provider-already-linked":"no-such-provider";de(bi(d.providerData).has(f)===_,d.auth,H)})).apply(this,arguments)}function Ee(_,d){return at.apply(this,arguments)}function at(){return(at=(0,m.Z)(function*(_,d,f=!1){const{auth:I}=_,H="reauthenticate";try{const te=yield pn(_,cs(I,H,d,_),f);de(te.idToken,I,"internal-error");const Fe=_t(te.idToken);de(Fe,I,"internal-error");const{sub:ut}=Fe;return de(_.uid===ut,I,"user-mismatch"),Fr._forOperation(_,H,te)}catch(te){throw"auth/user-not-found"===(null==te?void 0:te.code)&&oe(I,"user-mismatch"),te}})).apply(this,arguments)}function ct(_,d){return on.apply(this,arguments)}function on(){return(on=(0,m.Z)(function*(_,d,f=!1){const I="signIn",H=yield cs(_,I,d),te=yield Fr._fromIdTokenResponse(_,I,H);return f||(yield _._updateCurrentUser(te.user)),te})).apply(this,arguments)}function Vn(_,d){return dr.apply(this,arguments)}function dr(){return(dr=(0,m.Z)(function*(_,d){return ct(Gt(_),d)})).apply(this,arguments)}function kn(_,d){return qn.apply(this,arguments)}function qn(){return(qn=(0,m.Z)(function*(_,d){const f=(0,X.m9)(_);return yield k(!1,f,d.providerId),F(f,d)})).apply(this,arguments)}function jr(_,d){return Er.apply(this,arguments)}function Er(){return(Er=(0,m.Z)(function*(_,d){return Ee((0,X.m9)(_),d)})).apply(this,arguments)}function Lr(_,d){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,m.Z)(function*(_,d){return Zn(_,"POST","/v1/accounts:signInWithCustomToken",Be(_,d))})).apply(this,arguments)}function An(){return(An=(0,m.Z)(function*(_,d){const f=Gt(_),I=yield Lr(f,{token:d,returnSecureToken:!0}),H=yield Fr._fromIdTokenResponse(f,"signIn",I);return yield f._updateCurrentUser(H.user),H})).apply(this,arguments)}class Oi{constructor(d,f){this.factorId=d,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(d,f){return"phoneInfo"in f?Os._fromServerResponse(d,f):oe(d,"internal-error")}}class Os extends Oi{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,f){return new Os(f)}}function Co(_,d,f){var I;de((null===(I=f.url)||void 0===I?void 0:I.length)>0,_,"invalid-continue-uri"),de(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),d.continueUrl=f.url,d.dynamicLinkDomain=f.dynamicLinkDomain,d.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(de(f.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),d.iOSBundleId=f.iOS.bundleId),f.android&&(de(f.android.packageName.length>0,_,"missing-android-pkg-name"),d.androidInstallApp=f.android.installApp,d.androidMinimumVersionCode=f.android.minimumVersion,d.androidPackageName=f.android.packageName)}function V(){return(V=(0,m.Z)(function*(_,d,f){const I=(0,X.m9)(_),H={requestType:"PASSWORD_RESET",email:d};f&&Co(I,H,f),yield ni(I,H)})).apply(this,arguments)}function R(){return(R=(0,m.Z)(function*(_,d,f){yield kr((0,X.m9)(_),{oobCode:d,newPassword:f})})).apply(this,arguments)}function me(){return(me=(0,m.Z)(function*(_,d){yield os((0,X.m9)(_),{oobCode:d})})).apply(this,arguments)}function Tt(_,d){return or.apply(this,arguments)}function or(){return(or=(0,m.Z)(function*(_,d){const f=(0,X.m9)(_),I=yield kr(f,{oobCode:d}),H=I.requestType;switch(de(H,f,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(I.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(I.mfaInfo,f,"internal-error");default:de(I.email,f,"internal-error")}let te=null;return I.mfaInfo&&(te=Oi._fromServerResponse(Gt(f),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:te},operation:H}})).apply(this,arguments)}function Bi(){return(Bi=(0,m.Z)(function*(_,d){const{data:f}=yield Tt((0,X.m9)(_),d);return f.email})).apply(this,arguments)}function ji(){return(ji=(0,m.Z)(function*(_,d,f){const I=Gt(_),H=yield si(I,{returnSecureToken:!0,email:d,password:f}),te=yield Fr._fromIdTokenResponse(I,"signIn",H);return yield I._updateCurrentUser(te.user),te})).apply(this,arguments)}function ku(){return(ku=(0,m.Z)(function*(_,d,f){const I=(0,X.m9)(_),H={requestType:"EMAIL_SIGNIN",email:d};de(f.handleCodeInApp,I,"argument-error"),f&&Co(I,H,f),yield di(I,H)})).apply(this,arguments)}function Ks(){return(Ks=(0,m.Z)(function*(_,d,f){const I=(0,X.m9)(_),H=no.credentialWithLink(d,f||It());return de(H._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Vn(I,H)})).apply(this,arguments)}function pi(_,d){return ws.apply(this,arguments)}function ws(){return(ws=(0,m.Z)(function*(_,d){return Dt(_,"POST","/v1/accounts:createAuthUri",Be(_,d))})).apply(this,arguments)}function Ro(){return(Ro=(0,m.Z)(function*(_,d){const I={identifier:d,continueUri:Nt()?It():"http://localhost"},{signinMethods:H}=yield pi((0,X.m9)(_),I);return H||[]})).apply(this,arguments)}function la(){return(la=(0,m.Z)(function*(_,d){const f=(0,X.m9)(_),H={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};d&&Co(f.auth,H,d);const{email:te}=yield Kn(f.auth,H);te!==_.email&&(yield _.reload())})).apply(this,arguments)}function oi(){return(oi=(0,m.Z)(function*(_,d,f){const I=(0,X.m9)(_),te={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:d};f&&Co(I.auth,te,f);const{email:Fe}=yield Gs(I.auth,te);Fe!==_.email&&(yield _.reload())})).apply(this,arguments)}function Ka(_,d){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,m.Z)(function*(_,d){return Dt(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ir(){return(ir=(0,m.Z)(function*(_,{displayName:d,photoURL:f}){if(void 0===d&&void 0===f)return;const I=(0,X.m9)(_),te={idToken:yield I.getIdToken(),displayName:d,photoUrl:f,returnSecureToken:!0},Fe=yield pn(I,Ka(I.auth,te));I.displayName=Fe.displayName||null,I.photoURL=Fe.photoUrl||null;const ut=I.providerData.find(({providerId:Kt})=>"password"===Kt);ut&&(ut.displayName=I.displayName,ut.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Fe)})).apply(this,arguments)}function Ca(_,d,f){return xo.apply(this,arguments)}function xo(){return(xo=(0,m.Z)(function*(_,d,f){const{auth:I}=_,te={idToken:yield _.getIdToken(),returnSecureToken:!0};d&&(te.email=d),f&&(te.password=f);const Fe=yield pn(_,xi(I,te));yield _._updateTokensIfNecessary(Fe,!0)})).apply(this,arguments)}class Ho{constructor(d,f,I={}){this.isNewUser=d,this.providerId=f,this.profile=I}}class oo extends Ho{constructor(d,f,I,H){super(d,f,I),this.username=H}}class Za extends Ho{constructor(d,f){super(d,"facebook.com",f)}}class da extends oo{constructor(d,f){super(d,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class _u extends Ho{constructor(d,f){super(d,"google.com",f)}}class Oo extends oo{constructor(d,f,I){super(d,"twitter.com",f,I)}}function hs(_){const{user:d,_tokenResponse:f}=_;return d.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function La(_){var d,f;if(!_)return null;const{providerId:I}=_,H=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},te=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!I&&(null==_?void 0:_.idToken)){const Fe=null===(f=null===(d=_t(_.idToken))||void 0===d?void 0:d.firebase)||void 0===f?void 0:f.sign_in_provider;if(Fe)return new Ho(te,"anonymous"!==Fe&&"custom"!==Fe?Fe:null)}if(!I)return null;switch(I){case"facebook.com":return new Za(te,H);case"github.com":return new da(te,H);case"google.com":return new _u(te,H);case"twitter.com":return new Oo(te,H,_.screenName||null);case"custom":case"anonymous":return new Ho(te,null);default:return new Ho(te,I,H)}}(f)}class ao{constructor(d,f){this.type=d,this.credential=f}static _fromIdtoken(d){return new ao("enroll",d)}static _fromMfaPendingCredential(d){return new ao("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var f,I;if(null==d?void 0:d.multiFactorSession){if(null===(f=d.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return ao._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(I=d.multiFactorSession)||void 0===I?void 0:I.idToken)return ao._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Po{constructor(d,f,I){this.session=d,this.hints=f,this.signInResolver=I}static _fromError(d,f){const I=Gt(d),H=f.customData._serverResponse,te=(H.mfaInfo||[]).map(ut=>Oi._fromServerResponse(I,ut));de(H.mfaPendingCredential,I,"internal-error");const Fe=ao._fromMfaPendingCredential(H.mfaPendingCredential);return new Po(Fe,te,function(){var ut=(0,m.Z)(function*(Kt){const hn=yield Kt._process(I,Fe);delete H.mfaInfo,delete H.mfaPendingCredential;const En=Object.assign(Object.assign({},H),{idToken:hn.idToken,refreshToken:hn.refreshToken});switch(f.operationType){case"signIn":const Fn=yield Fr._fromIdTokenResponse(I,f.operationType,En);return yield I._updateCurrentUser(Fn.user),Fn;case"reauthenticate":return de(f.user,I,"internal-error"),Fr._forOperation(f.user,f.operationType,En);default:oe(I,"internal-error")}});return function(Kt){return ut.apply(this,arguments)}}())}resolveSignIn(d){var f=this;return(0,m.Z)(function*(){return f.signInResolver(d)})()}}function Qa(_,d){return Dt(_,"POST","/v2/accounts/mfaEnrollment:start",Be(_,d))}class lo{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(I=>Oi._fromServerResponse(d.auth,I)))})}static _fromUser(d){return new lo(d)}getSession(){var d=this;return(0,m.Z)(function*(){return ao._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,f){var I=this;return(0,m.Z)(function*(){const H=d,te=yield I.getSession(),Fe=yield pn(I.user,H._process(I.user.auth,te,f));return yield I.user._updateTokensIfNecessary(Fe),I.user.reload()})()}unenroll(d){var f=this;return(0,m.Z)(function*(){const I="string"==typeof d?d:d.uid,H=yield f.user.getIdToken(),te=yield pn(f.user,function uo(_,d){return Dt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Be(_,d))}(f.user.auth,{idToken:H,mfaEnrollmentId:I}));f.enrolledFactors=f.enrolledFactors.filter(({uid:Fe})=>Fe!==I),yield f.user._updateTokensIfNecessary(te);try{yield f.user.reload()}catch(Fe){if("auth/user-token-expired"!==Fe.code)throw Fe}})()}}const fs=new WeakMap,co="__sak";class Da{constructor(d,f){this.storageRetriever=d,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(co,"1"),this.storage.removeItem(co),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,f){return this.storage.setItem(d,JSON.stringify(f)),Promise.resolve()}_get(d){const f=this.storage.getItem(d);return Promise.resolve(f?JSON.parse(f):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const fa=(()=>{class _ extends Da{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,I)=>this.onStorageEvent(f,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Bu(){const _=(0,X.z$)();return Me(_)||gr(_)}()&&function Gr(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=li(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const I of Object.keys(this.listeners)){const H=this.storage.getItem(I),te=this.localCache[I];H!==te&&f(I,te,H)}}onStorageEvent(f,I=!1){if(!f.key)return void this.forAllChangedKeys((ut,Kt,hn)=>{this.notifyListeners(ut,hn)});const H=f.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ut=this.storage.getItem(H);if(f.newValue!==ut)null!==f.newValue?this.storage.setItem(H,f.newValue):this.storage.removeItem(H);else if(this.localCache[H]===f.newValue&&!I)return}const te=()=>{const ut=this.storage.getItem(H);!I&&this.localCache[H]===ut||this.notifyListeners(H,ut)},Fe=this.storage.getItem(H);!function vi(){return(0,X.w1)()&&10===document.documentMode}()||Fe===f.newValue||f.newValue===f.oldValue?te():setTimeout(te,10)}notifyListeners(f,I){this.localCache[f]=I;const H=this.listeners[f];if(H)for(const te of Array.from(H))te(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,I,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:I,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(I)}_removeListener(f,I){this.listeners[f]&&(this.listeners[f].delete(I),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,I){var H=()=>super._set,te=this;return(0,m.Z)(function*(){yield H().call(te,f,I),te.localCache[f]=JSON.stringify(I)})()}_get(f){var I=()=>super._get,H=this;return(0,m.Z)(function*(){const te=yield I().call(H,f);return H.localCache[f]=JSON.stringify(te),te})()}_remove(f){var I=()=>super._remove,H=this;return(0,m.Z)(function*(){yield I().call(H,f),delete H.localCache[f]})()}}return _.type="LOCAL",_})(),Vs=(()=>{class _ extends Da{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,I){}_removeListener(f,I){}}return _.type="SESSION",_})();let ja=(()=>{class _{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const I=this.receivers.find(te=>te.isListeningto(f));if(I)return I;const H=new _(f);return this.receivers.push(H),H}isListeningto(f){return this.eventTarget===f}handleEvent(f){var I=this;return(0,m.Z)(function*(){const H=f,{eventId:te,eventType:Fe,data:ut}=H.data,Kt=I.handlersMap[Fe];if(!(null==Kt?void 0:Kt.size))return;H.ports[0].postMessage({status:"ack",eventId:te,eventType:Fe});const hn=Array.from(Kt).map(function(){var Fn=(0,m.Z)(function*(ts){return ts(H.origin,ut)});return function(ts){return Fn.apply(this,arguments)}}()),En=yield function Ys(_){return Promise.all(_.map(function(){var d=(0,m.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(I){return{fulfilled:!1,reason:I}}});return function(f){return d.apply(this,arguments)}}()))}(hn);H.ports[0].postMessage({status:"done",eventId:te,eventType:Fe,response:En})})()}_subscribe(f,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(I)}_unsubscribe(f,I){this.handlersMap[f]&&I&&this.handlersMap[f].delete(I),(!I||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Go(_="",d=10){let f="";for(let I=0;I<d;I++)f+=Math.floor(10*Math.random());return _+f}class Do{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,f,I=50){var H=this;return(0,m.Z)(function*(){const te="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!te)throw new Error("connection_unavailable");let Fe,ut;return new Promise((Kt,hn)=>{const En=Go("",20);te.port1.start();const Fn=setTimeout(()=>{hn(new Error("unsupported_event"))},I);ut={messageChannel:te,onMessage(ts){const ea=ts;if(ea.data.eventId===En)switch(ea.data.status){case"ack":clearTimeout(Fn),Fe=setTimeout(()=>{hn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Fe),Kt(ea.data.response);break;default:clearTimeout(Fn),clearTimeout(Fe),hn(new Error("invalid_response"))}}},H.handlers.add(ut),te.port1.addEventListener("message",ut.onMessage),H.target.postMessage({eventType:d,eventId:En,data:f},[te.port2])}).finally(()=>{ut&&H.removeMessageHandler(ut)})})()}}function gi(){return window}function ho(){return void 0!==gi().WorkerGlobalScope&&"function"==typeof gi().importScripts}function Ja(){return(Ja=(0,m.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const qo="firebaseLocalStorageDb",bs="firebaseLocalStorage",Ft="fbase_key";class zr{constructor(d){this.request=d}toPromise(){return new Promise((d,f)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function D(_,d){return _.transaction([bs],d?"readwrite":"readonly").objectStore(bs)}function E(){const _=indexedDB.open(qo,1);return new Promise((d,f)=>{_.addEventListener("error",()=>{f(_.error)}),_.addEventListener("upgradeneeded",()=>{const I=_.result;try{I.createObjectStore(bs,{keyPath:Ft})}catch(H){f(H)}}),_.addEventListener("success",(0,m.Z)(function*(){const I=_.result;I.objectStoreNames.contains(bs)?d(I):(I.close(),yield function T(){const _=indexedDB.deleteDatabase(qo);return new zr(_).toPromise()}(),d(yield E()))}))})}function M(_,d,f){return B.apply(this,arguments)}function B(){return(B=(0,m.Z)(function*(_,d,f){const I=D(_,!0).put({[Ft]:d,value:f});return new zr(I).toPromise()})).apply(this,arguments)}function q(){return(q=(0,m.Z)(function*(_,d){const f=D(_,!1).get(d),I=yield new zr(f).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function re(_,d){const f=D(_,!0).delete(d);return new zr(f).toPromise()}const an=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,m.Z)(function*(){return f.db||(f.db=yield E()),f.db})()}_withRetries(f){var I=this;return(0,m.Z)(function*(){let H=0;for(;;)try{const te=yield I._openDb();return yield f(te)}catch(te){if(H++>3)throw te;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,m.Z)(function*(){return ho()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,m.Z)(function*(){f.receiver=ja._getInstance(function fo(){return ho()?self:null}()),f.receiver._subscribe("keyChanged",function(){var I=(0,m.Z)(function*(H,te){return{keyProcessed:(yield f._poll()).includes(te.key)}});return function(H,te){return I.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var I=(0,m.Z)(function*(H,te){return["keyChanged"]});return function(H,te){return I.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,m.Z)(function*(){var I,H;if(f.activeServiceWorker=yield function zo(){return Ja.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Do(f.activeServiceWorker);const te=yield f.sender._send("ping",{},800);!te||(null===(I=te[0])||void 0===I?void 0:I.fulfilled)&&(null===(H=te[0])||void 0===H?void 0:H.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var I=this;return(0,m.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function Pi(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:f},I.serviceWorkerReceiverAvailable?800:50)}catch(H){}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const f=yield E();return yield M(f,co,"1"),yield re(f,co),!0}catch(f){}return!1})()}_withPendingWrite(f){var I=this;return(0,m.Z)(function*(){I.pendingWrites++;try{yield f()}finally{I.pendingWrites--}})()}_set(f,I){var H=this;return(0,m.Z)(function*(){return H._withPendingWrite((0,m.Z)(function*(){return yield H._withRetries(te=>M(te,f,I)),H.localCache[f]=I,H.notifyServiceWorker(f)}))})()}_get(f){var I=this;return(0,m.Z)(function*(){const H=yield I._withRetries(te=>function z(_,d){return q.apply(this,arguments)}(te,f));return I.localCache[f]=H,H})()}_remove(f){var I=this;return(0,m.Z)(function*(){return I._withPendingWrite((0,m.Z)(function*(){return yield I._withRetries(H=>re(H,f)),delete I.localCache[f],I.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,m.Z)(function*(){const I=yield f._withRetries(Fe=>{const ut=D(Fe,!1).getAll();return new zr(ut).toPromise()});if(!I)return[];if(0!==f.pendingWrites)return[];const H=[],te=new Set;for(const{fbase_key:Fe,value:ut}of I)te.add(Fe),JSON.stringify(f.localCache[Fe])!==JSON.stringify(ut)&&(f.notifyListeners(Fe,ut),H.push(Fe));for(const Fe of Object.keys(f.localCache))f.localCache[Fe]&&!te.has(Fe)&&(f.notifyListeners(Fe,null),H.push(Fe));return H})()}notifyListeners(f,I){this.localCache[f]=I;const H=this.listeners[f];if(H)for(const te of Array.from(H))te(I)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(I)}_removeListener(f,I){this.listeners[f]&&(this.listeners[f].delete(I),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function hr(_,d){return Dt(_,"POST","/v2/accounts/mfaSignIn:start",Be(_,d))}function Zi(){return(Zi=(0,m.Z)(function*(_){return(yield Dt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function pa(_){return new Promise((d,f)=>{const I=document.createElement("script");I.setAttribute("src",_),I.onload=d,I.onerror=H=>{const te=ve("internal-error");te.customData=H,f(te)},I.type="text/javascript",I.charset="UTF-8",function No(){var _,d;return null!==(d=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==d?d:document}().appendChild(I)})}function Kr(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Ln=1e12;class ga{constructor(d){this.auth=d,this.counter=Ln,this._widgets=new Map}render(d,f){const I=this.counter;return this._widgets.set(I,new Aa(d,this.auth.name,f||{})),this.counter++,I}reset(d){var f;const I=d||Ln;null===(f=this._widgets.get(I))||void 0===f||f.delete(),this._widgets.delete(I)}getResponse(d){var f;return(null===(f=this._widgets.get(d||Ln))||void 0===f?void 0:f.getResponse())||""}execute(d){var f=this;return(0,m.Z)(function*(){var I;return null===(I=f._widgets.get(d||Ln))||void 0===I||I.execute(),""})()}}class Aa{constructor(d,f,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof d?document.getElementById(d):d;de(H,"argument-error",{appName:f}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Or(_){const d=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<_;I++)d.push(f.charAt(Math.floor(Math.random()*f.length)));return d.join("")}(50);const{callback:d,"expired-callback":f}=this.params;if(d)try{d(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Sn=Kr("rcb"),Xr=new yn(3e4,6e4);class Pl{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!gi().grecaptcha}load(d,f=""){return de(function Eu(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(f),d,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(gi().grecaptcha):new Promise((I,H)=>{const te=gi().setTimeout(()=>{H(ve(d,"network-request-failed"))},Xr.get());gi()[Sn]=()=>{gi().clearTimeout(te),delete gi()[Sn];const ut=gi().grecaptcha;if(!ut)return void H(ve(d,"internal-error"));const Kt=ut.render;ut.render=(hn,En)=>{const Fn=Kt(hn,En);return this.counter++,Fn},this.hostLanguage=f,I(ut)},pa(`https://www.google.com/recaptcha/api.js??${(0,X.xO)({onload:Sn,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(te),H(ve(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){return!!gi().grecaptcha&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class fr{load(d){return(0,m.Z)(function*(){return new ga(d)})()}clearedOneInstance(){}}const wu="recaptcha",ps={theme:"light",type:"image"};class $a{constructor(d,f=Object.assign({},ps),I){this.parameters=f,this.type=wu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Gt(I),this.isInvisible="invisible"===this.parameters.size,de("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof d?document.getElementById(d):d;de(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new fr:new Pl,this.validateStartingState()}verify(){var d=this;return(0,m.Z)(function*(){d.assertNotDestroyed();const f=yield d.render(),I=d.getAssertedRecaptcha();return I.getResponse(f)||new Promise(te=>{const Fe=ut=>{!ut||(d.tokenChangeListeners.delete(Fe),te(ut))};d.tokenChangeListeners.add(Fe),d.isInvisible&&I.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return f=>{if(this.tokenChangeListeners.forEach(I=>I(f)),"function"==typeof d)d(f);else if("string"==typeof d){const I=gi()[d];"function"==typeof I&&I(f)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,m.Z)(function*(){if(yield d.init(),!d.widgetId){let f=d.container;if(!d.isInvisible){const I=document.createElement("div");f.appendChild(I),f=I}d.widgetId=d.getAssertedRecaptcha().render(f,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,m.Z)(function*(){de(Nt()&&!ho(),d.auth,"internal-error"),yield function bu(){let _=null;return new Promise(d=>{"complete"!==document.readyState?(_=()=>d(),window.addEventListener("load",_)):d()}).catch(d=>{throw _&&window.removeEventListener("load",_),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const f=yield function Ni(_){return Zi.apply(this,arguments)}(d.auth);de(f,d.auth,"internal-error"),d.parameters.sitekey=f})()}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Hi{constructor(d,f){this.verificationId=d,this.onConfirmation=f}confirm(d){const f=Jr._fromVerification(this.verificationId,d);return this.onConfirmation(f)}}function mi(){return(mi=(0,m.Z)(function*(_,d,f){const I=Gt(_),H=yield Is(I,d,(0,X.m9)(f));return new Hi(H,te=>Vn(I,te))})).apply(this,arguments)}function ko(){return(ko=(0,m.Z)(function*(_,d,f){const I=(0,X.m9)(_);yield k(!1,I,"phone");const H=yield Is(I.auth,d,(0,X.m9)(f));return new Hi(H,te=>kn(I,te))})).apply(this,arguments)}function Ps(){return(Ps=(0,m.Z)(function*(_,d,f){const I=(0,X.m9)(_),H=yield Is(I.auth,d,(0,X.m9)(f));return new Hi(H,te=>jr(I,te))})).apply(this,arguments)}function Is(_,d,f){return ju.apply(this,arguments)}function ju(){return(ju=(0,m.Z)(function*(_,d,f){var I;const H=yield f.verify();try{let te;if(de("string"==typeof H,_,"argument-error"),de(f.type===wu,_,"argument-error"),te="string"==typeof d?{phoneNumber:d}:d,"session"in te){const Fe=te.session;if("phoneNumber"in te)return de("enroll"===Fe.type,_,"internal-error"),(yield Qa(_,{idToken:Fe.credential,phoneEnrollmentInfo:{phoneNumber:te.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{de("signin"===Fe.type,_,"internal-error");const ut=(null===(I=te.multiFactorHint)||void 0===I?void 0:I.uid)||te.multiFactorUid;return de(ut,_,"missing-multi-factor-info"),(yield hr(_,{mfaPendingCredential:Fe.credential,mfaEnrollmentId:ut,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Fe}=yield Je(_,{phoneNumber:te.phoneNumber,recaptchaToken:H});return Fe}}finally{f._reset()}})).apply(this,arguments)}function Ao(){return(Ao=(0,m.Z)(function*(_,d){yield F((0,X.m9)(_),d)})).apply(this,arguments)}let Us=(()=>{class _{constructor(f){this.providerId=_.PROVIDER_ID,this.auth=Gt(f)}verifyPhoneNumber(f,I){return Is(this.auth,f,(0,X.m9)(I))}static credential(f,I){return Jr._fromVerification(f,I)}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:I,temporaryProof:H}=f;return I&&H?Jr._fromTokenResponse(I,H):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Ko(_,d){return d?_e(d):(de(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class zt extends ci{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Gi(d,this._buildIdpRequest())}_linkToIdToken(d,f){return Gi(d,this._buildIdpRequest(f))}_getReauthenticationResolver(d){return Gi(d,this._buildIdpRequest())}_buildIdpRequest(d){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(f.idToken=d),f}}function ma(_){return ct(_.auth,new zt(_),_.bypassAuthState)}function Sa(_){const{auth:d,user:f}=_;return de(f,d,"internal-error"),Ee(f,new zt(_),_.bypassAuthState)}function Zo(_){return yi.apply(this,arguments)}function yi(){return(yi=(0,m.Z)(function*(_){const{auth:d,user:f}=_;return de(f,d,"internal-error"),F(f,new zt(_),_.bypassAuthState)})).apply(this,arguments)}class Ma{constructor(d,f,I,H,te=!1){this.auth=d,this.resolver=I,this.user=H,this.bypassAuthState=te,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var d=this;return new Promise(function(){var f=(0,m.Z)(function*(I,H){d.pendingPromise={resolve:I,reject:H};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(te){d.reject(te)}});return function(I,H){return f.apply(this,arguments)}}())}onAuthEvent(d){var f=this;return(0,m.Z)(function*(){const{urlResponse:I,sessionId:H,postBody:te,tenantId:Fe,error:ut,type:Kt}=d;if(ut)return void f.reject(ut);const hn={auth:f.auth,requestUri:I,sessionId:H,tenantId:Fe||void 0,postBody:te||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Kt)(hn))}catch(En){f.reject(En)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return ma;case"linkViaPopup":case"linkViaRedirect":return Zo;case"reauthViaPopup":case"reauthViaRedirect":return Sa;default:oe(this.auth,"internal-error")}}resolve(d){se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mo=new yn(2e3,1e4);function Bs(){return(Bs=(0,m.Z)(function*(_,d,f){const I=Gt(_);Ge(_,d,ii);const H=Ko(I,f);return new $u(I,"signInViaPopup",d,H).executeNotNull()})).apply(this,arguments)}function ya(){return(ya=(0,m.Z)(function*(_,d,f){const I=(0,X.m9)(_);Ge(I.auth,d,ii);const H=Ko(I.auth,f);return new $u(I.auth,"reauthViaPopup",d,H,I).executeNotNull()})).apply(this,arguments)}function yo(){return(yo=(0,m.Z)(function*(_,d,f){const I=(0,X.m9)(_);Ge(I.auth,d,ii);const H=Ko(I.auth,f);return new $u(I.auth,"linkViaPopup",d,H,I).executeNotNull()})).apply(this,arguments)}let $u=(()=>{class _ extends Ma{constructor(f,I,H,te,Fe){super(f,I,te,Fe),this.provider=H,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var f=this;return(0,m.Z)(function*(){const I=yield f.execute();return de(I,f.auth,"internal-error"),I})()}onExecution(){var f=this;return(0,m.Z)(function*(){se(1===f.filter.length,"Popup operations only handle one event");const I=Go();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],I),f.authWindow.associatedEvent=I,f.resolver._originValidation(f.auth).catch(H=>{f.reject(H)}),f.resolver._isIframeWebStorageSupported(f.auth,H=>{H||f.reject(ve(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const f=()=>{var I,H;this.pollId=(null===(H=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===H?void 0:H.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,mo.get())};f()}}return _.currentPopupAction=null,_})();const Yo=new Map;class _o extends Ma{constructor(d,f,I=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,I),this.eventId=null}execute(){var d=()=>super.execute,f=this;return(0,m.Z)(function*(){let I=Yo.get(f.auth._key());if(!I){try{const te=(yield function Gu(_,d){return _a.apply(this,arguments)}(f.resolver,f.auth))?yield d().call(f):null;I=()=>Promise.resolve(te)}catch(H){I=()=>Promise.reject(H)}Yo.set(f.auth._key(),I)}return f.bypassAuthState||Yo.set(f.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(d){var f=()=>super.onAuthEvent,I=this;return(0,m.Z)(function*(){if("signInViaRedirect"===d.type)return f().call(I,d);if("unknown"!==d.type){if(d.eventId){const H=yield I.auth._redirectUserForId(d.eventId);if(H)return I.user=H,f().call(I,d);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function _a(){return(_a=(0,m.Z)(function*(_,d){const f=ae(d),I=Q(_);if(!(yield I._isAvailable()))return!1;const H="true"===(yield I._get(f));return yield I._remove(f),H})).apply(this,arguments)}function Ra(_,d){return tu.apply(this,arguments)}function tu(){return(tu=(0,m.Z)(function*(_,d){return Q(_)._set(ae(d),"true")})).apply(this,arguments)}function L(_,d){Yo.set(_._key(),d)}function Q(_){return _e(_._redirectPersistence)}function ae(_){return Rr("pendingRedirect",_.config.apiKey,_.name)}function At(){return(At=(0,m.Z)(function*(_,d,f){const I=Gt(_);Ge(_,d,ii);const H=Ko(I,f);return yield Ra(H,I),H._openRedirect(I,d,"signInViaRedirect")})).apply(this,arguments)}function Bn(){return(Bn=(0,m.Z)(function*(_,d,f){const I=(0,X.m9)(_);Ge(I.auth,d,ii);const H=Ko(I.auth,f);yield Ra(H,I.auth);const te=yield vo(I);return H._openRedirect(I.auth,d,"reauthViaRedirect",te)})).apply(this,arguments)}function gs(){return(gs=(0,m.Z)(function*(_,d,f){const I=(0,X.m9)(_);Ge(I.auth,d,ii);const H=Ko(I.auth,f);yield k(!1,I,d.providerId),yield Ra(H,I.auth);const te=yield vo(I);return H._openRedirect(I.auth,d,"linkViaRedirect",te)})).apply(this,arguments)}function xa(){return(xa=(0,m.Z)(function*(_,d){return yield Gt(_)._initializationPromise,Si(_,d,!1)})).apply(this,arguments)}function Si(_,d){return wr.apply(this,arguments)}function wr(){return(wr=(0,m.Z)(function*(_,d,f=!1){const I=Gt(_),H=Ko(I,d),Fe=yield new _o(I,H,f).execute();return Fe&&!f&&(delete Fe.user._redirectEventId,yield I._persistUserIfCurrent(Fe.user),yield I._setRedirectUser(null,d)),Fe})).apply(this,arguments)}function vo(_){return js.apply(this,arguments)}function js(){return(js=(0,m.Z)(function*(_){const d=Go(`${_.uid}:::`);return _._redirectEventId=d,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),d})).apply(this,arguments)}class Nl{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let f=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(d,I)&&(f=!0,this.sendToConsumer(d,I),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function nu(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kl(_);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=d,f=!0)),f}sendToConsumer(d,f){var I;if(d.error&&!kl(d)){const H=(null===(I=d.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";f.onError(ve(this.auth,H))}else f.onAuthEvent(d)}isEventForConsumer(d,f){const I=null===f.eventId||!!d.eventId&&d.eventId===f.eventId;return f.filter.includes(d.type)&&I}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ga(d))}saveEventToCache(d){this.cachedEventUids.add(Ga(d)),this.lastProcessedEventTime=Date.now()}}function Ga(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(d=>d).join("-")}function kl({type:_,error:d}){return"unknown"===_&&"auth/no-auth-event"===(null==d?void 0:d.code)}function zu(_){return qu.apply(this,arguments)}function qu(){return(qu=(0,m.Z)(function*(_,d={}){return Dt(_,"GET","/v1/projects",d)})).apply(this,arguments)}const dc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Iu=/^https?/;function Fl(){return(Fl=(0,m.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:d}=yield zu(_);for(const f of d)try{if(_h(f))return}catch(I){}oe(_,"unauthorized-domain")})).apply(this,arguments)}function _h(_){const d=It(),{protocol:f,hostname:I}=new URL(d);if(_.startsWith("chrome-extension://")){const Fe=new URL(_);return""===Fe.hostname&&""===I?"chrome-extension:"===f&&_.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===f&&Fe.hostname===I}if(!Iu.test(f))return!1;if(dc.test(_))return I===_;const H=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(I)}const Ll=new yn(3e4,6e4);function hc(){const _=gi().___jsl;if(null==_?void 0:_.H)for(const d of Object.keys(_.H))if(_.H[d].r=_.H[d].r||[],_.H[d].L=_.H[d].L||[],_.H[d].r=[..._.H[d].L],_.CP)for(let f=0;f<_.CP.length;f++)_.CP[f]=null}let Vl=null;function Rd(_){return Vl=Vl||function vh(_){return new Promise((d,f)=>{var I,H,te;function Fe(){hc(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{hc(),f(ve(_,"network-request-failed"))},timeout:Ll.get()})}if(null===(H=null===(I=gi().gapi)||void 0===I?void 0:I.iframes)||void 0===H?void 0:H.Iframe)d(gapi.iframes.getContext());else{if(!(null===(te=gi().gapi)||void 0===te?void 0:te.load)){const ut=Kr("iframefcb");return gi()[ut]=()=>{gapi.load?Fe():f(ve(_,"network-request-failed"))},pa(`https://apis.google.com/js/api.js?onload=${ut}`).catch(Kt=>f(Kt))}Fe()}}).catch(d=>{throw Vl=null,d})}(_),Vl}const Vc=new yn(5e3,15e3),ru={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ul(_){const d=_.config;de(d.authDomain,_,"auth-domain-config-required");const f=d.emulator?Qt(d,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,I={apiKey:d.apiKey,appName:_.name,v:Te.SDK_VERSION},H=Wu.get(_.config.apiHost);H&&(I.eid=H);const te=_._getFrameworks();return te.length&&(I.fw=te.join(",")),`${f}?${(0,X.xO)(I).slice(1)}`}function Tu(){return Tu=(0,m.Z)(function*(_){const d=yield Rd(_),f=gi().gapi;return de(f,_,"internal-error"),d.open({where:document.body,url:Ul(_),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ru,dontclear:!0},I=>new Promise(function(){var H=(0,m.Z)(function*(te,Fe){yield I.restyle({setHideOnLeave:!1});const ut=ve(_,"network-request-failed"),Kt=gi().setTimeout(()=>{Fe(ut)},Vc.get());function hn(){gi().clearTimeout(Kt),te(I)}I.ping(hn).then(hn,()=>{Fe(ut)})});return function(te,Fe){return H.apply(this,arguments)}}()))}),Tu.apply(this,arguments)}const Pa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class su{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function Lo(_,d,f,I,H,te){de(_.config.authDomain,_,"auth-domain-config-required"),de(_.config.apiKey,_,"invalid-api-key");const Fe={apiKey:_.config.apiKey,appName:_.name,authType:f,redirectUrl:I,v:Te.SDK_VERSION,eventId:H};if(d instanceof ii){d.setDefaultLanguage(_.languageCode),Fe.providerId=d.providerId||"",(0,X.xb)(d.getCustomParameters())||(Fe.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Kt,hn]of Object.entries(te||{}))Fe[Kt]=hn}if(d instanceof qs){const Kt=d.getScopes().filter(hn=>""!==hn);Kt.length>0&&(Fe.scopes=Kt.join(","))}_.tenantId&&(Fe.tid=_.tenantId);const ut=Fe;for(const Kt of Object.keys(ut))void 0===ut[Kt]&&delete ut[Kt];return`${function ou({config:_}){return _.emulator?Qt(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,X.xO)(ut).slice(1)}`}const Ku="webStorageSupport";class jl extends class _l{constructor(d){this.factorId=d}_process(d,f,I){switch(f.type){case"enroll":return this._finalizeEnroll(d,f.credential,I);case"signin":return this._finalizeSignIn(d,f.credential);default:return Xe("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new jl(d)}_finalizeEnroll(d,f,I){return function Ua(_,d){return Dt(_,"POST","/v2/accounts/mfaEnrollment:finalize",Be(_,d))}(d,{idToken:f,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,f){return function Tr(_,d){return Dt(_,"POST","/v2/accounts/mfaSignIn:finalize",Be(_,d))}(d,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let jc=(()=>{class _{constructor(){}static assertion(f){return jl._fromCredential(f)}}return _.FACTOR_ID="phone",_})();var au="@firebase/auth";class $c{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var f=this;return(0,m.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const f=this.auth.onIdTokenChanged(I=>{var H;d((null===(H=I)||void 0===H?void 0:H.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,f),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const f=this.internalListeners.get(d);!f||(this.internalListeners.delete(d),f(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function uu(){return window}function Ns(){return(Ns=(0,m.Z)(function*(_,d,f){var I;const{BuildInfo:H}=uu();se(d.sessionId,"AuthEvent did not contain a session ID");const te=yield gc(d.sessionId),Fe={};return gr()?Fe.ibi=H.packageName:ft()?Fe.apn=H.packageName:oe(_,"operation-not-supported-in-this-environment"),H.displayName&&(Fe.appDisplayName=H.displayName),Fe.sessionId=te,Lo(_,f,d.type,void 0,null!==(I=d.eventId)&&void 0!==I?I:void 0,Fe)})).apply(this,arguments)}function Ju(){return(Ju=(0,m.Z)(function*(_){const{BuildInfo:d}=uu(),f={};gr()?f.iosBundleId=d.packageName:ft()?f.androidPackageName=d.packageName:oe(_,"operation-not-supported-in-this-environment"),yield zu(_,f)})).apply(this,arguments)}function qc(){return(qc=(0,m.Z)(function*(_,d,f){const{cordova:I}=uu();let H=()=>{};try{yield new Promise((te,Fe)=>{let ut=null;function Kt(){var Fn;te();const ts=null===(Fn=I.plugins.browsertab)||void 0===Fn?void 0:Fn.close;"function"==typeof ts&&ts(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function hn(){ut||(ut=window.setTimeout(()=>{Fe(ve(_,"redirect-cancelled-by-user"))},2e3))}function En(){"visible"===(null==document?void 0:document.visibilityState)&&hn()}d.addPassiveListener(Kt),document.addEventListener("resume",hn,!1),ft()&&document.addEventListener("visibilitychange",En,!1),H=()=>{d.removePassiveListener(Kt),document.removeEventListener("resume",hn,!1),document.removeEventListener("visibilitychange",En,!1),ut&&window.clearTimeout(ut)}})}finally{H()}})).apply(this,arguments)}function gc(_){return lu.apply(this,arguments)}function lu(){return(lu=(0,m.Z)(function*(_){const d=Hl(_),f=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(f)).map(H=>H.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Hl(_){if(se(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const d=new ArrayBuffer(_.length),f=new Uint8Array(d);for(let I=0;I<_.length;I++)f[I]=_.charCodeAt(I);return f}!function Zu(_){(0,Te._registerComponent)(new Ue.wA("auth",(d,{options:f})=>{const I=d.getProvider("app").getImmediate(),H=d.getProvider("heartbeat"),{apiKey:te,authDomain:Fe}=I.options;return((ut,Kt)=>{de(te&&!te.includes(":"),"invalid-api-key",{appName:ut.name}),de(!(null==Fe?void 0:Fe.includes(":")),"argument-error",{appName:ut.name});const hn={apiKey:te,authDomain:Fe,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vi(_)},En=new $t(ut,Kt,hn);return function We(_,d){const f=(null==d?void 0:d.persistence)||[],I=(Array.isArray(f)?f:[f]).map(_e);(null==d?void 0:d.errorMap)&&_._updateErrorMap(d.errorMap),_._initializeWithPersistence(I,null==d?void 0:d.popupRedirectResolver)}(En,f),En})(I,H)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,f,I)=>{d.getProvider("auth-internal").initialize()})),(0,Te._registerComponent)(new Ue.wA("auth-internal",d=>{const f=Gt(d.getProvider("auth").getImmediate());return new $c(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Te.registerVersion)(au,"0.20.1",function Gc(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,Te.registerVersion)(au,"0.20.1","esm2017")}("Browser");class xd extends Nl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(d)),super.onEvent(d)}initialized(){var d=this;return(0,m.Z)(function*(){yield d.initPromise})()}}function El(_){return qa.apply(this,arguments)}function qa(){return(qa=(0,m.Z)(function*(_){const d=yield g()._get(b(_));return d&&(yield g()._remove(b(_))),d})).apply(this,arguments)}function c(){const _=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const I=Math.floor(Math.random()*d.length);_.push(d.charAt(I))}return _.join("")}function g(){return _e(fa)}function b(_){return Rr("authEvent",_.config.apiKey,_.name)}function ee(_){if(!(null==_?void 0:_.includes("?")))return{};const[d,...f]=_.split("?");return(0,X.zd)(f.join("?"))}function bt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}function In(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function Zr(_=(0,X.z$)()){return!("file:"!==In()&&"ionic:"!==In()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function ki(){try{const _=self.localStorage,d=Go();if(_)return _.setItem(d,"1"),_.removeItem(d),!function Ds(_=(0,X.z$)()){return function Cr(){return(0,X.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Un(_=(0,X.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,X.hl)()}catch(_){return Ii()&&(0,X.hl)()}return!1}function Ii(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Pr(){return(function Gn(){return"http:"===In()||"https:"===In()}()||(0,X.ru)()||Zr())&&!function On(){return(0,X.b$)()||(0,X.UG)()}()&&ki()&&!Ii()}function As(){return Zr()&&"undefined"!=typeof document}function $l(){return($l=(0,m.Z)(function*(){return!!As()&&new Promise(_=>{const d=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),_(!0)})})})).apply(this,arguments)}const Ji={LOCAL:"local",NONE:"none",SESSION:"session"},nl=de,Gl="persistence";function Cn(_){return jn.apply(this,arguments)}function jn(){return(jn=(0,m.Z)(function*(_){yield _._initializationPromise;const d=_r(),f=Rr(Gl,_.config.apiKey,_.name);d&&d.setItem(f,_._getPersistence())})).apply(this,arguments)}function _r(){var _;try{return(null===(_=function tl(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(d){return null}}const Xo=de;class Xi{constructor(){this.browserResolver=_e(class Bc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vs,this._completeRedirectFn=Si,this._overrideRedirectResult=L}_openPopup(d,f,I,H){var te=this;return(0,m.Z)(function*(){var Fe;se(null===(Fe=te.eventManagers[d._key()])||void 0===Fe?void 0:Fe.manager,"_initialize() not called before _openPopup()");const ut=Lo(d,f,I,It(),H);return function Fo(_,d,f,I=500,H=600){const te=Math.max((window.screen.availHeight-H)/2,0).toString(),Fe=Math.max((window.screen.availWidth-I)/2,0).toString();let ut="";const Kt=Object.assign(Object.assign({},Pa),{width:I.toString(),height:H.toString(),top:te,left:Fe}),hn=(0,X.z$)().toLowerCase();f&&(ut=ie(hn)?"_blank":f),qe(hn)&&(d=d||"http://localhost",Kt.scrollbars="yes");const En=Object.entries(Kt).reduce((ts,[ea,Wl])=>`${ts}${ea}=${Wl},`,"");if(function Li(_=(0,X.z$)()){var d;return gr(_)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(hn)&&"_self"!==ut)return function fc(_,d){const f=document.createElement("a");f.href=_,f.target=d;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(I)}(d||"",ut),new su(null);const Fn=window.open(d||"",ut,En);de(Fn,_,"popup-blocked");try{Fn.focus()}catch(ts){}return new su(Fn)}(d,ut,Go())})()}_openRedirect(d,f,I,H){var te=this;return(0,m.Z)(function*(){return yield te._originValidation(d),function Ai(_){gi().location.href=_}(Lo(d,f,I,It(),H)),new Promise(()=>{})})()}_initialize(d){const f=d._key();if(this.eventManagers[f]){const{manager:H,promise:te}=this.eventManagers[f];return H?Promise.resolve(H):(se(te,"If manager is not set, promise should be"),te)}const I=this.initAndGetManager(d);return this.eventManagers[f]={promise:I},I.catch(()=>{delete this.eventManagers[f]}),I}initAndGetManager(d){var f=this;return(0,m.Z)(function*(){const I=yield function iu(_){return Tu.apply(this,arguments)}(d),H=new Nl(d);return I.register("authEvent",te=>(de(null==te?void 0:te.authEvent,d,"invalid-auth-event"),{status:H.onEvent(te.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[d._key()]={manager:H},f.iframes[d._key()]=I,H})()}_isIframeWebStorageSupported(d,f){this.iframes[d._key()].send(Ku,{type:Ku},H=>{var te;const Fe=null===(te=null==H?void 0:H[0])||void 0===te?void 0:te[Ku];void 0!==Fe&&f(!!Fe),oe(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Qi(_){return Fl.apply(this,arguments)}(d)),this.originValidationPromises[f]}get _shouldInitProactively(){return li()||Me()||gr()}}),this.cordovaResolver=_e(class ye{constructor(){this._redirectPersistence=Vs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Si,this._overrideRedirectResult=L}_initialize(d){var f=this;return(0,m.Z)(function*(){const I=d._key();let H=f.eventManagers.get(I);return H||(H=new xd(d),f.eventManagers.set(I,H),f.attachCallbackListeners(d,H)),H})()}_openPopup(d){oe(d,"operation-not-supported-in-this-environment")}_openRedirect(d,f,I,H){var te=this;return(0,m.Z)(function*(){!function Cs(_){var d,f,I,H,te,Fe,ut,Kt,hn,En;const Fn=uu();de("function"==typeof(null===(d=null==Fn?void 0:Fn.universalLinks)||void 0===d?void 0:d.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),de(void 0!==(null===(f=null==Fn?void 0:Fn.BuildInfo)||void 0===f?void 0:f.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),de("function"==typeof(null===(te=null===(H=null===(I=null==Fn?void 0:Fn.cordova)||void 0===I?void 0:I.plugins)||void 0===H?void 0:H.browsertab)||void 0===te?void 0:te.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),de("function"==typeof(null===(Kt=null===(ut=null===(Fe=null==Fn?void 0:Fn.cordova)||void 0===Fe?void 0:Fe.plugins)||void 0===ut?void 0:ut.browsertab)||void 0===Kt?void 0:Kt.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),de("function"==typeof(null===(En=null===(hn=null==Fn?void 0:Fn.cordova)||void 0===hn?void 0:hn.InAppBrowser)||void 0===En?void 0:En.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const Fe=yield te._initialize(d);yield Fe.initialized(),Fe.resetRedirect(),function P(){Yo.clear()}(),yield te._originValidation(d);const ut=function Od(_,d,f=null){return{type:d,eventId:f,urlResponse:null,sessionId:c(),postBody:null,tenantId:_.tenantId,error:ve(_,"no-auth-event")}}(d,I,H);yield function mc(_,d){return g()._set(b(_),d)}(d,ut);const Kt=yield function Yu(_,d,f){return Ns.apply(this,arguments)}(d,ut,f),hn=yield function Xu(_){const{cordova:d}=uu();return new Promise(f=>{d.plugins.browsertab.isAvailable(I=>{let H=null;I?d.plugins.browsertab.openUrl(_):H=d.InAppBrowser.open(_,function Qr(_=(0,X.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),f(H)})})}(Kt);return function zc(_,d,f){return qc.apply(this,arguments)}(d,Fe,hn)})()}_isIframeWebStorageSupported(d,f){throw new Error("Method not implemented.")}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Qu(_){return Ju.apply(this,arguments)}(d)),this.originValidationPromises[f]}attachCallbackListeners(d,f){const{universalLinks:I,handleOpenURL:H,BuildInfo:te}=uu(),Fe=setTimeout((0,m.Z)(function*(){yield El(d),f.onEvent(bt())}),500),ut=function(){var En=(0,m.Z)(function*(Fn){clearTimeout(Fe);const ts=yield El(d);let ea=null;ts&&(null==Fn?void 0:Fn.url)&&(ea=function y(_,d){var f,I;const H=function j(_){const d=ee(_),f=d.link?decodeURIComponent(d.link):void 0,I=ee(f).link,H=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return ee(H).link||H||I||f||_}(d);if(H.includes("/__/auth/callback")){const te=ee(H),Fe=te.firebaseError?function x(_){try{return JSON.parse(_)}catch(d){return null}}(decodeURIComponent(te.firebaseError)):null,ut=null===(I=null===(f=null==Fe?void 0:Fe.code)||void 0===f?void 0:f.split("auth/"))||void 0===I?void 0:I[1],Kt=ut?ve(ut):null;return Kt?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Kt,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:H,postBody:null}}return null}(ts,Fn.url)),f.onEvent(ea||bt())});return function(ts){return En.apply(this,arguments)}}();void 0!==I&&"function"==typeof I.subscribe&&I.subscribe(null,ut);const Kt=H,hn=`${te.packageName.toLowerCase()}://`;uu().handleOpenURL=function(){var En=(0,m.Z)(function*(Fn){if(Fn.toLowerCase().startsWith(hn)&&ut({url:Fn}),"function"==typeof Kt)try{Kt(Fn)}catch(ts){console.error(ts)}});return function(Fn){return En.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Vs,this._completeRedirectFn=Si,this._overrideRedirectResult=L}_initialize(d){var f=this;return(0,m.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,f,I,H){var te=this;return(0,m.Z)(function*(){return yield te.selectUnderlyingResolver(),te.assertedUnderlyingResolver._openPopup(d,f,I,H)})()}_openRedirect(d,f,I,H){var te=this;return(0,m.Z)(function*(){return yield te.selectUnderlyingResolver(),te.assertedUnderlyingResolver._openRedirect(d,f,I,H)})()}_isIframeWebStorageSupported(d,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,f)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return As()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xo(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,m.Z)(function*(){if(d.underlyingResolver)return;const f=yield function Jo(){return $l.apply(this,arguments)}();d.underlyingResolver=f?d.cordovaResolver:d.browserResolver})()}}function Eo(_){return _.unwrap()}function zl(_){return ms(_)}function ms(_){const{_tokenResponse:d}=_ instanceof X.ZR?_.customData:_;if(!d)return null;if(!(_ instanceof X.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return Us.credentialFromResult(_);const f=d.providerId;if(!f||"password"===f)return null;let I;switch(f){case"google.com":I=Io;break;case"facebook.com":I=wi;break;case"github.com":I=xs;break;case"twitter.com":I=Mo;break;default:const{oauthIdToken:H,oauthAccessToken:te,oauthTokenSecret:Fe,pendingToken:ut,nonce:Kt}=d;return te||Fe||H||ut?ut?f.startsWith("saml.")?Di._create(f,ut):Ie._fromParams({providerId:f,signInMethod:f,pendingToken:ut,idToken:H,accessToken:te}):new zi(f).credential({idToken:H,accessToken:te,rawNonce:Kt}):null}return _ instanceof X.ZR?I.credentialFromError(_):I.credentialFromResult(_)}function es(_,d){return d.catch(f=>{throw f instanceof X.ZR&&function wl(_,d){var f;const I=null===(f=d.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===d.code)d.resolver=new yc(_,function yr(_,d){var f;const I=(0,X.m9)(_),H=d;return de(d.customData.operationType,I,"argument-error"),de(null===(f=H.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,I,"argument-error"),Po._fromError(I,H)}(_,d));else if(I){const H=ms(d),te=d;H&&(te.credential=H,te.tenantId=I.tenantId||void 0,te.email=I.email||void 0,te.phoneNumber=I.phoneNumber||void 0)}}(_,f),f}).then(f=>{const H=f.user;return{operationType:f.operationType,credential:zl(f),additionalUserInfo:hs(f),user:cu.getOrCreate(H)}})}function Ea(_,d){return Na.apply(this,arguments)}function Na(){return(Na=(0,m.Z)(function*(_,d){const f=yield d;return{verificationId:f.verificationId,confirm:I=>es(_,f.confirm(I))}})).apply(this,arguments)}class yc{constructor(d,f){this.resolver=f,this.auth=function Vr(_){return _.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return es(Eo(this.auth),this.resolver.resolveSignIn(d))}}class cu{constructor(d){this._delegate=d,this.multiFactor=function Uu(_){const d=(0,X.m9)(_);return fs.has(d)||fs.set(d,lo._fromUser(d)),fs.get(d)}(d)}static getOrCreate(d){return cu.USER_MAP.has(d)||cu.USER_MAP.set(d,new cu(d)),cu.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var f=this;return(0,m.Z)(function*(){return es(f.auth,kn(f._delegate,d))})()}linkWithPhoneNumber(d,f){var I=this;return(0,m.Z)(function*(){return Ea(I.auth,function ei(_,d,f){return ko.apply(this,arguments)}(I._delegate,d,f))})()}linkWithPopup(d){var f=this;return(0,m.Z)(function*(){return es(f.auth,function yl(_,d,f){return yo.apply(this,arguments)}(f._delegate,d,Xi))})()}linkWithRedirect(d){var f=this;return(0,m.Z)(function*(){return yield Cn(Gt(f.auth)),function Sr(_,d,f){return function xn(_,d,f){return gs.apply(this,arguments)}(_,d,f)}(f._delegate,d,Xi)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var f=this;return(0,m.Z)(function*(){return es(f.auth,jr(f._delegate,d))})()}reauthenticateWithPhoneNumber(d,f){return Ea(this.auth,function eu(_,d,f){return Ps.apply(this,arguments)}(this._delegate,d,f))}reauthenticateWithPopup(d){return es(this.auth,function Hu(_,d,f){return ya.apply(this,arguments)}(this._delegate,d,Xi))}reauthenticateWithRedirect(d){var f=this;return(0,m.Z)(function*(){return yield Cn(Gt(f.auth)),function un(_,d,f){return function cn(_,d,f){return Bn.apply(this,arguments)}(_,d,f)}(f._delegate,d,Xi)})()}sendEmailVerification(d){return function ds(_,d){return la.apply(this,arguments)}(this._delegate,d)}unlink(d){var f=this;return(0,m.Z)(function*(){return yield function jo(_,d){return Mr.apply(this,arguments)}(f._delegate,d),f})()}updateEmail(d){return function ca(_,d){return Ca((0,X.m9)(_),d,null)}(this._delegate,d)}updatePassword(d){return function Ta(_,d){return Ca((0,X.m9)(_),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function go(_,d){return Ao.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function Ar(_,d){return ir.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,f){return function yu(_,d,f){return oi.apply(this,arguments)}(this._delegate,d,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}cu.USER_MAP=new WeakMap;const Au=de;let Wc=(()=>{class _{constructor(f,I){if(this.app=f,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:H}=f.options;Au(H,"invalid-api-key",{appName:f.name}),Au(H,"invalid-api-key",{appName:f.name});const te="undefined"!=typeof window?Xi:void 0;this._delegate=I.initialize({options:{persistence:wh(H,f.name),popupRedirectResolver:te}}),this._delegate._updateErrorMap(ht),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?cu.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,I){!function xr(_,d,f){const I=Gt(_);de(I._canInitEmulator,I,"emulator-config-failed"),de(/^https?:\/\//.test(d),I,"invalid-emulator-scheme");const H=!!(null==f?void 0:f.disableWarnings),te=Ri(d),{host:Fe,port:ut}=function Qn(_){const d=Ri(_),f=/(\/\/)?([^?#/]+)/.exec(_.substr(d.length));if(!f)return{host:"",port:null};const I=f[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(I);if(H){const te=H[1];return{host:te,port:Ei(I.substr(te.length+1))}}{const[te,Fe]=I.split(":");return{host:te,port:Ei(Fe)}}}(d);I.config.emulator={url:`${te}//${Fe}${null===ut?"":`:${ut}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Fe,port:ut,protocol:te.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function cr(){function _(){const d=document.createElement("p"),f=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,f,I)}applyActionCode(f){return function Y(_,d){return me.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return Tt(this._delegate,f)}confirmPasswordReset(f,I){return function N(_,d,f){return R.apply(this,arguments)}(this._delegate,f,I)}createUserWithEmailAndPassword(f,I){var H=this;return(0,m.Z)(function*(){return es(H._delegate,function Es(_,d,f){return ji.apply(this,arguments)}(H._delegate,f,I))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function Ia(_,d){return Ro.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function Fu(_,d){const f=hi.parseLink(d);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,m.Z)(function*(){Au(Pr(),f._delegate,"operation-not-supported-in-this-environment");const I=yield function ar(_,d){return xa.apply(this,arguments)}(f._delegate,Xi);return I?es(f._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function Yt(_,d){Gt(_)._logFramework(d)}(this._delegate,f)}onAuthStateChanged(f,I,H){const{next:te,error:Fe,complete:ut}=Eh(f,I,H);return this._delegate.onAuthStateChanged(te,Fe,ut)}onIdTokenChanged(f,I,H){const{next:te,error:Fe,complete:ut}=Eh(f,I,H);return this._delegate.onIdTokenChanged(te,Fe,ut)}sendSignInLinkToEmail(f,I){return function ua(_,d,f){return ku.apply(this,arguments)}(this._delegate,f,I)}sendPasswordResetEmail(f,I){return function aa(_,d,f){return V.apply(this,arguments)}(this._delegate,f,I||void 0)}setPersistence(f){var I=this;return(0,m.Z)(function*(){let H;switch(function vn(_,d){nl(Object.values(Ji).includes(d),_,"invalid-persistence-type"),(0,X.b$)()?nl(d!==Ji.SESSION,_,"unsupported-persistence-type"):(0,X.UG)()?nl(d===Ji.NONE,_,"unsupported-persistence-type"):Ii()?nl(d===Ji.NONE||d===Ji.LOCAL&&(0,X.hl)(),_,"unsupported-persistence-type"):nl(d===Ji.NONE||ki(),_,"unsupported-persistence-type")}(I._delegate,f),f){case Ji.SESSION:H=Vs;break;case Ji.LOCAL:H=(yield _e(an)._isAvailable())?an:fa;break;case Ji.NONE:H=dn;break;default:return oe("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(H)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return es(this._delegate,function io(_){return so.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return es(this._delegate,Vn(this._delegate,f))}signInWithCustomToken(f){return es(this._delegate,function Ui(_,d){return An.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,I){return es(this._delegate,function Ws(_,d,f){return Vn((0,X.m9)(_),no.credential(d,f))}(this._delegate,f,I))}signInWithEmailLink(f,I){return es(this._delegate,function Ol(_,d,f){return Ks.apply(this,arguments)}(this._delegate,f,I))}signInWithPhoneNumber(f,I){return Ea(this._delegate,function Yi(_,d,f){return mi.apply(this,arguments)}(this._delegate,f,I))}signInWithPopup(f){var I=this;return(0,m.Z)(function*(){return Au(Pr(),I._delegate,"operation-not-supported-in-this-environment"),es(I._delegate,function ml(_,d,f){return Bs.apply(this,arguments)}(I._delegate,f,Xi))})()}signInWithRedirect(f){var I=this;return(0,m.Z)(function*(){return Au(Pr(),I._delegate,"operation-not-supported-in-this-environment"),yield Cn(I._delegate),function $e(_,d,f){return function rt(_,d,f){return At.apply(this,arguments)}(_,d,f)}(I._delegate,f,Xi)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function rr(_,d){return Bi.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Ji,_})();function Eh(_,d,f){let I=_;"function"!=typeof _&&({next:I,error:d,complete:f}=_);const H=I;return{next:Fe=>H(Fe&&cu.getOrCreate(Fe)),error:d,complete:f}}function wh(_,d){const f=function Nr(_,d){const f=_r();if(!f)return[];const I=Rr(Gl,_,d);switch(f.getItem(I)){case Ji.NONE:return[dn];case Ji.LOCAL:return[an,Vs];case Ji.SESSION:return[Vs];default:return[]}}(_,d);if("undefined"!=typeof self&&!f.includes(an)&&f.push(an),"undefined"!=typeof window)for(const I of[fa,Vs])f.includes(I)||f.push(I);return f.includes(dn)||f.push(dn),f}class Kc{constructor(){this.providerId="phone",this._delegate=new Us(Eo(O.Z.auth()))}static credential(d,f){return Us.credential(d,f)}verifyPhoneNumber(d,f){return this._delegate.verifyPhoneNumber(d,f)}unwrap(){return this._delegate}}Kc.PHONE_SIGN_IN_METHOD=Us.PHONE_SIGN_IN_METHOD,Kc.PROVIDER_ID=Us.PROVIDER_ID;const bh=de;class Gf{constructor(d,f,I=O.Z.app()){var H;bh(null===(H=I.options)||void 0===H?void 0:H.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new $a(d,f,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ql(_){_.INTERNAL.registerComponent(new Ue.wA("auth-compat",d=>{const f=d.getProvider("app-compat").getImmediate(),I=d.getProvider("auth");return new Wc(f,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:no,FacebookAuthProvider:wi,GithubAuthProvider:xs,GoogleAuthProvider:Io,OAuthProvider:zi,SAMLAuthProvider:fi,PhoneAuthProvider:Kc,PhoneMultiFactorGenerator:jc,RecaptchaVerifier:Gf,TwitterAuthProvider:Mo,Auth:Wc,AuthCredential:ci,Error:X.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.14")}(O.Z)},8306:(jt,ze,U)=>{U.d(ze,{y:()=>pe});var m=U(2961),O=U(727),X=U(8822),Te=U(4671);var Ue=U(2416),Oe=U(576),je=U(2806);let pe=(()=>{class it{constructor(Mt){Mt&&(this._subscribe=Mt)}lift(Mt){const Ze=new it;return Ze.source=this,Ze.operator=Mt,Ze}subscribe(Mt,Ze,dt){const Vt=function St(it){return it&&it instanceof m.Lv||function Ve(it){return it&&(0,Oe.m)(it.next)&&(0,Oe.m)(it.error)&&(0,Oe.m)(it.complete)}(it)&&(0,O.Nn)(it)}(Mt)?Mt:new m.Hp(Mt,Ze,dt);return(0,je.x)(()=>{const{operator:Ut,source:oe}=this;Vt.add(Ut?Ut.call(Vt,oe):oe?this._subscribe(Vt):this._trySubscribe(Vt))}),Vt}_trySubscribe(Mt){try{return this._subscribe(Mt)}catch(Ze){Mt.error(Ze)}}forEach(Mt,Ze){return new(Ze=fe(Ze))((dt,Vt)=>{const Ut=new m.Hp({next:oe=>{try{Mt(oe)}catch(ve){Vt(ve),Ut.unsubscribe()}},error:Vt,complete:dt});this.subscribe(Ut)})}_subscribe(Mt){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(Mt)}[X.L](){return this}pipe(...Mt){return function Ae(it){return 0===it.length?Te.y:1===it.length?it[0]:function(Mt){return it.reduce((Ze,dt)=>dt(Ze),Mt)}}(Mt)(this)}toPromise(Mt){return new(Mt=fe(Mt))((Ze,dt)=>{let Vt;this.subscribe(Ut=>Vt=Ut,Ut=>dt(Ut),()=>Ze(Vt))})}}return it.create=ht=>new it(ht),it})();function fe(it){var ht;return null!==(ht=null!=it?it:Ue.v.Promise)&&void 0!==ht?ht:Promise}},7579:(jt,ze,U)=>{U.d(ze,{x:()=>Ue});var m=U(8306),O=U(727);const Te=(0,U(3888).d)(je=>function(){je(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var De=U(8737),Ae=U(2806);let Ue=(()=>{class je extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(fe){const Ve=new Oe(this,this);return Ve.operator=fe,Ve}_throwIfClosed(){if(this.closed)throw new Te}next(fe){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ve of this.currentObservers)Ve.next(fe)}})}error(fe){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=fe;const{observers:Ve}=this;for(;Ve.length;)Ve.shift().error(fe)}})}complete(){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:fe}=this;for(;fe.length;)fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var fe;return(null===(fe=this.observers)||void 0===fe?void 0:fe.length)>0}_trySubscribe(fe){return this._throwIfClosed(),super._trySubscribe(fe)}_subscribe(fe){return this._throwIfClosed(),this._checkFinalizedStatuses(fe),this._innerSubscribe(fe)}_innerSubscribe(fe){const{hasError:Ve,isStopped:St,observers:it}=this;return Ve||St?O.Lc:(this.currentObservers=null,it.push(fe),new O.w0(()=>{this.currentObservers=null,(0,De.P)(it,fe)}))}_checkFinalizedStatuses(fe){const{hasError:Ve,thrownError:St,isStopped:it}=this;Ve?fe.error(St):it&&fe.complete()}asObservable(){const fe=new m.y;return fe.source=this,fe}}return je.create=(pe,fe)=>new Oe(pe,fe),je})();class Oe extends Ue{constructor(pe,fe){super(),this.destination=pe,this.source=fe}next(pe){var fe,Ve;null===(Ve=null===(fe=this.destination)||void 0===fe?void 0:fe.next)||void 0===Ve||Ve.call(fe,pe)}error(pe){var fe,Ve;null===(Ve=null===(fe=this.destination)||void 0===fe?void 0:fe.error)||void 0===Ve||Ve.call(fe,pe)}complete(){var pe,fe;null===(fe=null===(pe=this.destination)||void 0===pe?void 0:pe.complete)||void 0===fe||fe.call(pe)}_subscribe(pe){var fe,Ve;return null!==(Ve=null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(pe))&&void 0!==Ve?Ve:O.Lc}}},2961:(jt,ze,U)=>{U.d(ze,{Hp:()=>Mt,Lv:()=>Ve});var m=U(576),O=U(727),X=U(2416),Te=U(7849);function De(){}const Ae=je("C",void 0,void 0);function je(oe,ve,Ke){return{kind:oe,value:ve,error:Ke}}var pe=U(3410),fe=U(2806);class Ve extends O.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,O.Nn)(ve)&&ve.add(this)):this.destination=Ut}static create(ve,Ke,Ge){return new Mt(ve,Ke,Ge)}next(ve){this.isStopped?Vt(function Oe(oe){return je("N",oe,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?Vt(function Ue(oe){return je("E",void 0,oe)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?Vt(Ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const St=Function.prototype.bind;function it(oe,ve){return St.call(oe,ve)}class ht{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:Ke}=this;if(Ke.next)try{Ke.next(ve)}catch(Ge){Ze(Ge)}}error(ve){const{partialObserver:Ke}=this;if(Ke.error)try{Ke.error(ve)}catch(Ge){Ze(Ge)}else Ze(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(Ke){Ze(Ke)}}}class Mt extends Ve{constructor(ve,Ke,Ge){let ot;if(super(),(0,m.m)(ve)||!ve)ot={next:null!=ve?ve:void 0,error:null!=Ke?Ke:void 0,complete:null!=Ge?Ge:void 0};else{let de;this&&X.v.useDeprecatedNextContext?(de=Object.create(ve),de.unsubscribe=()=>this.unsubscribe(),ot={next:ve.next&&it(ve.next,de),error:ve.error&&it(ve.error,de),complete:ve.complete&&it(ve.complete,de)}):ot=ve}this.destination=new ht(ot)}}function Ze(oe){X.v.useDeprecatedSynchronousErrorHandling?(0,fe.O)(oe):(0,Te.h)(oe)}function Vt(oe,ve){const{onStoppedNotification:Ke}=X.v;Ke&&pe.z.setTimeout(()=>Ke(oe,ve))}const Ut={closed:!0,next:De,error:function dt(oe){throw oe},complete:De}},727:(jt,ze,U)=>{U.d(ze,{Lc:()=>Ae,w0:()=>De,Nn:()=>Ue});var m=U(576);const X=(0,U(3888).d)(je=>function(fe){je(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((Ve,St)=>`${St+1}) ${Ve.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe});var Te=U(8737);class De{constructor(pe){this.initialTeardown=pe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let pe;if(!this.closed){this.closed=!0;const{_parentage:fe}=this;if(fe)if(this._parentage=null,Array.isArray(fe))for(const it of fe)it.remove(this);else fe.remove(this);const{initialTeardown:Ve}=this;if((0,m.m)(Ve))try{Ve()}catch(it){pe=it instanceof X?it.errors:[it]}const{_finalizers:St}=this;if(St){this._finalizers=null;for(const it of St)try{Oe(it)}catch(ht){pe=null!=pe?pe:[],ht instanceof X?pe=[...pe,...ht.errors]:pe.push(ht)}}if(pe)throw new X(pe)}}add(pe){var fe;if(pe&&pe!==this)if(this.closed)Oe(pe);else{if(pe instanceof De){if(pe.closed||pe._hasParent(this))return;pe._addParent(this)}(this._finalizers=null!==(fe=this._finalizers)&&void 0!==fe?fe:[]).push(pe)}}_hasParent(pe){const{_parentage:fe}=this;return fe===pe||Array.isArray(fe)&&fe.includes(pe)}_addParent(pe){const{_parentage:fe}=this;this._parentage=Array.isArray(fe)?(fe.push(pe),fe):fe?[fe,pe]:pe}_removeParent(pe){const{_parentage:fe}=this;fe===pe?this._parentage=null:Array.isArray(fe)&&(0,Te.P)(fe,pe)}remove(pe){const{_finalizers:fe}=this;fe&&(0,Te.P)(fe,pe),pe instanceof De&&pe._removeParent(this)}}De.EMPTY=(()=>{const je=new De;return je.closed=!0,je})();const Ae=De.EMPTY;function Ue(je){return je instanceof De||je&&"closed"in je&&(0,m.m)(je.remove)&&(0,m.m)(je.add)&&(0,m.m)(je.unsubscribe)}function Oe(je){(0,m.m)(je)?je():je.unsubscribe()}},2416:(jt,ze,U)=>{U.d(ze,{v:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(jt,ze,U)=>{U.d(ze,{z:()=>De});var m=U(8189),X=U(7669),Te=U(8996);function De(...Ae){return function O(){return(0,m.J)(1)}()((0,Te.D)(Ae,(0,X.yG)(Ae)))}},515:(jt,ze,U)=>{U.d(ze,{E:()=>O});const O=new(U(8306).y)(De=>De.complete())},8996:(jt,ze,U)=>{U.d(ze,{D:()=>ve});var m=U(8421),O=U(5363),X=U(9468),Ae=U(8306),Oe=U(2202),je=U(576),pe=U(9672);function Ve(Ke,Ge){if(!Ke)throw new Error("Iterable cannot be null");return new Ae.y(ot=>{(0,pe.f)(ot,Ge,()=>{const de=Ke[Symbol.asyncIterator]();(0,pe.f)(ot,Ge,()=>{de.next().then(Xe=>{Xe.done?ot.complete():ot.next(Xe.value)})},0,!0)})})}var St=U(3670),it=U(8239),ht=U(1144),Mt=U(6495),Ze=U(2206),dt=U(4532),Vt=U(3260);function ve(Ke,Ge){return Ge?function oe(Ke,Ge){if(null!=Ke){if((0,St.c)(Ke))return function Te(Ke,Ge){return(0,m.Xf)(Ke).pipe((0,X.R)(Ge),(0,O.Q)(Ge))}(Ke,Ge);if((0,ht.z)(Ke))return function Ue(Ke,Ge){return new Ae.y(ot=>{let de=0;return Ge.schedule(function(){de===Ke.length?ot.complete():(ot.next(Ke[de++]),ot.closed||this.schedule())})})}(Ke,Ge);if((0,it.t)(Ke))return function De(Ke,Ge){return(0,m.Xf)(Ke).pipe((0,X.R)(Ge),(0,O.Q)(Ge))}(Ke,Ge);if((0,Ze.D)(Ke))return Ve(Ke,Ge);if((0,Mt.T)(Ke))return function fe(Ke,Ge){return new Ae.y(ot=>{let de;return(0,pe.f)(ot,Ge,()=>{de=Ke[Oe.h](),(0,pe.f)(ot,Ge,()=>{let Xe,se;try{({value:Xe,done:se}=de.next())}catch(ke){return void ot.error(ke)}se?ot.complete():ot.next(Xe)},0,!0)}),()=>(0,je.m)(null==de?void 0:de.return)&&de.return()})}(Ke,Ge);if((0,Vt.L)(Ke))return function Ut(Ke,Ge){return Ve((0,Vt.Q)(Ke),Ge)}(Ke,Ge)}throw(0,dt.z)(Ke)}(Ke,Ge):(0,m.Xf)(Ke)}},8421:(jt,ze,U)=>{U.d(ze,{Xf:()=>St});var m=U(655),O=U(1144),X=U(8239),Te=U(8306),De=U(3670),Ae=U(2206),Ue=U(4532),Oe=U(6495),je=U(3260),pe=U(576),fe=U(7849),Ve=U(8822);function St(oe){if(oe instanceof Te.y)return oe;if(null!=oe){if((0,De.c)(oe))return function it(oe){return new Te.y(ve=>{const Ke=oe[Ve.L]();if((0,pe.m)(Ke.subscribe))return Ke.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(oe);if((0,O.z)(oe))return function ht(oe){return new Te.y(ve=>{for(let Ke=0;Ke<oe.length&&!ve.closed;Ke++)ve.next(oe[Ke]);ve.complete()})}(oe);if((0,X.t)(oe))return function Mt(oe){return new Te.y(ve=>{oe.then(Ke=>{ve.closed||(ve.next(Ke),ve.complete())},Ke=>ve.error(Ke)).then(null,fe.h)})}(oe);if((0,Ae.D)(oe))return dt(oe);if((0,Oe.T)(oe))return function Ze(oe){return new Te.y(ve=>{for(const Ke of oe)if(ve.next(Ke),ve.closed)return;ve.complete()})}(oe);if((0,je.L)(oe))return function Vt(oe){return dt((0,je.Q)(oe))}(oe)}throw(0,Ue.z)(oe)}function dt(oe){return new Te.y(ve=>{(function Ut(oe,ve){var Ke,Ge,ot,de;return(0,m.mG)(this,void 0,void 0,function*(){try{for(Ke=(0,m.KL)(oe);!(Ge=yield Ke.next()).done;)if(ve.next(Ge.value),ve.closed)return}catch(Xe){ot={error:Xe}}finally{try{Ge&&!Ge.done&&(de=Ke.return)&&(yield de.call(Ke))}finally{if(ot)throw ot.error}}ve.complete()})})(oe,ve).catch(Ke=>ve.error(Ke))})}},6451:(jt,ze,U)=>{U.d(ze,{T:()=>Ae});var m=U(8189),O=U(8421),X=U(515),Te=U(7669),De=U(8996);function Ae(...Ue){const Oe=(0,Te.yG)(Ue),je=(0,Te._6)(Ue,1/0),pe=Ue;return pe.length?1===pe.length?(0,O.Xf)(pe[0]):(0,m.J)(je)((0,De.D)(pe,Oe)):X.E}},9646:(jt,ze,U)=>{U.d(ze,{of:()=>X});var m=U(7669),O=U(8996);function X(...Te){const De=(0,m.yG)(Te);return(0,O.D)(Te,De)}},5403:(jt,ze,U)=>{U.d(ze,{x:()=>O});var m=U(2961);function O(Te,De,Ae,Ue,Oe){return new X(Te,De,Ae,Ue,Oe)}class X extends m.Lv{constructor(De,Ae,Ue,Oe,je,pe){super(De),this.onFinalize=je,this.shouldUnsubscribe=pe,this._next=Ae?function(fe){try{Ae(fe)}catch(Ve){De.error(Ve)}}:super._next,this._error=Oe?function(fe){try{Oe(fe)}catch(Ve){De.error(Ve)}finally{this.unsubscribe()}}:super._error,this._complete=Ue?function(){try{Ue()}catch(fe){De.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var De;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ae}=this;super.unsubscribe(),!Ae&&(null===(De=this.onFinalize)||void 0===De||De.call(this))}}}},4351:(jt,ze,U)=>{U.d(ze,{b:()=>X});var m=U(5577),O=U(576);function X(Te,De){return(0,O.m)(De)?(0,m.z)(Te,De,1):(0,m.z)(Te,1)}},6590:(jt,ze,U)=>{U.d(ze,{d:()=>X});var m=U(4482),O=U(5403);function X(Te){return(0,m.e)((De,Ae)=>{let Ue=!1;De.subscribe((0,O.x)(Ae,Oe=>{Ue=!0,Ae.next(Oe)},()=>{Ue||Ae.next(Te),Ae.complete()}))})}},9300:(jt,ze,U)=>{U.d(ze,{h:()=>X});var m=U(4482),O=U(5403);function X(Te,De){return(0,m.e)((Ae,Ue)=>{let Oe=0;Ae.subscribe((0,O.x)(Ue,je=>Te.call(De,je,Oe++)&&Ue.next(je)))})}},590:(jt,ze,U)=>{U.d(ze,{P:()=>Ue});var m=U(6805),O=U(9300),X=U(5698),Te=U(6590),De=U(8068),Ae=U(4671);function Ue(Oe,je){const pe=arguments.length>=2;return fe=>fe.pipe(Oe?(0,O.h)((Ve,St)=>Oe(Ve,St,fe)):Ae.y,(0,X.q)(1),pe?(0,Te.d)(je):(0,De.T)(()=>new m.K))}},4004:(jt,ze,U)=>{U.d(ze,{U:()=>X});var m=U(4482),O=U(5403);function X(Te,De){return(0,m.e)((Ae,Ue)=>{let Oe=0;Ae.subscribe((0,O.x)(Ue,je=>{Ue.next(Te.call(De,je,Oe++))}))})}},8189:(jt,ze,U)=>{U.d(ze,{J:()=>X});var m=U(5577),O=U(4671);function X(Te=1/0){return(0,m.z)(O.y,Te)}},5577:(jt,ze,U)=>{U.d(ze,{z:()=>Oe});var m=U(4004),O=U(8421),X=U(4482),Te=U(9672),De=U(5403),Ue=U(576);function Oe(je,pe,fe=1/0){return(0,Ue.m)(pe)?Oe((Ve,St)=>(0,m.U)((it,ht)=>pe(Ve,it,St,ht))((0,O.Xf)(je(Ve,St))),fe):("number"==typeof pe&&(fe=pe),(0,X.e)((Ve,St)=>function Ae(je,pe,fe,Ve,St,it,ht,Mt){const Ze=[];let dt=0,Vt=0,Ut=!1;const oe=()=>{Ut&&!Ze.length&&!dt&&pe.complete()},ve=Ge=>dt<Ve?Ke(Ge):Ze.push(Ge),Ke=Ge=>{it&&pe.next(Ge),dt++;let ot=!1;(0,O.Xf)(fe(Ge,Vt++)).subscribe((0,De.x)(pe,de=>{null==St||St(de),it?ve(de):pe.next(de)},()=>{ot=!0},void 0,()=>{if(ot)try{for(dt--;Ze.length&&dt<Ve;){const de=Ze.shift();ht?(0,Te.f)(pe,ht,()=>Ke(de)):Ke(de)}oe()}catch(de){pe.error(de)}}))};return je.subscribe((0,De.x)(pe,ve,()=>{Ut=!0,oe()})),()=>{null==Mt||Mt()}}(Ve,St,je,fe)))}},5363:(jt,ze,U)=>{U.d(ze,{Q:()=>Te});var m=U(9672),O=U(4482),X=U(5403);function Te(De,Ae=0){return(0,O.e)((Ue,Oe)=>{Ue.subscribe((0,X.x)(Oe,je=>(0,m.f)(Oe,De,()=>Oe.next(je),Ae),()=>(0,m.f)(Oe,De,()=>Oe.complete(),Ae),je=>(0,m.f)(Oe,De,()=>Oe.error(je),Ae)))})}},5026:(jt,ze,U)=>{U.d(ze,{R:()=>Te});var m=U(4482),O=U(5403);function X(De,Ae,Ue,Oe,je){return(pe,fe)=>{let Ve=Ue,St=Ae,it=0;pe.subscribe((0,O.x)(fe,ht=>{const Mt=it++;St=Ve?De(St,ht,Mt):(Ve=!0,ht),Oe&&fe.next(St)},je&&(()=>{Ve&&fe.next(St),fe.complete()})))}}function Te(De,Ae){return(0,m.e)(X(De,Ae,arguments.length>=2,!0))}},3099:(jt,ze,U)=>{U.d(ze,{B:()=>Ae});var m=U(8996),O=U(5698),X=U(7579),Te=U(2961),De=U(4482);function Ae(Oe={}){const{connector:je=(()=>new X.x),resetOnError:pe=!0,resetOnComplete:fe=!0,resetOnRefCountZero:Ve=!0}=Oe;return St=>{let it=null,ht=null,Mt=null,Ze=0,dt=!1,Vt=!1;const Ut=()=>{null==ht||ht.unsubscribe(),ht=null},oe=()=>{Ut(),it=Mt=null,dt=Vt=!1},ve=()=>{const Ke=it;oe(),null==Ke||Ke.unsubscribe()};return(0,De.e)((Ke,Ge)=>{Ze++,!Vt&&!dt&&Ut();const ot=Mt=null!=Mt?Mt:je();Ge.add(()=>{Ze--,0===Ze&&!Vt&&!dt&&(ht=Ue(ve,Ve))}),ot.subscribe(Ge),it||(it=new Te.Hp({next:de=>ot.next(de),error:de=>{Vt=!0,Ut(),ht=Ue(oe,pe,de),ot.error(de)},complete:()=>{dt=!0,Ut(),ht=Ue(oe,fe),ot.complete()}}),(0,m.D)(Ke).subscribe(it))})(St)}}function Ue(Oe,je,...pe){return!0===je?(Oe(),null):!1===je?null:je(...pe).pipe((0,O.q)(1)).subscribe(()=>Oe())}},8675:(jt,ze,U)=>{U.d(ze,{O:()=>Te});var m=U(7272),O=U(7669),X=U(4482);function Te(...De){const Ae=(0,O.yG)(De);return(0,X.e)((Ue,Oe)=>{(Ae?(0,m.z)(De,Ue,Ae):(0,m.z)(De,Ue)).subscribe(Oe)})}},9468:(jt,ze,U)=>{U.d(ze,{R:()=>O});var m=U(4482);function O(X,Te=0){return(0,m.e)((De,Ae)=>{Ae.add(X.schedule(()=>De.subscribe(Ae),Te))})}},3900:(jt,ze,U)=>{U.d(ze,{w:()=>Te});var m=U(8421),O=U(4482),X=U(5403);function Te(De,Ae){return(0,O.e)((Ue,Oe)=>{let je=null,pe=0,fe=!1;const Ve=()=>fe&&!je&&Oe.complete();Ue.subscribe((0,X.x)(Oe,St=>{null==je||je.unsubscribe();let it=0;const ht=pe++;(0,m.Xf)(De(St,ht)).subscribe(je=(0,X.x)(Oe,Mt=>Oe.next(Ae?Ae(St,Mt,ht,it++):Mt),()=>{je=null,Ve()}))},()=>{fe=!0,Ve()}))})}},5698:(jt,ze,U)=>{U.d(ze,{q:()=>Te});var m=U(515),O=U(4482),X=U(5403);function Te(De){return De<=0?()=>m.E:(0,O.e)((Ae,Ue)=>{let Oe=0;Ae.subscribe((0,X.x)(Ue,je=>{++Oe<=De&&(Ue.next(je),De<=Oe&&Ue.complete())}))})}},8505:(jt,ze,U)=>{U.d(ze,{b:()=>De});var m=U(576),O=U(4482),X=U(5403),Te=U(4671);function De(Ae,Ue,Oe){const je=(0,m.m)(Ae)||Ue||Oe?{next:Ae,error:Ue,complete:Oe}:Ae;return je?(0,O.e)((pe,fe)=>{var Ve;null===(Ve=je.subscribe)||void 0===Ve||Ve.call(je);let St=!0;pe.subscribe((0,X.x)(fe,it=>{var ht;null===(ht=je.next)||void 0===ht||ht.call(je,it),fe.next(it)},()=>{var it;St=!1,null===(it=je.complete)||void 0===it||it.call(je),fe.complete()},it=>{var ht;St=!1,null===(ht=je.error)||void 0===ht||ht.call(je,it),fe.error(it)},()=>{var it,ht;St&&(null===(it=je.unsubscribe)||void 0===it||it.call(je)),null===(ht=je.finalize)||void 0===ht||ht.call(je)}))}):Te.y}},8068:(jt,ze,U)=>{U.d(ze,{T:()=>Te});var m=U(6805),O=U(4482),X=U(5403);function Te(Ae=De){return(0,O.e)((Ue,Oe)=>{let je=!1;Ue.subscribe((0,X.x)(Oe,pe=>{je=!0,Oe.next(pe)},()=>je?Oe.complete():Oe.error(Ae())))})}function De(){return new m.K}},4408:(jt,ze,U)=>{U.d(ze,{o:()=>De});var m=U(727);class O extends m.w0{constructor(Ue,Oe){super()}schedule(Ue,Oe=0){return this}}const X={setInterval(Ae,Ue,...Oe){const{delegate:je}=X;return(null==je?void 0:je.setInterval)?je.setInterval(Ae,Ue,...Oe):setInterval(Ae,Ue,...Oe)},clearInterval(Ae){const{delegate:Ue}=X;return((null==Ue?void 0:Ue.clearInterval)||clearInterval)(Ae)},delegate:void 0};var Te=U(8737);class De extends O{constructor(Ue,Oe){super(Ue,Oe),this.scheduler=Ue,this.work=Oe,this.pending=!1}schedule(Ue,Oe=0){if(this.closed)return this;this.state=Ue;const je=this.id,pe=this.scheduler;return null!=je&&(this.id=this.recycleAsyncId(pe,je,Oe)),this.pending=!0,this.delay=Oe,this.id=this.id||this.requestAsyncId(pe,this.id,Oe),this}requestAsyncId(Ue,Oe,je=0){return X.setInterval(Ue.flush.bind(Ue,this),je)}recycleAsyncId(Ue,Oe,je=0){if(null!=je&&this.delay===je&&!1===this.pending)return Oe;X.clearInterval(Oe)}execute(Ue,Oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const je=this._execute(Ue,Oe);if(je)return je;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ue,Oe){let pe,je=!1;try{this.work(Ue)}catch(fe){je=!0,pe=fe||new Error("Scheduled action threw falsy error")}if(je)return this.unsubscribe(),pe}unsubscribe(){if(!this.closed){const{id:Ue,scheduler:Oe}=this,{actions:je}=Oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Te.P)(je,this),null!=Ue&&(this.id=this.recycleAsyncId(Oe,Ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(jt,ze,U)=>{U.d(ze,{v:()=>X});var m=U(6063);class O{constructor(De,Ae=O.now){this.schedulerActionCtor=De,this.now=Ae}schedule(De,Ae=0,Ue){return new this.schedulerActionCtor(this,De).schedule(Ue,Ae)}}O.now=m.l.now;class X extends O{constructor(De,Ae=O.now){super(De,Ae),this.actions=[],this._active=!1,this._scheduled=void 0}flush(De){const{actions:Ae}=this;if(this._active)return void Ae.push(De);let Ue;this._active=!0;do{if(Ue=De.execute(De.state,De.delay))break}while(De=Ae.shift());if(this._active=!1,Ue){for(;De=Ae.shift();)De.unsubscribe();throw Ue}}}},4986:(jt,ze,U)=>{U.d(ze,{z:()=>X});var m=U(4408);const X=new(U(7565).v)(m.o)},6063:(jt,ze,U)=>{U.d(ze,{l:()=>m});const m={now:()=>(m.delegate||Date).now(),delegate:void 0}},3410:(jt,ze,U)=>{U.d(ze,{z:()=>m});const m={setTimeout(O,X,...Te){const{delegate:De}=m;return(null==De?void 0:De.setTimeout)?De.setTimeout(O,X,...Te):setTimeout(O,X,...Te)},clearTimeout(O){const{delegate:X}=m;return((null==X?void 0:X.clearTimeout)||clearTimeout)(O)},delegate:void 0}},2202:(jt,ze,U)=>{U.d(ze,{h:()=>O});const O=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(jt,ze,U)=>{U.d(ze,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(jt,ze,U)=>{U.d(ze,{K:()=>O});const O=(0,U(3888).d)(X=>function(){X(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(jt,ze,U)=>{U.d(ze,{_6:()=>Ae,jO:()=>Te,yG:()=>De});var m=U(576);function X(Ue){return Ue[Ue.length-1]}function Te(Ue){return(0,m.m)(X(Ue))?Ue.pop():void 0}function De(Ue){return function O(Ue){return Ue&&(0,m.m)(Ue.schedule)}(X(Ue))?Ue.pop():void 0}function Ae(Ue,Oe){return"number"==typeof X(Ue)?Ue.pop():Oe}},4742:(jt,ze,U)=>{U.d(ze,{D:()=>De});const{isArray:m}=Array,{getPrototypeOf:O,prototype:X,keys:Te}=Object;function De(Ue){if(1===Ue.length){const Oe=Ue[0];if(m(Oe))return{args:Oe,keys:null};if(function Ae(Ue){return Ue&&"object"==typeof Ue&&O(Ue)===X}(Oe)){const je=Te(Oe);return{args:je.map(pe=>Oe[pe]),keys:je}}}return{args:Ue,keys:null}}},8737:(jt,ze,U)=>{function m(O,X){if(O){const Te=O.indexOf(X);0<=Te&&O.splice(Te,1)}}U.d(ze,{P:()=>m})},3888:(jt,ze,U)=>{function m(O){const Te=O(De=>{Error.call(De),De.stack=(new Error).stack});return Te.prototype=Object.create(Error.prototype),Te.prototype.constructor=Te,Te}U.d(ze,{d:()=>m})},1810:(jt,ze,U)=>{function m(O,X){return O.reduce((Te,De,Ae)=>(Te[De]=X[Ae],Te),{})}U.d(ze,{n:()=>m})},2806:(jt,ze,U)=>{U.d(ze,{O:()=>Te,x:()=>X});var m=U(2416);let O=null;function X(De){if(m.v.useDeprecatedSynchronousErrorHandling){const Ae=!O;if(Ae&&(O={errorThrown:!1,error:null}),De(),Ae){const{errorThrown:Ue,error:Oe}=O;if(O=null,Ue)throw Oe}}else De()}function Te(De){m.v.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=De)}},9672:(jt,ze,U)=>{function m(O,X,Te,De=0,Ae=!1){const Ue=X.schedule(function(){Te(),Ae?O.add(this.schedule(null,De)):this.unsubscribe()},De);if(O.add(Ue),!Ae)return Ue}U.d(ze,{f:()=>m})},4671:(jt,ze,U)=>{function m(O){return O}U.d(ze,{y:()=>m})},1144:(jt,ze,U)=>{U.d(ze,{z:()=>m});const m=O=>O&&"number"==typeof O.length&&"function"!=typeof O},2206:(jt,ze,U)=>{U.d(ze,{D:()=>O});var m=U(576);function O(X){return Symbol.asyncIterator&&(0,m.m)(null==X?void 0:X[Symbol.asyncIterator])}},576:(jt,ze,U)=>{function m(O){return"function"==typeof O}U.d(ze,{m:()=>m})},3670:(jt,ze,U)=>{U.d(ze,{c:()=>X});var m=U(8822),O=U(576);function X(Te){return(0,O.m)(Te[m.L])}},6495:(jt,ze,U)=>{U.d(ze,{T:()=>X});var m=U(2202),O=U(576);function X(Te){return(0,O.m)(null==Te?void 0:Te[m.h])}},8239:(jt,ze,U)=>{U.d(ze,{t:()=>O});var m=U(576);function O(X){return(0,m.m)(null==X?void 0:X.then)}},3260:(jt,ze,U)=>{U.d(ze,{L:()=>Te,Q:()=>X});var m=U(655),O=U(576);function X(De){return(0,m.FC)(this,arguments,function*(){const Ue=De.getReader();try{for(;;){const{value:Oe,done:je}=yield(0,m.qq)(Ue.read());if(je)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(Oe)}}finally{Ue.releaseLock()}})}function Te(De){return(0,O.m)(null==De?void 0:De.getReader)}},4482:(jt,ze,U)=>{U.d(ze,{A:()=>O,e:()=>X});var m=U(576);function O(Te){return(0,m.m)(null==Te?void 0:Te.lift)}function X(Te){return De=>{if(O(De))return De.lift(function(Ae){try{return Te(Ae,this)}catch(Ue){this.error(Ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(jt,ze,U)=>{U.d(ze,{Z:()=>Te});var m=U(4004);const{isArray:O}=Array;function Te(De){return(0,m.U)(Ae=>function X(De,Ae){return O(Ae)?De(...Ae):De(Ae)}(De,Ae))}},7849:(jt,ze,U)=>{U.d(ze,{h:()=>X});var m=U(2416),O=U(3410);function X(Te){O.z.setTimeout(()=>{const{onUnhandledError:De}=m.v;if(!De)throw Te;De(Te)})}},4532:(jt,ze,U)=>{function m(O){return new TypeError(`You provided ${null!==O&&"object"==typeof O?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(ze,{z:()=>m})},655:(jt,ze,U)=>{function Te(se,ke){var _e={};for(var tt in se)Object.prototype.hasOwnProperty.call(se,tt)&&ke.indexOf(tt)<0&&(_e[tt]=se[tt]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var We=0;for(tt=Object.getOwnPropertySymbols(se);We<tt.length;We++)ke.indexOf(tt[We])<0&&Object.prototype.propertyIsEnumerable.call(se,tt[We])&&(_e[tt[We]]=se[tt[We]])}return _e}function Oe(se,ke,_e,tt){return new(_e||(_e=Promise))(function(It,Nt){function Ot(yn){try{Ct(tt.next(yn))}catch(Qt){Nt(Qt)}}function Zt(yn){try{Ct(tt.throw(yn))}catch(Qt){Nt(Qt)}}function Ct(yn){yn.done?It(yn.value):function We(It){return It instanceof _e?It:new _e(function(Nt){Nt(It)})}(yn.value).then(Ot,Zt)}Ct((tt=tt.apply(se,ke||[])).next())})}function Ze(se){return this instanceof Ze?(this.v=se,this):new Ze(se)}function dt(se,ke,_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var We,tt=_e.apply(se,ke||[]),It=[];return We={},Nt("next"),Nt("throw"),Nt("return"),We[Symbol.asyncIterator]=function(){return this},We;function Nt(nt){tt[nt]&&(We[nt]=function(et){return new Promise(function(we,Be){It.push([nt,et,we,Be])>1||Ot(nt,et)})})}function Ot(nt,et){try{!function Zt(nt){nt.value instanceof Ze?Promise.resolve(nt.value.v).then(Ct,yn):Qt(It[0][2],nt)}(tt[nt](et))}catch(we){Qt(It[0][3],we)}}function Ct(nt){Ot("next",nt)}function yn(nt){Ot("throw",nt)}function Qt(nt,et){nt(et),It.shift(),It.length&&Ot(It[0][0],It[0][1])}}function Ut(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,ke=se[Symbol.asyncIterator];return ke?ke.call(se):(se=function Ve(se){var ke="function"==typeof Symbol&&Symbol.iterator,_e=ke&&se[ke],tt=0;if(_e)return _e.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&tt>=se.length&&(se=void 0),{value:se&&se[tt++],done:!se}}};throw new TypeError(ke?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),_e={},tt("next"),tt("throw"),tt("return"),_e[Symbol.asyncIterator]=function(){return this},_e);function tt(It){_e[It]=se[It]&&function(Nt){return new Promise(function(Ot,Zt){!function We(It,Nt,Ot,Zt){Promise.resolve(Zt).then(function(Ct){It({value:Ct,done:Ot})},Nt)}(Ot,Zt,(Nt=se[It](Nt)).done,Nt.value)})}}}U.d(ze,{FC:()=>dt,KL:()=>Ut,_T:()=>Te,mG:()=>Oe,qq:()=>Ze})},1777:(jt,ze,U)=>{U.d(ze,{LC:()=>O,SB:()=>je,X$:()=>Te,ZE:()=>Vt,ZN:()=>dt,_j:()=>m,eR:()=>fe,jt:()=>De,k1:()=>Ut,l3:()=>X,oB:()=>Oe,vP:()=>Ue});class m{}class O{}const X="*";function Te(oe,ve){return{type:7,name:oe,definitions:ve,options:{}}}function De(oe,ve=null){return{type:4,styles:ve,timings:oe}}function Ue(oe,ve=null){return{type:2,steps:oe,options:ve}}function Oe(oe){return{type:6,styles:oe,offset:null}}function je(oe,ve,Ke){return{type:0,name:oe,styles:ve,options:Ke}}function fe(oe,ve,Ke=null){return{type:1,expr:oe,animation:ve,options:Ke}}function Ze(oe){Promise.resolve(null).then(oe)}class dt{constructor(ve=0,Ke=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ve+Ke}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ve=>ve()),this._onDoneFns=[])}onStart(ve){this._onStartFns.push(ve)}onDone(ve){this._onDoneFns.push(ve)}onDestroy(ve){this._onDestroyFns.push(ve)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ze(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ve=>ve()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ve=>ve()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(ve){this._position=this.totalTime?ve*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ve){const Ke="start"==ve?this._onStartFns:this._onDoneFns;Ke.forEach(Ge=>Ge()),Ke.length=0}}class Vt{constructor(ve){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ve;let Ke=0,Ge=0,ot=0;const de=this.players.length;0==de?Ze(()=>this._onFinish()):this.players.forEach(Xe=>{Xe.onDone(()=>{++Ke==de&&this._onFinish()}),Xe.onDestroy(()=>{++Ge==de&&this._onDestroy()}),Xe.onStart(()=>{++ot==de&&this._onStart()})}),this.totalTime=this.players.reduce((Xe,se)=>Math.max(Xe,se.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ve=>ve()),this._onDoneFns=[])}init(){this.players.forEach(ve=>ve.init())}onStart(ve){this._onStartFns.push(ve)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ve=>ve()),this._onStartFns=[])}onDone(ve){this._onDoneFns.push(ve)}onDestroy(ve){this._onDestroyFns.push(ve)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ve=>ve.play())}pause(){this.players.forEach(ve=>ve.pause())}restart(){this.players.forEach(ve=>ve.restart())}finish(){this._onFinish(),this.players.forEach(ve=>ve.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ve=>ve.destroy()),this._onDestroyFns.forEach(ve=>ve()),this._onDestroyFns=[])}reset(){this.players.forEach(ve=>ve.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ve){const Ke=ve*this.totalTime;this.players.forEach(Ge=>{const ot=Ge.totalTime?Math.min(1,Ke/Ge.totalTime):1;Ge.setPosition(ot)})}getPosition(){const ve=this.players.reduce((Ke,Ge)=>null===Ke||Ge.totalTime>Ke.totalTime?Ge:Ke,null);return null!=ve?ve.getPosition():0}beforeDestroy(){this.players.forEach(ve=>{ve.beforeDestroy&&ve.beforeDestroy()})}triggerCallback(ve){const Ke="start"==ve?this._onStartFns:this._onDoneFns;Ke.forEach(Ge=>Ge()),Ke.length=0}}const Ut="!"},9808:(jt,ze,U)=>{U.d(ze,{Do:()=>oe,EM:()=>so,HT:()=>De,JF:()=>Mr,K0:()=>Ue,Mx:()=>xi,O5:()=>nr,PM:()=>qi,S$:()=>Ze,V_:()=>pe,Ye:()=>ve,b0:()=>Ut,bD:()=>Di,ez:()=>Bo,lw:()=>Oe,mr:()=>Vt,q:()=>X,sg:()=>Ur,w_:()=>Ae});var m=U(5e3);let O=null;function X(){return O}function De(F){O||(O=F)}class Ae{}const Ue=new m.OlP("DocumentToken");let Oe=(()=>{class F{historyGo(k){throw new Error("Not implemented")}}return F.\u0275fac=function(k){return new(k||F)},F.\u0275prov=m.Yz7({token:F,factory:function(){return function je(){return(0,m.LFG)(fe)}()},providedIn:"platform"}),F})();const pe=new m.OlP("Location Initialized");let fe=(()=>{class F extends Oe{constructor(k){super(),this._doc=k,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return X().getBaseHref(this._doc)}onPopState(k){const J=X().getGlobalEventTarget(this._doc,"window");return J.addEventListener("popstate",k,!1),()=>J.removeEventListener("popstate",k)}onHashChange(k){const J=X().getGlobalEventTarget(this._doc,"window");return J.addEventListener("hashchange",k,!1),()=>J.removeEventListener("hashchange",k)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(k){this.location.pathname=k}pushState(k,J,Ee){Ve()?this._history.pushState(k,J,Ee):this.location.hash=Ee}replaceState(k,J,Ee){Ve()?this._history.replaceState(k,J,Ee):this.location.hash=Ee}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}}return F.\u0275fac=function(k){return new(k||F)(m.LFG(Ue))},F.\u0275prov=m.Yz7({token:F,factory:function(){return function St(){return new fe((0,m.LFG)(Ue))}()},providedIn:"platform"}),F})();function Ve(){return!!window.history.pushState}function it(F,W){if(0==F.length)return W;if(0==W.length)return F;let k=0;return F.endsWith("/")&&k++,W.startsWith("/")&&k++,2==k?F+W.substring(1):1==k?F+W:F+"/"+W}function ht(F){const W=F.match(/#|\?|$/),k=W&&W.index||F.length;return F.slice(0,k-("/"===F[k-1]?1:0))+F.slice(k)}function Mt(F){return F&&"?"!==F[0]?"?"+F:F}let Ze=(()=>{class F{historyGo(k){throw new Error("Not implemented")}}return F.\u0275fac=function(k){return new(k||F)},F.\u0275prov=m.Yz7({token:F,factory:function(){return function dt(F){const W=(0,m.LFG)(Ue).location;return new Ut((0,m.LFG)(Oe),W&&W.origin||"")}()},providedIn:"root"}),F})();const Vt=new m.OlP("appBaseHref");let Ut=(()=>{class F extends Ze{constructor(k,J){if(super(),this._platformLocation=k,this._removeListenerFns=[],null==J&&(J=this._platformLocation.getBaseHrefFromDOM()),null==J)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=J}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return it(this._baseHref,k)}path(k=!1){const J=this._platformLocation.pathname+Mt(this._platformLocation.search),Ee=this._platformLocation.hash;return Ee&&k?`${J}${Ee}`:J}pushState(k,J,Ee,at){const ct=this.prepareExternalUrl(Ee+Mt(at));this._platformLocation.pushState(k,J,ct)}replaceState(k,J,Ee,at){const ct=this.prepareExternalUrl(Ee+Mt(at));this._platformLocation.replaceState(k,J,ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(k=0){var J,Ee;null===(Ee=(J=this._platformLocation).historyGo)||void 0===Ee||Ee.call(J,k)}}return F.\u0275fac=function(k){return new(k||F)(m.LFG(Oe),m.LFG(Vt,8))},F.\u0275prov=m.Yz7({token:F,factory:F.\u0275fac}),F})(),oe=(()=>{class F extends Ze{constructor(k,J){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=J&&(this._baseHref=J)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){let J=this._platformLocation.hash;return null==J&&(J="#"),J.length>0?J.substring(1):J}prepareExternalUrl(k){const J=it(this._baseHref,k);return J.length>0?"#"+J:J}pushState(k,J,Ee,at){let ct=this.prepareExternalUrl(Ee+Mt(at));0==ct.length&&(ct=this._platformLocation.pathname),this._platformLocation.pushState(k,J,ct)}replaceState(k,J,Ee,at){let ct=this.prepareExternalUrl(Ee+Mt(at));0==ct.length&&(ct=this._platformLocation.pathname),this._platformLocation.replaceState(k,J,ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(k=0){var J,Ee;null===(Ee=(J=this._platformLocation).historyGo)||void 0===Ee||Ee.call(J,k)}}return F.\u0275fac=function(k){return new(k||F)(m.LFG(Oe),m.LFG(Vt,8))},F.\u0275prov=m.Yz7({token:F,factory:F.\u0275fac}),F})(),ve=(()=>{class F{constructor(k,J){this._subject=new m.vpe,this._urlChangeListeners=[],this._platformStrategy=k;const Ee=this._platformStrategy.getBaseHref();this._platformLocation=J,this._baseHref=ht(ot(Ee)),this._platformStrategy.onPopState(at=>{this._subject.emit({url:this.path(!0),pop:!0,state:at.state,type:at.type})})}path(k=!1){return this.normalize(this._platformStrategy.path(k))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(k,J=""){return this.path()==this.normalize(k+Mt(J))}normalize(k){return F.stripTrailingSlash(function Ge(F,W){return F&&W.startsWith(F)?W.substring(F.length):W}(this._baseHref,ot(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._platformStrategy.prepareExternalUrl(k)}go(k,J="",Ee=null){this._platformStrategy.pushState(Ee,"",k,J),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+Mt(J)),Ee)}replaceState(k,J="",Ee=null){this._platformStrategy.replaceState(Ee,"",k,J),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+Mt(J)),Ee)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(k=0){var J,Ee;null===(Ee=(J=this._platformStrategy).historyGo)||void 0===Ee||Ee.call(J,k)}onUrlChange(k){this._urlChangeListeners.push(k),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(J=>{this._notifyUrlChangeListeners(J.url,J.state)}))}_notifyUrlChangeListeners(k="",J){this._urlChangeListeners.forEach(Ee=>Ee(k,J))}subscribe(k,J,Ee){return this._subject.subscribe({next:k,error:J,complete:Ee})}}return F.normalizeQueryParams=Mt,F.joinWithSlash=it,F.stripTrailingSlash=ht,F.\u0275fac=function(k){return new(k||F)(m.LFG(Ze),m.LFG(Oe))},F.\u0275prov=m.Yz7({token:F,factory:function(){return function Ke(){return new ve((0,m.LFG)(Ze),(0,m.LFG)(Oe))}()},providedIn:"root"}),F})();function ot(F){return F.replace(/\/index.html$/,"")}function xi(F,W){W=encodeURIComponent(W);for(const k of F.split(";")){const J=k.indexOf("="),[Ee,at]=-1==J?[k,""]:[k.slice(0,J),k.slice(J+1)];if(Ee.trim()===W)return decodeURIComponent(at)}return null}class Ci{constructor(W,k,J,Ee){this.$implicit=W,this.ngForOf=k,this.index=J,this.count=Ee}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ur=(()=>{class F{constructor(k,J,Ee){this._viewContainer=k,this._template=J,this._differs=Ee,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(k){this._ngForOf=k,this._ngForOfDirty=!0}set ngForTrackBy(k){this._trackByFn=k}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(k){k&&(this._template=k)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const k=this._ngForOf;!this._differ&&k&&(this._differ=this._differs.find(k).create(this.ngForTrackBy))}if(this._differ){const k=this._differ.diff(this._ngForOf);k&&this._applyChanges(k)}}_applyChanges(k){const J=this._viewContainer;k.forEachOperation((Ee,at,ct)=>{if(null==Ee.previousIndex)J.createEmbeddedView(this._template,new Ci(Ee.item,this._ngForOf,-1,-1),null===ct?void 0:ct);else if(null==ct)J.remove(null===at?void 0:at);else if(null!==at){const on=J.get(at);J.move(on,ct),Br(on,Ee)}});for(let Ee=0,at=J.length;Ee<at;Ee++){const on=J.get(Ee).context;on.index=Ee,on.count=at,on.ngForOf=this._ngForOf}k.forEachIdentityChange(Ee=>{Br(J.get(Ee.currentIndex),Ee)})}static ngTemplateContextGuard(k,J){return!0}}return F.\u0275fac=function(k){return new(k||F)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},F.\u0275dir=m.lG2({type:F,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),F})();function Br(F,W){F.context.$implicit=W.item}let nr=(()=>{class F{constructor(k,J){this._viewContainer=k,this._context=new Kn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=J}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){ys("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){ys("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,J){return!0}}return F.\u0275fac=function(k){return new(k||F)(m.Y36(m.s_b),m.Y36(m.Rgc))},F.\u0275dir=m.lG2({type:F,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),F})();class Kn{constructor(){this.$implicit=null,this.ngIf=null}}function ys(F,W){if(W&&!W.createEmbeddedView)throw new Error(`${F} must be a TemplateRef, but received '${(0,m.AaK)(W)}'.`)}let Bo=(()=>{class F{}return F.\u0275fac=function(k){return new(k||F)},F.\u0275mod=m.oAB({type:F}),F.\u0275inj=m.cJS({}),F})();const Di="browser";function qi(F){return"server"===F}let so=(()=>{class F{}return F.\u0275prov=(0,m.Yz7)({token:F,providedIn:"root",factory:()=>new Wi((0,m.LFG)(Ue),window)}),F})();class Wi{constructor(W,k){this.document=W,this.window=k,this.offset=()=>[0,0]}setOffset(W){this.offset=Array.isArray(W)?()=>W:W}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(W){this.supportsScrolling()&&this.window.scrollTo(W[0],W[1])}scrollToAnchor(W){if(!this.supportsScrolling())return;const k=function bi(F,W){const k=F.getElementById(W)||F.getElementsByName(W)[0];if(k)return k;if("function"==typeof F.createTreeWalker&&F.body&&(F.body.createShadowRoot||F.body.attachShadow)){const J=F.createTreeWalker(F.body,NodeFilter.SHOW_ELEMENT);let Ee=J.currentNode;for(;Ee;){const at=Ee.shadowRoot;if(at){const ct=at.getElementById(W)||at.querySelector(`[name="${W}"]`);if(ct)return ct}Ee=J.nextNode()}}return null}(this.document,W);k&&(this.scrollToElement(k),k.focus())}setHistoryScrollRestoration(W){if(this.supportScrollRestoration()){const k=this.window.history;k&&k.scrollRestoration&&(k.scrollRestoration=W)}}scrollToElement(W){const k=W.getBoundingClientRect(),J=k.left+this.window.pageXOffset,Ee=k.top+this.window.pageYOffset,at=this.offset();this.window.scrollTo(J-at[0],Ee-at[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const W=cs(this.window.history)||cs(Object.getPrototypeOf(this.window.history));return!(!W||!W.writable&&!W.set)}catch(W){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(W){return!1}}}function cs(F){return Object.getOwnPropertyDescriptor(F,"scrollRestoration")}class Mr{}},520:(jt,ze,U)=>{U.d(ze,{JF:()=>wn,eN:()=>We});var m=U(9808),O=U(5e3),X=U(9646),Te=U(8306),De=U(4351),Ae=U(9300),Ue=U(4004);class Oe{}class je{}class pe{constructor(be){this.normalizedNames=new Map,this.lazyUpdate=null,be?this.lazyInit="string"==typeof be?()=>{this.headers=new Map,be.split("\n").forEach(Se=>{const Et=Se.indexOf(":");if(Et>0){const He=Se.slice(0,Et),_t=He.toLowerCase(),kt=Se.slice(Et+1).trim();this.maybeSetNormalizedName(He,_t),this.headers.has(_t)?this.headers.get(_t).push(kt):this.headers.set(_t,[kt])}})}:()=>{this.headers=new Map,Object.keys(be).forEach(Se=>{let Et=be[Se];const He=Se.toLowerCase();"string"==typeof Et&&(Et=[Et]),Et.length>0&&(this.headers.set(He,Et),this.maybeSetNormalizedName(Se,He))})}:this.headers=new Map}has(be){return this.init(),this.headers.has(be.toLowerCase())}get(be){this.init();const Se=this.headers.get(be.toLowerCase());return Se&&Se.length>0?Se[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(be){return this.init(),this.headers.get(be.toLowerCase())||null}append(be,Se){return this.clone({name:be,value:Se,op:"a"})}set(be,Se){return this.clone({name:be,value:Se,op:"s"})}delete(be,Se){return this.clone({name:be,value:Se,op:"d"})}maybeSetNormalizedName(be,Se){this.normalizedNames.has(Se)||this.normalizedNames.set(Se,be)}init(){this.lazyInit&&(this.lazyInit instanceof pe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(be=>this.applyUpdate(be)),this.lazyUpdate=null))}copyFrom(be){be.init(),Array.from(be.headers.keys()).forEach(Se=>{this.headers.set(Se,be.headers.get(Se)),this.normalizedNames.set(Se,be.normalizedNames.get(Se))})}clone(be){const Se=new pe;return Se.lazyInit=this.lazyInit&&this.lazyInit instanceof pe?this.lazyInit:this,Se.lazyUpdate=(this.lazyUpdate||[]).concat([be]),Se}applyUpdate(be){const Se=be.name.toLowerCase();switch(be.op){case"a":case"s":let Et=be.value;if("string"==typeof Et&&(Et=[Et]),0===Et.length)return;this.maybeSetNormalizedName(be.name,Se);const He=("a"===be.op?this.headers.get(Se):void 0)||[];He.push(...Et),this.headers.set(Se,He);break;case"d":const _t=be.value;if(_t){let kt=this.headers.get(Se);if(!kt)return;kt=kt.filter(pn=>-1===_t.indexOf(pn)),0===kt.length?(this.headers.delete(Se),this.normalizedNames.delete(Se)):this.headers.set(Se,kt)}else this.headers.delete(Se),this.normalizedNames.delete(Se)}}forEach(be){this.init(),Array.from(this.normalizedNames.keys()).forEach(Se=>be(this.normalizedNames.get(Se),this.headers.get(Se)))}}class fe{encodeKey(be){return ht(be)}encodeValue(be){return ht(be)}decodeKey(be){return decodeURIComponent(be)}decodeValue(be){return decodeURIComponent(be)}}const St=/%(\d[a-f0-9])/gi,it={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ht(gt){return encodeURIComponent(gt).replace(St,(be,Se)=>{var Et;return null!==(Et=it[Se])&&void 0!==Et?Et:be})}function Mt(gt){return`${gt}`}class Ze{constructor(be={}){if(this.updates=null,this.cloneFrom=null,this.encoder=be.encoder||new fe,be.fromString){if(be.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ve(gt,be){const Se=new Map;return gt.length>0&&gt.replace(/^\?/,"").split("&").forEach(He=>{const _t=He.indexOf("="),[kt,pn]=-1==_t?[be.decodeKey(He),""]:[be.decodeKey(He.slice(0,_t)),be.decodeValue(He.slice(_t+1))],_n=Se.get(kt)||[];_n.push(pn),Se.set(kt,_n)}),Se}(be.fromString,this.encoder)}else be.fromObject?(this.map=new Map,Object.keys(be.fromObject).forEach(Se=>{const Et=be.fromObject[Se];this.map.set(Se,Array.isArray(Et)?Et:[Et])})):this.map=null}has(be){return this.init(),this.map.has(be)}get(be){this.init();const Se=this.map.get(be);return Se?Se[0]:null}getAll(be){return this.init(),this.map.get(be)||null}keys(){return this.init(),Array.from(this.map.keys())}append(be,Se){return this.clone({param:be,value:Se,op:"a"})}appendAll(be){const Se=[];return Object.keys(be).forEach(Et=>{const He=be[Et];Array.isArray(He)?He.forEach(_t=>{Se.push({param:Et,value:_t,op:"a"})}):Se.push({param:Et,value:He,op:"a"})}),this.clone(Se)}set(be,Se){return this.clone({param:be,value:Se,op:"s"})}delete(be,Se){return this.clone({param:be,value:Se,op:"d"})}toString(){return this.init(),this.keys().map(be=>{const Se=this.encoder.encodeKey(be);return this.map.get(be).map(Et=>Se+"="+this.encoder.encodeValue(Et)).join("&")}).filter(be=>""!==be).join("&")}clone(be){const Se=new Ze({encoder:this.encoder});return Se.cloneFrom=this.cloneFrom||this,Se.updates=(this.updates||[]).concat(be),Se}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(be=>this.map.set(be,this.cloneFrom.map.get(be))),this.updates.forEach(be=>{switch(be.op){case"a":case"s":const Se=("a"===be.op?this.map.get(be.param):void 0)||[];Se.push(Mt(be.value)),this.map.set(be.param,Se);break;case"d":if(void 0===be.value){this.map.delete(be.param);break}{let Et=this.map.get(be.param)||[];const He=Et.indexOf(Mt(be.value));-1!==He&&Et.splice(He,1),Et.length>0?this.map.set(be.param,Et):this.map.delete(be.param)}}}),this.cloneFrom=this.updates=null)}}class Vt{constructor(){this.map=new Map}set(be,Se){return this.map.set(be,Se),this}get(be){return this.map.has(be)||this.map.set(be,be.defaultValue()),this.map.get(be)}delete(be){return this.map.delete(be),this}has(be){return this.map.has(be)}keys(){return this.map.keys()}}function oe(gt){return"undefined"!=typeof ArrayBuffer&&gt instanceof ArrayBuffer}function ve(gt){return"undefined"!=typeof Blob&&gt instanceof Blob}function Ke(gt){return"undefined"!=typeof FormData&&gt instanceof FormData}class ot{constructor(be,Se,Et,He){let _t;if(this.url=Se,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=be.toUpperCase(),function Ut(gt){switch(gt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||He?(this.body=void 0!==Et?Et:null,_t=He):_t=Et,_t&&(this.reportProgress=!!_t.reportProgress,this.withCredentials=!!_t.withCredentials,_t.responseType&&(this.responseType=_t.responseType),_t.headers&&(this.headers=_t.headers),_t.context&&(this.context=_t.context),_t.params&&(this.params=_t.params)),this.headers||(this.headers=new pe),this.context||(this.context=new Vt),this.params){const kt=this.params.toString();if(0===kt.length)this.urlWithParams=Se;else{const pn=Se.indexOf("?");this.urlWithParams=Se+(-1===pn?"?":pn<Se.length-1?"&":"")+kt}}else this.params=new Ze,this.urlWithParams=Se}serializeBody(){return null===this.body?null:oe(this.body)||ve(this.body)||Ke(this.body)||function Ge(gt){return"undefined"!=typeof URLSearchParams&&gt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ze?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ke(this.body)?null:ve(this.body)?this.body.type||null:oe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ze?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(be={}){var Se;const Et=be.method||this.method,He=be.url||this.url,_t=be.responseType||this.responseType,kt=void 0!==be.body?be.body:this.body,pn=void 0!==be.withCredentials?be.withCredentials:this.withCredentials,_n=void 0!==be.reportProgress?be.reportProgress:this.reportProgress;let bn=be.headers||this.headers,Yr=be.params||this.params;const br=null!==(Se=be.context)&&void 0!==Se?Se:this.context;return void 0!==be.setHeaders&&(bn=Object.keys(be.setHeaders).reduce((Yn,ue)=>Yn.set(ue,be.setHeaders[ue]),bn)),be.setParams&&(Yr=Object.keys(be.setParams).reduce((Yn,ue)=>Yn.set(ue,be.setParams[ue]),Yr)),new ot(Et,He,kt,{params:Yr,headers:bn,context:br,reportProgress:_n,responseType:_t,withCredentials:pn})}}var de=(()=>((de=de||{})[de.Sent=0]="Sent",de[de.UploadProgress=1]="UploadProgress",de[de.ResponseHeader=2]="ResponseHeader",de[de.DownloadProgress=3]="DownloadProgress",de[de.Response=4]="Response",de[de.User=5]="User",de))();class Xe{constructor(be,Se=200,Et="OK"){this.headers=be.headers||new pe,this.status=void 0!==be.status?be.status:Se,this.statusText=be.statusText||Et,this.url=be.url||null,this.ok=this.status>=200&&this.status<300}}class se extends Xe{constructor(be={}){super(be),this.type=de.ResponseHeader}clone(be={}){return new se({headers:be.headers||this.headers,status:void 0!==be.status?be.status:this.status,statusText:be.statusText||this.statusText,url:be.url||this.url||void 0})}}class ke extends Xe{constructor(be={}){super(be),this.type=de.Response,this.body=void 0!==be.body?be.body:null}clone(be={}){return new ke({body:void 0!==be.body?be.body:this.body,headers:be.headers||this.headers,status:void 0!==be.status?be.status:this.status,statusText:be.statusText||this.statusText,url:be.url||this.url||void 0})}}class _e extends Xe{constructor(be){super(be,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${be.url||"(unknown url)"}`:`Http failure response for ${be.url||"(unknown url)"}: ${be.status} ${be.statusText}`,this.error=be.error||null}}function tt(gt,be){return{body:be,headers:gt.headers,context:gt.context,observe:gt.observe,params:gt.params,reportProgress:gt.reportProgress,responseType:gt.responseType,withCredentials:gt.withCredentials}}let We=(()=>{class gt{constructor(Se){this.handler=Se}request(Se,Et,He={}){let _t;if(Se instanceof ot)_t=Se;else{let _n,bn;_n=He.headers instanceof pe?He.headers:new pe(He.headers),He.params&&(bn=He.params instanceof Ze?He.params:new Ze({fromObject:He.params})),_t=new ot(Se,Et,void 0!==He.body?He.body:null,{headers:_n,context:He.context,params:bn,reportProgress:He.reportProgress,responseType:He.responseType||"json",withCredentials:He.withCredentials})}const kt=(0,X.of)(_t).pipe((0,De.b)(_n=>this.handler.handle(_n)));if(Se instanceof ot||"events"===He.observe)return kt;const pn=kt.pipe((0,Ae.h)(_n=>_n instanceof ke));switch(He.observe||"body"){case"body":switch(_t.responseType){case"arraybuffer":return pn.pipe((0,Ue.U)(_n=>{if(null!==_n.body&&!(_n.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _n.body}));case"blob":return pn.pipe((0,Ue.U)(_n=>{if(null!==_n.body&&!(_n.body instanceof Blob))throw new Error("Response is not a Blob.");return _n.body}));case"text":return pn.pipe((0,Ue.U)(_n=>{if(null!==_n.body&&"string"!=typeof _n.body)throw new Error("Response is not a string.");return _n.body}));default:return pn.pipe((0,Ue.U)(_n=>_n.body))}case"response":return pn;default:throw new Error(`Unreachable: unhandled observe type ${He.observe}}`)}}delete(Se,Et={}){return this.request("DELETE",Se,Et)}get(Se,Et={}){return this.request("GET",Se,Et)}head(Se,Et={}){return this.request("HEAD",Se,Et)}jsonp(Se,Et){return this.request("JSONP",Se,{params:(new Ze).append(Et,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Se,Et={}){return this.request("OPTIONS",Se,Et)}patch(Se,Et,He={}){return this.request("PATCH",Se,tt(He,Et))}post(Se,Et,He={}){return this.request("POST",Se,tt(He,Et))}put(Se,Et,He={}){return this.request("PUT",Se,tt(He,Et))}}return gt.\u0275fac=function(Se){return new(Se||gt)(O.LFG(Oe))},gt.\u0275prov=O.Yz7({token:gt,factory:gt.\u0275fac}),gt})();class It{constructor(be,Se){this.next=be,this.interceptor=Se}handle(be){return this.interceptor.intercept(be,this.next)}}const Nt=new O.OlP("HTTP_INTERCEPTORS");let Ot=(()=>{class gt{intercept(Se,Et){return Et.handle(Se)}}return gt.\u0275fac=function(Se){return new(Se||gt)},gt.\u0275prov=O.Yz7({token:gt,factory:gt.\u0275fac}),gt})();const Dt=/^\)\]\}',?\n/;let Pn=(()=>{class gt{constructor(Se){this.xhrFactory=Se}handle(Se){if("JSONP"===Se.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Te.y(Et=>{const He=this.xhrFactory.build();if(He.open(Se.method,Se.urlWithParams),Se.withCredentials&&(He.withCredentials=!0),Se.headers.forEach((ue,ge)=>He.setRequestHeader(ue,ge.join(","))),Se.headers.has("Accept")||He.setRequestHeader("Accept","application/json, text/plain, */*"),!Se.headers.has("Content-Type")){const ue=Se.detectContentTypeHeader();null!==ue&&He.setRequestHeader("Content-Type",ue)}if(Se.responseType){const ue=Se.responseType.toLowerCase();He.responseType="json"!==ue?ue:"text"}const _t=Se.serializeBody();let kt=null;const pn=()=>{if(null!==kt)return kt;const ue=He.statusText||"OK",ge=new pe(He.getAllResponseHeaders()),Ce=function Ht(gt){return"responseURL"in gt&&gt.responseURL?gt.responseURL:/^X-Request-URL:/m.test(gt.getAllResponseHeaders())?gt.getResponseHeader("X-Request-URL"):null}(He)||Se.url;return kt=new se({headers:ge,status:He.status,statusText:ue,url:Ce}),kt},_n=()=>{let{headers:ue,status:ge,statusText:Ce,url:yt}=pn(),he=null;204!==ge&&(he=void 0===He.response?He.responseText:He.response),0===ge&&(ge=he?200:0);let Pe=ge>=200&&ge<300;if("json"===Se.responseType&&"string"==typeof he){const wt=he;he=he.replace(Dt,"");try{he=""!==he?JSON.parse(he):null}catch(Bt){he=wt,Pe&&(Pe=!1,he={error:Bt,text:he})}}Pe?(Et.next(new ke({body:he,headers:ue,status:ge,statusText:Ce,url:yt||void 0})),Et.complete()):Et.error(new _e({error:he,headers:ue,status:ge,statusText:Ce,url:yt||void 0}))},bn=ue=>{const{url:ge}=pn(),Ce=new _e({error:ue,status:He.status||0,statusText:He.statusText||"Unknown Error",url:ge||void 0});Et.error(Ce)};let Yr=!1;const br=ue=>{Yr||(Et.next(pn()),Yr=!0);let ge={type:de.DownloadProgress,loaded:ue.loaded};ue.lengthComputable&&(ge.total=ue.total),"text"===Se.responseType&&!!He.responseText&&(ge.partialText=He.responseText),Et.next(ge)},Yn=ue=>{let ge={type:de.UploadProgress,loaded:ue.loaded};ue.lengthComputable&&(ge.total=ue.total),Et.next(ge)};return He.addEventListener("load",_n),He.addEventListener("error",bn),He.addEventListener("timeout",bn),He.addEventListener("abort",bn),Se.reportProgress&&(He.addEventListener("progress",br),null!==_t&&He.upload&&He.upload.addEventListener("progress",Yn)),He.send(_t),Et.next({type:de.Sent}),()=>{He.removeEventListener("error",bn),He.removeEventListener("abort",bn),He.removeEventListener("load",_n),He.removeEventListener("timeout",bn),Se.reportProgress&&(He.removeEventListener("progress",br),null!==_t&&He.upload&&He.upload.removeEventListener("progress",Yn)),He.readyState!==He.DONE&&He.abort()}})}}return gt.\u0275fac=function(Se){return new(Se||gt)(O.LFG(m.JF))},gt.\u0275prov=O.Yz7({token:gt,factory:gt.\u0275fac}),gt})();const Wn=new O.OlP("XSRF_COOKIE_NAME"),Zn=new O.OlP("XSRF_HEADER_NAME");class pr{}let lr=(()=>{class gt{constructor(Se,Et,He){this.doc=Se,this.platform=Et,this.cookieName=He,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Se=this.doc.cookie||"";return Se!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,m.Mx)(Se,this.cookieName),this.lastCookieString=Se),this.lastToken}}return gt.\u0275fac=function(Se){return new(Se||gt)(O.LFG(m.K0),O.LFG(O.Lbi),O.LFG(Wn))},gt.\u0275prov=O.Yz7({token:gt,factory:gt.\u0275fac}),gt})(),sr=(()=>{class gt{constructor(Se,Et){this.tokenService=Se,this.headerName=Et}intercept(Se,Et){const He=Se.url.toLowerCase();if("GET"===Se.method||"HEAD"===Se.method||He.startsWith("http://")||He.startsWith("https://"))return Et.handle(Se);const _t=this.tokenService.getToken();return null!==_t&&!Se.headers.has(this.headerName)&&(Se=Se.clone({headers:Se.headers.set(this.headerName,_t)})),Et.handle(Se)}}return gt.\u0275fac=function(Se){return new(Se||gt)(O.LFG(pr),O.LFG(Zn))},gt.\u0275prov=O.Yz7({token:gt,factory:gt.\u0275fac}),gt})(),Xn=(()=>{class gt{constructor(Se,Et){this.backend=Se,this.injector=Et,this.chain=null}handle(Se){if(null===this.chain){const Et=this.injector.get(Nt,[]);this.chain=Et.reduceRight((He,_t)=>new It(He,_t),this.backend)}return this.chain.handle(Se)}}return gt.\u0275fac=function(Se){return new(Se||gt)(O.LFG(je),O.LFG(O.zs3))},gt.\u0275prov=O.Yz7({token:gt,factory:gt.\u0275fac}),gt})(),Mn=(()=>{class gt{static disable(){return{ngModule:gt,providers:[{provide:sr,useClass:Ot}]}}static withOptions(Se={}){return{ngModule:gt,providers:[Se.cookieName?{provide:Wn,useValue:Se.cookieName}:[],Se.headerName?{provide:Zn,useValue:Se.headerName}:[]]}}}return gt.\u0275fac=function(Se){return new(Se||gt)},gt.\u0275mod=O.oAB({type:gt}),gt.\u0275inj=O.cJS({providers:[sr,{provide:Nt,useExisting:sr,multi:!0},{provide:pr,useClass:lr},{provide:Wn,useValue:"XSRF-TOKEN"},{provide:Zn,useValue:"X-XSRF-TOKEN"}]}),gt})(),wn=(()=>{class gt{}return gt.\u0275fac=function(Se){return new(Se||gt)},gt.\u0275mod=O.oAB({type:gt}),gt.\u0275inj=O.cJS({providers:[We,{provide:Oe,useClass:Xn},Pn,{provide:je,useExisting:Pn}],imports:[[Mn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),gt})()},5e3:(jt,ze,U)=>{U.d(ze,{$8M:()=>pa,$Z:()=>rs,AFp:()=>uE,AaK:()=>Oe,BQk:()=>bf,CHM:()=>or,CRH:()=>j0,CZH:()=>_v,CqO:()=>ng,EJc:()=>Tb,EiD:()=>x,EpF:()=>C_,F4k:()=>$m,FYo:()=>E0,FiY:()=>vo,G48:()=>Wb,GfV:()=>w0,Gpc:()=>fe,JOm:()=>te,JVY:()=>Bc,L6k:()=>pc,LAX:()=>jl,LFG:()=>cn,LSH:()=>bt,Lbi:()=>wb,NdJ:()=>Ou,OlP:()=>Xr,Oqu:()=>fl,PXZ:()=>Ub,Q6J:()=>Bm,QGY:()=>tg,Qsj:()=>pw,R0b:()=>xl,RDi:()=>cs,Rgc:()=>Tg,SBq:()=>Eg,Sil:()=>Db,Suo:()=>B0,TTD:()=>zi,TgZ:()=>sh,Tol:()=>ry,Udp:()=>Sf,VLi:()=>Fb,X6Q:()=>qb,XFs:()=>sn,Xpm:()=>Wt,Y36:()=>ih,YKP:()=>C0,YNc:()=>pf,Yjl:()=>ie,Yz7:()=>et,ZZ4:()=>Ov,_Bn:()=>y0,_UZ:()=>eg,_Vd:()=>Ry,_c5:()=>lI,_uU:()=>lg,aQg:()=>Pv,c2e:()=>bb,cJS:()=>Be,cg1:()=>Nf,d8E:()=>Pf,dDg:()=>pE,deG:()=>Xa,dqk:()=>bn,eBb:()=>_l,eFA:()=>yE,ekj:()=>kc,g9A:()=>cE,h0i:()=>jf,hGG:()=>cI,hij:()=>Rf,iGM:()=>U0,ifc:()=>He,ip1:()=>aE,kL8:()=>Dd,lG2:()=>Me,mCW:()=>Qo,n5z:()=>Zi,oAB:()=>qr,oJD:()=>ye,oxw:()=>Gm,pB0:()=>jc,q3G:()=>ne,q4F:()=>b0,qLn:()=>wl,qOj:()=>Yd,qZA:()=>Ef,qzn:()=>ou,sBO:()=>Kb,sIi:()=>Qd,s_b:()=>Py,soG:()=>Ev,tBr:()=>wr,tb:()=>dE,tp0:()=>Oa,uIk:()=>hf,vHH:()=>ht,vpe:()=>cc,wAp:()=>Hn,xp6:()=>kg,yhl:()=>Ku,ynx:()=>wf,z2F:()=>Dv,z3N:()=>Lo,zSh:()=>Tp,zs3:()=>fu});var m=U(7579),O=U(727),X=U(8306),Te=U(6451),De=U(3099);function Ae(n){for(let r in n)if(n[r]===Ae)return r;throw Error("Could not find renamed property on target object.")}function Ue(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function Oe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Oe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function je(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const pe=Ae({__forward_ref__:Ae});function fe(n){return n.__forward_ref__=fe,n.toString=function(){return Oe(this())},n}function Ve(n){return St(n)?n():n}function St(n){return"function"==typeof n&&n.hasOwnProperty(pe)&&n.__forward_ref__===fe}class ht extends Error{constructor(r,s){super(function Mt(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,s)),this.code=r}}function Ze(n){return"string"==typeof n?n:null==n?"":String(n)}function dt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ze(n)}function ve(n,r){const s=r?` in ${r}`:"";throw new ht(-201,`No provider for ${dt(n)} found${s}`)}function Zt(n,r){null==n&&function Ct(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function et(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Be(n){return{providers:n.providers||[],imports:n.imports||[]}}function Dt(n){return Ht(n,pr)||Ht(n,sr)}function Ht(n,r){return n.hasOwnProperty(r)?n[r]:null}function Zn(n){return n&&(n.hasOwnProperty(lr)||n.hasOwnProperty(Xn))?n[lr]:null}const pr=Ae({\u0275prov:Ae}),lr=Ae({\u0275inj:Ae}),sr=Ae({ngInjectableDef:Ae}),Xn=Ae({ngInjectorDef:Ae});var sn=(()=>((sn=sn||{})[sn.Default=0]="Default",sn[sn.Host=1]="Host",sn[sn.Self=2]="Self",sn[sn.SkipSelf=4]="SkipSelf",sn[sn.Optional=8]="Optional",sn))();let gn;function wn(n){const r=gn;return gn=n,r}function _i(n,r,s){const a=Dt(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&sn.Optional?null:void 0!==r?r:void ve(Oe(n),"Injector")}function gt(n){return{toString:n}.toString()}var be=(()=>((be=be||{})[be.OnPush=0]="OnPush",be[be.Default=1]="Default",be))(),He=(()=>{return(n=He||(He={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",He;var n})();const _t="undefined"!=typeof globalThis&&globalThis,kt="undefined"!=typeof window&&window,pn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,bn=_t||"undefined"!=typeof global&&global||kt||pn,Yn={},ue=[],ge=Ae({\u0275cmp:Ae}),Ce=Ae({\u0275dir:Ae}),yt=Ae({\u0275pipe:Ae}),he=Ae({\u0275mod:Ae}),Pe=Ae({\u0275fac:Ae}),wt=Ae({__NG_ELEMENT_ID__:Ae});let Bt=0;function Wt(n){return gt(()=>{const s={},a={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===be.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||ue,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||He.Emulated,id:"c",styles:n.styles||ue,_:null,setInput:null,schemas:n.schemas||null,tView:null},l=n.directives,p=n.features,w=n.pipes;return a.id+=Bt++,a.inputs=qe(n.inputs,s),a.outputs=qe(n.outputs),p&&p.forEach(C=>C(a)),a.directiveDefs=l?()=>("function"==typeof l?l():l).map(vr):null,a.pipeDefs=w?()=>("function"==typeof w?w():w).map(dn):null,a})}function vr(n){return Le(n)||function ft(n){return n[Ce]||null}(n)}function dn(n){return function tn(n){return n[yt]||null}(n)}const Rr={};function qr(n){return gt(()=>{const r={type:n.type,bootstrap:n.bootstrap||ue,declarations:n.declarations||ue,imports:n.imports||ue,exports:n.exports||ue,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Rr[n.id]=n.type),r})}function qe(n,r){if(null==n)return Yn;const s={};for(const a in n)if(n.hasOwnProperty(a)){let l=n[a],p=l;Array.isArray(l)&&(p=l[1],l=l[0]),s[l]=a,r&&(r[l]=p)}return s}const Me=Wt;function ie(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Le(n){return n[ge]||null}function mn(n,r){const s=n[he]||null;if(!s&&!0===r)throw new Error(`Type ${Oe(n)} does not have '\u0275mod' property.`);return s}function ri(n){return Array.isArray(n)&&"object"==typeof n[1]}function di(n){return Array.isArray(n)&&!0===n[1]}function $i(n){return 0!=(8&n.flags)}function Gs(n){return 2==(2&n.flags)}function as(n){return 1==(1&n.flags)}function us(n){return null!==n.template}function ls(n){return 0!=(512&n[2])}function ii(n,r){return n.hasOwnProperty(Pe)?n[Pe]:null}class qs{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function zi(){return wi}function wi(n){return n.type.prototype.ngOnChanges&&(n.setInput=xs),Io}function Io(){const n=Di(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===Yn)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function xs(n,r,s,a){const l=Di(n)||function ro(n,r){return n[Bo]=r}(n,{previous:Yn,current:null}),p=l.current||(l.current={}),w=l.previous,C=this.declaredInputs[s],S=w[C];p[C]=new qs(S&&S.currentValue,r,w===Yn),n[a]=r}zi.ngInherit=!0;const Bo="__ngSimpleChanges__";function Di(n){return n[Bo]||null}let Wi;function cs(n){Wi=n}function bi(){return void 0!==Wi?Wi:"undefined"!=typeof document?document:void 0}function Mr(n){return!!n.listen}const F={createRenderer:(n,r)=>bi()};function k(n){for(;Array.isArray(n);)n=n[0];return n}function at(n,r){return k(r[n])}function ct(n,r){return k(r[n.index])}function Vn(n,r){return n.data[r]}function kn(n,r){const s=r[n];return ri(s)?s:s[0]}function qn(n){return 4==(4&n[2])}function jr(n){return 128==(128&n[2])}function Lr(n,r){return null==r?null:n[r]}function Ki(n){n[18]=0}function Ui(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const An={lFrame:Ho(null),bindingsEnabled:!0};function N(){return An.bindingsEnabled}function me(){return An.lFrame.lView}function Tt(){return An.lFrame.tView}function or(n){return An.lFrame.contextLView=n,n[8]}function rr(){let n=Bi();for(;null!==n&&64===n.type;)n=n.parent;return n}function Bi(){return An.lFrame.currentTNode}function ji(n,r){const s=An.lFrame;s.currentTNode=n,s.isParent=r}function Ws(){return An.lFrame.isParent}function ua(){An.lFrame.isParent=!1}function Ro(){return An.lFrame.bindingIndex++}function ds(n){const r=An.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function oi(n,r){const s=An.lFrame;s.bindingIndex=s.bindingRootIndex=n,Fa(r)}function Fa(n){An.lFrame.currentDirectiveIndex=n}function Ar(n){const r=An.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function ir(){return An.lFrame.currentQueryIndex}function ca(n){An.lFrame.currentQueryIndex=n}function Ta(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function Ca(n,r,s){if(s&sn.SkipSelf){let l=r,p=n;for(;!(l=l.parent,null!==l||s&sn.Host||(l=Ta(p),null===l||(p=p[15],10&l.type))););if(null===l)return!1;r=l,n=p}const a=An.lFrame=La();return a.currentTNode=r,a.lView=n,!0}function xo(n){const r=La(),s=n[1];An.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function La(){const n=An.lFrame,r=null===n?null:n.child;return null===r?Ho(n):r}function Ho(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function oo(){const n=An.lFrame;return An.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Za=oo;function da(){const n=oo();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function hs(){return An.lFrame.selectedIndex}function ha(n){An.lFrame.selectedIndex=n}function ai(){const n=An.lFrame;return Vn(n.tView,n.selectedIndex)}function $o(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const p=n.data[s].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:C,ngAfterViewInit:S,ngAfterViewChecked:$,ngOnDestroy:Z}=p;w&&(n.contentHooks||(n.contentHooks=[])).push(-s,w),C&&((n.contentHooks||(n.contentHooks=[])).push(s,C),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,C)),S&&(n.viewHooks||(n.viewHooks=[])).push(-s,S),$&&((n.viewHooks||(n.viewHooks=[])).push(s,$),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,$)),null!=Z&&(n.destroyHooks||(n.destroyHooks=[])).push(s,Z)}}function ao(n,r,s){Qa(n,r,3,s)}function Po(n,r,s,a){(3&n[2])===s&&Qa(n,r,s,a)}function yr(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function Qa(n,r,s,a){const p=null!=a?a:-1,w=r.length-1;let C=0;for(let S=void 0!==a?65535&n[18]:0;S<w;S++)if("number"==typeof r[S+1]){if(C=r[S],null!=a&&C>=a)break}else r[S]<0&&(n[18]+=65536),(C<p||-1==p)&&(Ua(n,s,r,S),n[18]=(4294901760&n[18])+S+2),S++}function Ua(n,r,s,a){const l=s[a]<0,p=s[a+1],C=n[l?-s[a]:s[a]];if(l){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{p.call(C)}finally{}}}else try{p.call(C)}finally{}}class lo{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function fa(n,r,s){const a=Mr(n);let l=0;for(;l<s.length;){const p=s[l];if("number"==typeof p){if(0!==p)break;l++;const w=s[l++],C=s[l++],S=s[l++];a?n.setAttribute(r,C,S,w):r.setAttributeNS(w,C,S)}else{const w=p,C=s[++l];Vs(w)?a&&n.setProperty(r,w,C):a?n.setAttribute(r,w,C):r.setAttribute(w,C),l++}}return l}function Zs(n){return 3===n||4===n||6===n}function Vs(n){return 64===n.charCodeAt(0)}function Ys(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?s=l:0===s||ja(n,s,l,null,-1===s||2===s?r[++a]:null)}}return n}function ja(n,r,s,a,l){let p=0,w=n.length;if(-1===r)w=-1;else for(;p<n.length;){const C=n[p++];if("number"==typeof C){if(C===r){w=-1;break}if(C>r){w=p-1;break}}}for(;p<n.length;){const C=n[p];if("number"==typeof C)break;if(C===s){if(null===a)return void(null!==l&&(n[p+1]=l));if(a===n[p+1])return void(n[p+2]=l)}p++,null!==a&&p++,null!==l&&p++}-1!==w&&(n.splice(w,0,r),p=w+1),n.splice(p++,0,s),null!==a&&n.splice(p++,0,a),null!==l&&n.splice(p++,0,l)}function Go(n){return-1!==n}function Do(n){return 32767&n}function Ai(n,r){let s=function gi(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let ho=!0;function zo(n){const r=ho;return ho=n,r}let qo=0;function bs(n,r){const s=zr(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,Ft(a.data,n),Ft(r,null),Ft(a.blueprint,null));const l=D(n,r),p=n.injectorIndex;if(Go(l)){const w=Do(l),C=Ai(l,r),S=C[1].data;for(let $=0;$<8;$++)r[p+$]=C[w+$]|S[w+$]}return r[p+8]=l,p}function Ft(n,r){n.push(0,0,0,0,0,0,0,0,r)}function zr(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function D(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,l=r;for(;null!==l;){const p=l[1],w=p.type;if(a=2===w?p.declTNode:1===w?l[6]:null,null===a)return-1;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function T(n,r,s){!function Ha(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(wt)&&(a=s[wt]),null==a&&(a=s[wt]=qo++);const l=255&a;r.data[n+(l>>5)]|=1<<l}(n,r,s)}function M(n,r,s){if(s&sn.Optional)return n;ve(r,"NodeInjector")}function B(n,r,s,a){if(s&sn.Optional&&void 0===a&&(a=null),0==(s&(sn.Self|sn.Host))){const l=n[9],p=wn(void 0);try{return l?l.get(r,a,s&sn.Optional):_i(r,a,s&sn.Optional)}finally{wn(p)}}return M(a,r,s)}function z(n,r,s,a=sn.Default,l){if(null!==n){const p=function an(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(wt)?n[wt]:void 0;return"number"==typeof r?r>=0?255&r:re:r}(s);if("function"==typeof p){if(!Ca(r,n,a))return a&sn.Host?M(l,s,a):B(r,s,a,l);try{const w=p(a);if(null!=w||a&sn.Optional)return w;ve(s)}finally{Za()}}else if("number"==typeof p){let w=null,C=zr(n,r),S=-1,$=a&sn.Host?r[16][6]:null;for((-1===C||a&sn.SkipSelf)&&(S=-1===C?D(n,r):r[C+8],-1!==S&&Tr(a,!1)?(w=r[1],C=Do(S),r=Ai(S,r)):C=-1);-1!==C;){const Z=r[1];if(hr(p,C,Z.data)){const le=st(C,r,s,w,a,$);if(le!==q)return le}S=r[C+8],-1!==S&&Tr(a,r[1].data[C+8]===$)&&hr(p,C,r)?(w=Z,C=Do(S),r=Ai(S,r)):C=-1}}}return B(r,s,a,l)}const q={};function re(){return new Ni(rr(),me())}function st(n,r,s,a,l,p){const w=r[1],C=w.data[n+8],Z=en(C,w,s,null==a?Gs(C)&&ho:a!=w&&0!=(3&C.type),l&sn.Host&&p===C);return null!==Z?$n(r,w,Z,C):q}function en(n,r,s,a,l){const p=n.providerIndexes,w=r.data,C=1048575&p,S=n.directiveStart,Z=p>>20,Re=l?C+Z:n.directiveEnd;for(let Qe=a?C:C+Z;Qe<Re;Qe++){const vt=w[Qe];if(Qe<S&&s===vt||Qe>=S&&vt.type===s)return Qe}if(l){const Qe=w[S];if(Qe&&us(Qe)&&Qe.type===s)return S}return null}function $n(n,r,s,a){let l=n[s];const p=r.data;if(function fs(n){return n instanceof lo}(l)){const w=l;w.resolving&&function Vt(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new ht(-200,`Circular dependency in DI detected for ${n}${s}`)}(dt(p[s]));const C=zo(w.canSeeViewProviders);w.resolving=!0;const S=w.injectImpl?wn(w.injectImpl):null;Ca(n,a,sn.Default);try{l=n[s]=w.factory(void 0,p,n,a),r.firstCreatePass&&s>=a.directiveStart&&function Ya(n,r,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:p}=r.type.prototype;if(a){const w=wi(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,w),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,w)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,l),p&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,p),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,p))}(s,p[s],r)}finally{null!==S&&wn(S),zo(C),w.resolving=!1,Za()}}return l}function hr(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function Tr(n,r){return!(n&sn.Self||n&sn.Host&&r)}class Ni{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return z(this._tNode,this._lView,r,a,s)}}function Zi(n){return gt(()=>{const r=n.prototype.constructor,s=r[Pe]||No(r),a=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==a;){const p=l[Pe]||No(l);if(p&&p!==s)return p;l=Object.getPrototypeOf(l)}return p=>new p})}function No(n){return St(n)?()=>{const r=No(Ve(n));return r&&r()}:ii(n)}function pa(n){return function E(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const p=s[l];if(Zs(p))break;if(0===p)l+=2;else if("number"==typeof p)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(p===r)return s[l+1];l+=2}}}return null}(rr(),n)}const po="__parameters__";function Aa(n,r,s){return gt(()=>{const a=function ga(n){return function(...s){if(n){const a=n(...s);for(const l in a)this[l]=a[l]}}}(r);function l(...p){if(this instanceof l)return a.apply(this,p),this;const w=new l(...p);return C.annotation=w,C;function C(S,$,Z){const le=S.hasOwnProperty(po)?S[po]:Object.defineProperty(S,po,{value:[]})[po];for(;le.length<=Z;)le.push(null);return(le[Z]=le[Z]||[]).push(w),S}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class Xr{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=et({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Xa=new Xr("AnalyzeForEntryComponents");function Ps(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),Ps(a,r)):r!==n&&r.push(a)}return r}function Is(n,r){n.forEach(s=>Array.isArray(s)?Is(s,r):r(s))}function ju(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function go(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function yi(n,r,s){let a=mo(n,r);return a>=0?n[1|a]=s:(a=~a,function zt(n,r,s,a){let l=n.length;if(l==r)n.push(s,a);else if(1===l)n.push(a,n[0]),n[0]=s;else{for(l--,n.push(n[l-1],n[l]);l>r;)n[l]=n[l-2],l--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function Ma(n,r){const s=mo(n,r);if(s>=0)return n[1|s]}function mo(n,r){return function Bs(n,r,s){let a=0,l=n.length>>s;for(;l!==a;){const p=a+(l-a>>1),w=n[p<<s];if(r===w)return p<<s;w>r?l=p:a=p+1}return~(l<<s)}(n,r,1)}const _a={},Ra="__NG_DI_FLAG__",tu="ngTempTokenPath",L=/\n/gm,ae="__source",$e=Ae({provide:String,useValue:Ae});let rt;function At(n){const r=rt;return rt=n,r}function un(n,r=sn.Default){if(void 0===rt)throw new ht(203,"");return null===rt?_i(n,void 0,r):rt.get(n,r&sn.Optional?null:void 0,r)}function cn(n,r=sn.Default){return(function Mn(){return gn}()||un)(Ve(n),r)}const Sr=cn;function xn(n){const r=[];for(let s=0;s<n.length;s++){const a=Ve(n[s]);if(Array.isArray(a)){if(0===a.length)throw new ht(900,"");let l,p=sn.Default;for(let w=0;w<a.length;w++){const C=a[w],S=ar(C);"number"==typeof S?-1===S?l=C.token:p|=S:l=C}r.push(cn(l,p))}else r.push(cn(a))}return r}function gs(n,r){return n[Ra]=r,n.prototype[Ra]=r,n}function ar(n){return n[Ra]}const wr=gs(Aa("Inject",n=>({token:n})),-1),vo=gs(Aa("Optional"),8),Oa=gs(Aa("SkipSelf"),4);let va,Tu;function ru(n){var r;return(null===(r=function Ts(){if(void 0===va&&(va=null,bn.trustedTypes))try{va=bn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return va}())||void 0===r?void 0:r.createHTML(n))||n}function Uc(n){var r;return(null===(r=function Pa(){if(void 0===Tu&&(Tu=null,bn.trustedTypes))try{Tu=bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Tu}())||void 0===r?void 0:r.createHTML(n))||n}class za{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class su extends za{getTypeName(){return"HTML"}}class Fo extends za{getTypeName(){return"Style"}}class fc extends za{getTypeName(){return"Script"}}class Qs extends za{getTypeName(){return"URL"}}class Du extends za{getTypeName(){return"ResourceURL"}}function Lo(n){return n instanceof za?n.changingThisBreaksApplicationSecurity:n}function ou(n,r){const s=Ku(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function Ku(n){return n instanceof za&&n.getTypeName()||null}function Bc(n){return new su(n)}function pc(n){return new Fo(n)}function _l(n){return new fc(n)}function jl(n){return new Qs(n)}function jc(n){return new Du(n)}class Hc{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(ru(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class $c{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=ru(r),s;const a=this.inertDocument.createElement("body");return a.innerHTML=ru(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const s=r.attributes;for(let l=s.length-1;0<l;l--){const w=s.item(l).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&r.removeAttribute(w)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const Zu=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,uu=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Qo(n){return(n=String(n)).match(Zu)||n.match(uu)?n:"unsafe:"+n}function Ns(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function Qu(...n){const r={};for(const s of n)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const Ju=Ns("area,br,col,hr,img,wbr"),Xu=Ns("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zc=Ns("rp,rt"),lu=Qu(Ju,Qu(Xu,Ns("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qu(zc,Ns("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qu(zc,Xu)),Hl=Ns("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),el=Ns("srcset"),mc=Qu(Hl,el,Ns("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ns("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),El=Ns("script,style,template");class qa{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let l=this.checkClobberedElement(s,s.nextSibling);if(l){s=l;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!lu.hasOwnProperty(s))return this.sanitizedSomething=!0,!El.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let l=0;l<a.length;l++){const p=a.item(l),w=p.name,C=w.toLowerCase();if(!mc.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let S=p.value;Hl[C]&&(S=Qo(S)),el[C]&&(n=S,S=(n=String(n)).split(",").map(r=>Qo(r.trim())).join(", ")),this.buf.push(" ",w,'="',g(S),'"')}var n;return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();lu.hasOwnProperty(s)&&!Ju.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(g(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=/([^\#-~ |!])/g;function g(n){return n.replace(/&/g,"&amp;").replace(y,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(c,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let b;function x(n,r){let s=null;try{b=b||function au(n){const r=new $c(n);return function Gc(){try{return!!(new window.DOMParser).parseFromString(ru(""),"text/html")}catch(n){return!1}}()?new Hc(r):r}(n);let a=r?String(r):"";s=b.getInertBodyElement(a);let l=5,p=a;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,a=p,p=s.innerHTML,s=b.getInertBodyElement(a)}while(a!==p);return ru((new qa).sanitizeChildren(j(s)||s))}finally{if(s){const a=j(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function j(n){return"content"in n&&function ee(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ne=(()=>((ne=ne||{})[ne.NONE=0]="NONE",ne[ne.HTML=1]="HTML",ne[ne.STYLE=2]="STYLE",ne[ne.SCRIPT=3]="SCRIPT",ne[ne.URL=4]="URL",ne[ne.RESOURCE_URL=5]="RESOURCE_URL",ne))();function ye(n){const r=Cr();return r?Uc(r.sanitize(ne.HTML,n)||""):ou(n,"HTML")?Uc(Lo(n)):x(bi(),Ze(n))}function bt(n){const r=Cr();return r?r.sanitize(ne.URL,n)||"":ou(n,"URL")?Lo(n):Qo(Ze(n))}function Cr(){const n=me();return n&&n[12]}const Ii="__ngContext__";function Pr(n,r){n[Ii]=r}function Jo(n){const r=function As(n){return n[Ii]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function Eo(n){return n.ngOriginalError}function zl(n,...r){n.error(...r)}class wl{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),a=function Vr(n){return n&&n.ngErrorLogger||zl}(r);a(this._console,"ERROR",r),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Eo(r);for(;s&&Eo(s);)s=Eo(s);return s||null}}const Kc=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(bn))();function _(n){return n instanceof Function?n():n}var te=(()=>((te=te||{})[te.Important=1]="Important",te[te.DashCase=2]="DashCase",te))();function ut(n,r){return undefined(n,r)}function En(n){const r=n[3];return di(r)?r[3]:r}function ea(n){return Pd(n[13])}function Wl(n){return Pd(n[4])}function Pd(n){for(;null!==n&&!di(n);)n=n[4];return n}function bl(n,r,s,a,l){if(null!=a){let p,w=!1;di(a)?p=a:ri(a)&&(w=!0,a=a[0]);const C=k(a);0===n&&null!==s?null==l?du(r,s,C):rl(r,s,C,l||null,!0):1===n&&null!==s?rl(r,s,C,l||null,!0):2===n?function Zf(n,r,s){const a=il(n,r);a&&function Fd(n,r,s,a){Mr(n)?n.removeChild(r,s,a):r.removeChild(s)}(n,a,r,s)}(r,C,w):3===n&&r.destroyNode(C),null!=p&&function _c(n,r,s,a,l){const p=s[7];p!==k(s)&&bl(r,n,a,p,l);for(let C=10;C<s.length;C++){const S=s[C];ed(S[1],S,n,r,a,p)}}(r,n,p,s,l)}}function Qc(n,r,s){if(Mr(n))return n.createElement(r,s);{const a=null!==s?function so(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(s):null;return null===a?n.createElement(r):n.createElementNS(a,r)}}function Dg(n,r){const s=n[9],a=s.indexOf(r),l=r[3];1024&r[2]&&(r[2]&=-1025,Ui(l,-1)),s.splice(a,1)}function Ah(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const l=a[17];null!==l&&l!==n&&Dg(l,a),r>0&&(n[s-1][4]=a[4]);const p=go(n,10+r);!function Nd(n,r){ed(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const w=p[19];null!==w&&w.detachView(p[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Ag(n,r){if(!(256&r[2])){const s=r[11];Mr(s)&&s.destroyNode&&ed(n,r,s,3,null,null),function kd(n){let r=n[13];if(!r)return Sh(n[1],n);for(;r;){let s=null;if(ri(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)ri(r)&&Sh(r[1],r),r=r[3];null===r&&(r=n),ri(r)&&Sh(r[1],r),s=r&&r[4]}r=s}}(r)}}function Sh(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Sg(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const l=r[s[a]];if(!(l instanceof lo)){const p=s[a+1];if(Array.isArray(p))for(let w=0;w<p.length;w+=2){const C=l[p[w]],S=p[w+1];try{S.call(C)}finally{}}else try{p.call(l)}finally{}}}}(n,r),function By(n,r){const s=n.cleanup,a=r[7];let l=-1;if(null!==s)for(let p=0;p<s.length-1;p+=2)if("string"==typeof s[p]){const w=s[p+1],C="function"==typeof w?w(r):k(r[w]),S=a[l=s[p+2]],$=s[p+3];"boolean"==typeof $?C.removeEventListener(s[p],S,$):$>=0?a[l=$]():a[l=-$].unsubscribe(),p+=2}else{const w=a[l=s[p+1]];s[p].call(w)}if(null!==a){for(let p=l+1;p<a.length;p++)a[p]();r[7]=null}}(n,r),1===r[1].type&&Mr(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&di(r[3])){s!==r[3]&&Dg(s,r);const a=r[19];null!==a&&a.detachView(n)}}}function Wf(n,r,s){return function pt(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const l=n.data[a.directiveStart].encapsulation;if(l===He.None||l===He.Emulated)return null}return ct(a,s)}(n,r.parent,s)}function rl(n,r,s,a,l){Mr(n)?n.insertBefore(r,s,a,l):r.insertBefore(s,a,l)}function du(n,r,s){Mr(n)?n.appendChild(r,s):r.appendChild(s)}function Mg(n,r,s,a,l){null!==a?rl(n,r,s,a,l):du(n,r,s)}function il(n,r){return Mr(n)?n.parentNode(r):r.parentNode}let Mh=function Kf(n,r,s){return 40&n.type?ct(n,s):null};function Jc(n,r,s,a){const l=Wf(n,a,r),p=r[11],C=function Kl(n,r,s){return Mh(n,r,s)}(a.parent||r[6],a,r);if(null!=l)if(Array.isArray(s))for(let S=0;S<s.length;S++)Mg(p,l,s[S],C,!1);else Mg(p,l,s,C,!1)}function Xc(n,r){if(null!==r){const s=r.type;if(3&s)return ct(r,n);if(4&s)return sl(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return Xc(n,a);{const l=n[r.index];return di(l)?sl(-1,l):k(l)}}if(32&s)return ut(r,n)()||k(n[r.index]);{const a=xh(n,r);return null!==a?Array.isArray(a)?a[0]:Xc(En(n[16]),a):Xc(n,r.next)}}return null}function xh(n,r){return null!==r?n[16][6].projection[r.projection]:null}function sl(n,r){const s=10+n+1;if(s<r.length){const a=r[s],l=a[1].firstChild;if(null!==l)return Xc(a,l)}return r[7]}function Yf(n,r,s,a,l,p,w){for(;null!=s;){const C=a[s.index],S=s.type;if(w&&0===r&&(C&&Pr(k(C),a),s.flags|=4),64!=(64&s.flags))if(8&S)Yf(n,r,s.child,a,l,p,!1),bl(r,n,l,C,p);else if(32&S){const $=ut(s,a);let Z;for(;Z=$();)bl(r,n,l,Z,p);bl(r,n,l,C,p)}else 16&S?Zl(n,r,a,s,l,p):bl(r,n,l,C,p);s=w?s.projectionNext:s.next}}function ed(n,r,s,a,l,p){Yf(s,a,n.firstChild,r,l,p,!1)}function Zl(n,r,s,a,l,p){const w=s[16],S=w[6].projection[a.projection];if(Array.isArray(S))for(let $=0;$<S.length;$++)bl(r,n,l,S[$],p);else Yf(n,r,S,w[3],l,p,!0)}function nd(n,r,s){Mr(n)?n.setAttribute(r,"style",s):r.style.cssText=s}function Ph(n,r,s){Mr(n)?""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s):r.className=s}function Nh(n,r,s){let a=n.length;for(;;){const l=n.indexOf(r,s);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const p=r.length;if(l+p===a||n.charCodeAt(l+p)<=32)return l}s=l+1}}const Qf="ng-template";function Hy(n,r,s){let a=0;for(;a<n.length;){let l=n[a++];if(s&&"class"===l){if(l=n[a],-1!==Nh(l.toLowerCase(),r,0))return!0}else if(1===l){for(;a<n.length&&"string"==typeof(l=n[a++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function Jf(n){return 4===n.type&&n.value!==Qf}function xg(n,r,s){return r===(4!==n.type||s?n.value:Qf)}function Xf(n,r,s){let a=4;const l=n.attrs||[],p=function $y(n){for(let r=0;r<n.length;r++)if(Zs(n[r]))return r;return n.length}(l);let w=!1;for(let C=0;C<r.length;C++){const S=r[C];if("number"!=typeof S){if(!w)if(4&a){if(a=2|1&a,""!==S&&!xg(n,S,s)||""===S&&1===r.length){if(wa(a))return!1;w=!0}}else{const $=8&a?S:r[++C];if(8&a&&null!==n.attrs){if(!Hy(n.attrs,$,s)){if(wa(a))return!1;w=!0}continue}const le=vc(8&a?"class":S,l,Jf(n),s);if(-1===le){if(wa(a))return!1;w=!0;continue}if(""!==$){let Re;Re=le>p?"":l[le+1].toLowerCase();const Qe=8&a?Re:null;if(Qe&&-1!==Nh(Qe,$,0)||2&a&&$!==Re){if(wa(a))return!1;w=!0}}}}else{if(!w&&!wa(a)&&!wa(S))return!1;if(w&&wa(S))continue;w=!1,a=S|1&a}}return wa(a)||w}function wa(n){return 0==(1&n)}function vc(n,r,s,a){if(null===r)return-1;let l=0;if(a||!s){let p=!1;for(;l<r.length;){const w=r[l];if(w===n)return l;if(3===w||6===w)p=!0;else{if(1===w||2===w){let C=r[++l];for(;"string"==typeof C;)C=r[++l];continue}if(4===w)break;if(0===w){l+=4;continue}}l+=p?1:2}return-1}return function Gy(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function Og(n,r,s=!1){for(let a=0;a<r.length;a++)if(Xf(n,r[a],s))return!0;return!1}function rd(n,r){return n?":not("+r.trim()+")":r}function Ec(n){let r=n[0],s=1,a=2,l="",p=!1;for(;s<n.length;){let w=n[s];if("string"==typeof w)if(2&a){const C=n[++s];l+="["+w+(C.length>0?'="'+C+'"':"")+"]"}else 8&a?l+="."+w:4&a&&(l+=" "+w);else""!==l&&!wa(w)&&(r+=rd(p,l),l=""),a=w,p=p||!wa(a);s++}return""!==l&&(r+=rd(p,l)),r}const ur={};function kg(n){kh(Tt(),me(),hs()+n,!1)}function kh(n,r,s,a){if(!a)if(3==(3&r[2])){const p=n.preOrderCheckHooks;null!==p&&ao(r,p,s)}else{const p=n.preOrderHooks;null!==p&&Po(r,p,0,s)}ha(s)}function Fh(n,r){return n<<17|r<<2}function hu(n){return n>>17&32767}function sd(n){return 2|n}function ol(n){return(131068&n)>>2}function ta(n,r){return-131069&n|r<<2}function od(n){return 1|n}function qg(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],p=s[a+1];if(-1!==p){const w=n.data[p];ca(l),w.contentQueries(2,r[p],p)}}}function Tc(n,r,s,a,l,p,w,C,S,$){const Z=r.blueprint.slice();return Z[0]=l,Z[2]=140|a,Ki(Z),Z[3]=Z[15]=n,Z[8]=s,Z[10]=w||n&&n[10],Z[11]=C||n&&n[11],Z[12]=S||n&&n[12]||null,Z[9]=$||n&&n[9]||null,Z[6]=p,Z[16]=2==r.type?n[16]:Z,Z}function Cl(n,r,s,a,l){let p=n.data[r];if(null===p)p=function $h(n,r,s,a,l){const p=Bi(),w=Ws(),S=n.data[r]=function t_(n,r,s,a,l,p){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?p:p&&p.parent,s,r,a,l);return null===n.firstChild&&(n.firstChild=S),null!==p&&(w?null==p.child&&null!==S.parent&&(p.child=S):null===p.next&&(p.next=S)),S}(n,r,s,a,l),function la(){return An.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=s,p.value=a,p.attrs=l;const w=function Es(){const n=An.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();p.injectorIndex=null===w?-1:w.injectorIndex}return ji(p,!0),p}function Cc(n,r,s,a){if(0===s)return-1;const l=r.length;for(let p=0;p<s;p++)r.push(a),n.blueprint.push(a),n.data.push(null);return l}function cd(n,r,s){xo(r);try{const a=n.viewQuery;null!==a&&fd(1,a,s);const l=n.template;null!==l&&Wg(n,r,l,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&qg(n,r),n.staticViewQueries&&fd(2,n.viewQuery,s);const p=n.components;null!==p&&function ld(n,r){for(let s=0;s<r.length;s++)_p(n,r[s])}(r,p)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,da()}}function dd(n,r,s,a){const l=r[2];if(256!=(256&l)){xo(r);try{Ki(r),function Ia(n){return An.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Wg(n,r,s,2,a);const w=3==(3&l);if(w){const $=n.preOrderCheckHooks;null!==$&&ao(r,$,null)}else{const $=n.preOrderHooks;null!==$&&Po(r,$,0,null),yr(r,0)}if(function Gd(n){for(let r=ea(n);null!==r;r=Wl(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const l=s[a],p=l[3];0==(1024&l[2])&&Ui(p,1),l[2]|=1024}}}(r),function Qh(n){for(let r=ea(n);null!==r;r=Wl(r))for(let s=10;s<r.length;s++){const a=r[s],l=a[1];jr(a)&&dd(l,a,l.template,a[8])}}(r),null!==n.contentQueries&&qg(n,r),w){const $=n.contentCheckHooks;null!==$&&ao(r,$)}else{const $=n.contentHooks;null!==$&&Po(r,$,1),yr(r,1)}!function zg(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)ha(~l);else{const p=l,w=s[++a],C=s[++a];oi(w,p),C(2,r[p])}}}finally{ha(-1)}}(n,r);const C=n.components;null!==C&&function ud(n,r){for(let s=0;s<r.length;s++)yp(n,r[s])}(r,C);const S=n.viewQuery;if(null!==S&&fd(2,S,a),w){const $=n.viewCheckHooks;null!==$&&ao(r,$)}else{const $=n.viewHooks;null!==$&&Po(r,$,2),yr(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-73,1024&r[2]&&(r[2]&=-1025,Ui(r[3],-1))}finally{da()}}}function ap(n,r,s,a){const l=r[10],w=qn(r);try{!w&&l.begin&&l.begin(),w&&cd(n,r,a),dd(n,r,s,a)}finally{!w&&l.end&&l.end()}}function Wg(n,r,s,a,l){const p=hs(),w=2&a;try{ha(-1),w&&r.length>20&&kh(n,r,20,!1),s(a,l)}finally{ha(p)}}function Gh(n,r,s){if($i(r)){const l=r.directiveEnd;for(let p=r.directiveStart;p<l;p++){const w=n.data[p];w.contentQueries&&w.contentQueries(1,s[p],p)}}}function up(n,r,s){!N()||(function r_(n,r,s,a){const l=s.directiveStart,p=s.directiveEnd;n.firstCreatePass||bs(s,r),Pr(a,r);const w=s.initialInputs;for(let C=l;C<p;C++){const S=n.data[C],$=us(S);$&&s_(r,s,S);const Z=$n(r,n,C,s);Pr(Z,r),null!==w&&Hd(0,C-l,Z,S,0,w),$&&(kn(s.index,r)[8]=Z)}}(n,r,s,ct(s,r)),128==(128&s.flags)&&function i_(n,r,s){const a=s.directiveStart,l=s.directiveEnd,w=s.index,C=function Ka(){return An.lFrame.currentDirectiveIndex}();try{ha(w);for(let S=a;S<l;S++){const $=n.data[S],Z=r[S];Fa(S),(null!==$.hostBindings||0!==$.hostVars||null!==$.hostAttrs)&&fp($,Z)}}finally{ha(-1),Fa(C)}}(n,r,s))}function lp(n,r,s=ct){const a=r.localNames;if(null!==a){let l=r.index+1;for(let p=0;p<a.length;p+=2){const w=a[p+1],C=-1===w?s(r,n):n[w];n[l++]=C}}}function zh(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Hs(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Hs(n,r,s,a,l,p,w,C,S,$){const Z=20+a,le=Z+l,Re=function e_(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:ur);return s}(Z,le),Qe="function"==typeof $?$():$;return Re[1]={type:n,blueprint:Re,template:s,queries:null,viewQuery:C,declTNode:r,data:Re.slice().fill(null,Z),bindingStartIndex:Z,expandoStartIndex:le,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:S,consts:Qe,incompleteFirstPass:!1}}function Yg(n,r,s,a){const l=Dc(r);null===s?l.push(a):(l.push(s),n.firstCreatePass&&tf(n).push(a,l.length-1))}function qh(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const l=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,l):s[a]=[r,l]}return s}function ba(n,r,s,a,l,p,w,C){const S=ct(r,s);let Z,$=r.inputs;!C&&null!=$&&(Z=$[a])?(wp(n,s,Z,a,l),Gs(r)&&function Wh(n,r){const s=kn(r,n);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(a=function Jg(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),l=null!=w?w(l,r.value||"",a):l,Mr(p)?p.setProperty(S,a,l):Vs(a)||(S.setProperty?S.setProperty(a,l):S[a]=l))}function dp(n,r,s,a){let l=!1;if(N()){const p=function Zh(n,r,s){const a=n.directiveRegistry;let l=null;if(a)for(let p=0;p<a.length;p++){const w=a[p];Og(s,w.selectors,!1)&&(l||(l=[]),T(bs(s,r),n,w.type),us(w)?(hd(n,s),l.unshift(w)):l.push(w))}return l}(n,r,s),w=null===a?null:{"":-1};if(null!==p){l=!0,rm(s,n.data.length,p.length);for(let Z=0;Z<p.length;Z++){const le=p[Z];le.providersResolver&&le.providersResolver(le)}let C=!1,S=!1,$=Cc(n,r,p.length,null);for(let Z=0;Z<p.length;Z++){const le=p[Z];s.mergedAttrs=Ys(s.mergedAttrs,le.hostAttrs),im(n,s,r,$,le),nm($,le,w),null!==le.contentQueries&&(s.flags|=8),(null!==le.hostBindings||null!==le.hostAttrs||0!==le.hostVars)&&(s.flags|=128);const Re=le.type.prototype;!C&&(Re.ngOnChanges||Re.ngOnInit||Re.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),C=!0),!S&&(Re.ngOnChanges||Re.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),S=!0),$++}!function Qg(n,r){const a=r.directiveEnd,l=n.data,p=r.attrs,w=[];let C=null,S=null;for(let $=r.directiveStart;$<a;$++){const Z=l[$],le=Z.inputs,Re=null===p||Jf(r)?null:mp(le,p);w.push(Re),C=qh(le,$,C),S=qh(Z.outputs,$,S)}null!==C&&(C.hasOwnProperty("class")&&(r.flags|=16),C.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=w,r.inputs=C,r.outputs=S}(n,s)}w&&function pp(n,r,s){if(r){const a=n.localNames=[];for(let l=0;l<r.length;l+=2){const p=s[r[l+1]];if(null==p)throw new ht(-301,!1);a.push(r[l],p)}}}(s,a,w)}return s.mergedAttrs=Ys(s.mergedAttrs,s.attrs),l}function hp(n,r,s,a,l,p){const w=p.hostBindings;if(w){let C=n.hostBindingOpCodes;null===C&&(C=n.hostBindingOpCodes=[]);const S=~r.index;(function n_(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(C)!=S&&C.push(S),C.push(a,l,w)}}function fp(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function hd(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function nm(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;us(r)&&(s[""]=n)}}function rm(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function im(n,r,s,a,l){n.data[a]=l;const p=l.factory||(l.factory=ii(l.type)),w=new lo(p,us(l),null);n.blueprint[a]=w,s[a]=w,hp(n,r,0,a,Cc(n,s,l.hostVars,ur),l)}function s_(n,r,s){const a=ct(r,n),l=zh(s),p=n[10],w=Mu(n,Tc(n,l,null,s.onPush?64:16,a,r,p,p.createRenderer(a,s),null,null));n[r.index]=w}function ul(n,r,s,a,l,p){const w=ct(n,r);!function gp(n,r,s,a,l,p,w){if(null==p)Mr(n)?n.removeAttribute(r,l,s):r.removeAttribute(l);else{const C=null==w?Ze(p):w(p,a||"",l);Mr(n)?n.setAttribute(r,l,C,s):s?r.setAttributeNS(s,l,C):r.setAttribute(l,C)}}(r[11],w,p,n.value,s,a,l)}function Hd(n,r,s,a,l,p){const w=p[r];if(null!==w){const C=a.setInput;for(let S=0;S<w.length;){const $=w[S++],Z=w[S++],le=w[S++];null!==C?a.setInput(s,le,$,Z):s[Z]=le}}}function mp(n,r){let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;n.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,n[l],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Yh(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function yp(n,r){const s=kn(r,n);if(jr(s)){const a=s[1];80&s[2]?dd(a,s,a.template,s[8]):s[5]>0&&Jh(s)}}function Jh(n){for(let a=ea(n);null!==a;a=Wl(a))for(let l=10;l<a.length;l++){const p=a[l];if(1024&p[2]){const w=p[1];dd(w,p,w.template,p[8])}else p[5]>0&&Jh(p)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=kn(s[a],n);jr(l)&&l[5]>0&&Jh(l)}}function _p(n,r){const s=kn(r,n),a=s[1];(function vp(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),cd(a,s,s[8])}function Mu(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Xh(n){for(;n;){n[2]|=64;const r=En(n);if(ls(n)&&!r)return n;n=r}return null}function ef(n){!function zd(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],a=Jo(s),l=a[1];ap(l,a,l.template,s)}}(n[8])}function fd(n,r,s){ca(0),r(n,s)}const am=(()=>Promise.resolve(null))();function Dc(n){return n[7]||(n[7]=[])}function tf(n){return n.cleanup||(n.cleanup=[])}function lm(n,r){const s=n[9],a=s?s.get(wl,null):null;a&&a.handleError(r)}function wp(n,r,s,a,l){for(let p=0;p<s.length;){const w=s[p++],C=s[p++],S=r[w],$=n.data[w];null!==$.setInput?$.setInput(S,l,a,C):S[C]=l}}function ll(n,r,s){const a=at(r,n);!function Yc(n,r,s){Mr(n)?n.setValue(r,s):r.textContent=s}(n[11],a,s)}function nf(n,r,s){let a=s?n.styles:null,l=s?n.classes:null,p=0;if(null!==r)for(let w=0;w<r.length;w++){const C=r[w];"number"==typeof C?p=C:1==p?l=je(l,C):2==p&&(a=je(a,C+": "+r[++w]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=l:n.classesWithoutHost=l}const Ip=new Xr("INJECTOR",-1);class rf{get(r,s=_a){if(s===_a){const a=new Error(`NullInjectorError: No provider for ${Oe(r)}!`);throw a.name="NullInjectorError",a}return s}}const Tp=new Xr("Set Injector scope."),Ac={},dm={};let qd;function sf(){return void 0===qd&&(qd=new rf),qd}function af(n,r=null,s=null,a){const l=Sc(n,r,s,a);return l._resolveInjectorDefTypes(),l}function Sc(n,r=null,s=null,a){return new Jl(n,s,r||sf(),a)}class Jl{constructor(r,s,a,l=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];s&&Is(s,C=>this.processProvider(C,r,s)),Is([r],C=>this.processInjectorType(C,[],p)),this.records.set(Ip,Ru(void 0,this));const w=this.records.get(Tp);this.scope=null!=w?w.value:null,this.source=l||("object"==typeof r?null:Oe(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=_a,a=sn.Default){this.assertNotDestroyed();const l=At(this),p=wn(void 0);try{if(!(a&sn.SkipSelf)){let C=this.records.get(r);if(void 0===C){const S=function c_(n){return"function"==typeof n||"object"==typeof n&&n instanceof Xr}(r)&&Dt(r);C=S&&this.injectableDefInScope(S)?Ru(Wd(r),Ac):null,this.records.set(r,C)}if(null!=C)return this.hydrate(r,C)}return(a&sn.Self?sf():this.parent).get(r,s=a&sn.Optional&&s===_a?null:s)}catch(w){if("NullInjectorError"===w.name){if((w[tu]=w[tu]||[]).unshift(Oe(r)),l)throw w;return function xa(n,r,s,a){const l=n[tu];throw r[ae]&&l.unshift(r[ae]),n.message=function Si(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let l=Oe(r);if(Array.isArray(r))l=r.map(Oe).join(" -> ");else if("object"==typeof r){let p=[];for(let w in r)if(r.hasOwnProperty(w)){let C=r[w];p.push(w+":"+("string"==typeof C?JSON.stringify(C):Oe(C)))}l=`{${p.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${n.replace(L,"\n  ")}`}("\n"+n.message,l,s,a),n.ngTokenPath=l,n[tu]=null,n}(w,r,"R3InjectorError",this.source)}throw w}finally{wn(p),At(l)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((a,l)=>r.push(Oe(l))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ht(205,!1)}processInjectorType(r,s,a){if(!(r=Ve(r)))return!1;let l=Zn(r);const p=null==l&&r.ngModule||void 0,w=void 0===p?r:p,C=-1!==a.indexOf(w);if(void 0!==p&&(l=Zn(p)),null==l)return!1;if(null!=l.imports&&!C){let Z;a.push(w);try{Is(l.imports,le=>{this.processInjectorType(le,s,a)&&(void 0===Z&&(Z=[]),Z.push(le))})}finally{}if(void 0!==Z)for(let le=0;le<Z.length;le++){const{ngModule:Re,providers:Qe}=Z[le];Is(Qe,vt=>this.processProvider(vt,Re,Qe||ue))}}this.injectorDefTypes.add(w);const S=ii(w)||(()=>new w);this.records.set(w,Ru(S,Ac));const $=l.providers;if(null!=$&&!C){const Z=r;Is($,le=>this.processProvider(le,Z,$))}return void 0!==p&&void 0!==r.providers}processProvider(r,s,a){let l=Xl(r=Ve(r))?r:Ve(r&&r.provide);const p=function gd(n,r,s){return hm(n)?Ru(void 0,n.useValue):Ru(Cp(n),Ac)}(r);if(Xl(r)||!0!==r.multi)this.records.get(l);else{let w=this.records.get(l);w||(w=Ru(void 0,Ac,!0),w.factory=()=>xn(w.multi),this.records.set(l,w)),l=r,w.multi.push(r)}this.records.set(l,p)}hydrate(r,s){return s.value===Ac&&(s.value=dm,s.value=s.factory()),"object"==typeof s.value&&s.value&&function l_(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Ve(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Wd(n){const r=Dt(n),s=null!==r?r.factory:ii(n);if(null!==s)return s;if(n instanceof Xr)throw new ht(204,!1);if(n instanceof Function)return function pd(n){const r=n.length;if(r>0)throw function Ao(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}(r,"?"),new ht(204,!1);const s=function Pn(n){const r=n&&(n[pr]||n[sr]);if(r){const s=function Wn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new ht(204,!1)}function Cp(n,r,s){let a;if(Xl(n)){const l=Ve(n);return ii(l)||Wd(l)}if(hm(n))a=()=>Ve(n.useValue);else if(function Dp(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...xn(n.deps||[]));else if(function u_(n){return!(!n||!n.useExisting)}(n))a=()=>cn(Ve(n.useExisting));else{const l=Ve(n&&(n.useClass||n.provide));if(!function Sp(n){return!!n.deps}(n))return ii(l)||Wd(l);a=()=>new l(...xn(n.deps))}return a}function Ru(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function hm(n){return null!==n&&"object"==typeof n&&$e in n}function Xl(n){return"function"==typeof n}let fu=(()=>{class n{static create(s,a){var l;if(Array.isArray(s))return af({name:""},a,s,"");{const p=null!==(l=s.name)&&void 0!==l?l:"";return af({name:p},s.parent,s.providers,p)}}}return n.THROW_IF_NOT_FOUND=_a,n.NULL=new rf,n.\u0275prov=et({token:n,providedIn:"any",factory:()=>cn(Ip)}),n.__NG_ELEMENT_ID__=-1,n})();function Np(n,r){$o(Jo(n)[1],rr())}function Yd(n){let r=function cf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let l;if(us(n))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ht(903,"");l=r.\u0275dir}if(l){if(s){a.push(l);const w=n;w.inputs=ec(n.inputs),w.declaredInputs=ec(n.declaredInputs),w.outputs=ec(n.outputs);const C=l.hostBindings;C&&f_(n,C);const S=l.viewQuery,$=l.contentQueries;if(S&&Cm(n,S),$&&Fp(n,$),Ue(n.inputs,l.inputs),Ue(n.declaredInputs,l.declaredInputs),Ue(n.outputs,l.outputs),us(l)&&l.data.animation){const Z=n.data;Z.animation=(Z.animation||[]).concat(l.data.animation)}}const p=l.features;if(p)for(let w=0;w<p.length;w++){const C=p[w];C&&C.ngInherit&&C(n),C===Yd&&(s=!1)}}r=Object.getPrototypeOf(r)}!function kp(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const l=n[a];l.hostVars=r+=l.hostVars,l.hostAttrs=Ys(l.hostAttrs,s=Ys(s,l.hostAttrs))}}(a)}function ec(n){return n===Yn?{}:n===ue?[]:n}function Cm(n,r){const s=n.viewQuery;n.viewQuery=s?(a,l)=>{r(a,l),s(a,l)}:r}function Fp(n,r){const s=n.contentQueries;n.contentQueries=s?(a,l,p)=>{r(a,l,p),s(a,l,p)}:r}function f_(n,r){const s=n.hostBindings;n.hostBindings=s?(a,l)=>{r(a,l),s(a,l)}:r}let df=null;function tc(){if(!df){const n=bn.Symbol;if(n&&n.iterator)df=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(df=a)}}}return df}function Qd(n){return!!Jd(n)&&(Array.isArray(n)||!(n instanceof Map)&&tc()in n)}function Jd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function na(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function hf(n,r,s,a){const l=me();return na(l,Ro(),r)&&(Tt(),ul(ai(),l,n,r,s,a)),hf}function pf(n,r,s,a,l,p,w,C){const S=me(),$=Tt(),Z=n+20,le=$.firstCreatePass?function xm(n,r,s,a,l,p,w,C,S){const $=r.consts,Z=Cl(r,n,4,w||null,Lr($,C));dp(r,s,Z,Lr($,S)),$o(r,Z);const le=Z.tViews=Hs(2,Z,a,l,p,r.directiveRegistry,r.pipeRegistry,null,r.schemas,$);return null!==r.queries&&(r.queries.template(r,Z),le.queries=r.queries.embeddedTView(Z)),Z}(Z,$,S,r,s,a,l,p,w):$.data[Z];ji(le,!1);const Re=S[11].createComment("");Jc($,S,Re,le),Pr(Re,S),Mu(S,S[Z]=Yh(Re,S,Re,le)),as(le)&&up($,S,le),null!=w&&lp(S,le,C)}function ih(n,r=sn.Default){const s=me();return null===s?cn(n,r):z(rr(),s,Ve(n),r)}function rs(){throw new Error("invalid")}function Bm(n,r,s){const a=me();return na(a,Ro(),r)&&ba(Tt(),ai(),a,n,r,a[11],s,!1),Bm}function jm(n,r,s,a,l){const w=l?"class":"style";wp(n,s,r.inputs[w],w,a)}function sh(n,r,s,a){const l=me(),p=Tt(),w=20+n,C=l[11],S=l[w]=Qc(C,r,function gl(){return An.lFrame.currentNamespace}()),$=p.firstCreatePass?function Js(n,r,s,a,l,p,w){const C=r.consts,$=Cl(r,n,2,l,Lr(C,p));return dp(r,s,$,Lr(C,w)),null!==$.attrs&&nf($,$.attrs,!1),null!==$.mergedAttrs&&nf($,$.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,$),$}(w,p,l,0,r,s,a):p.data[w];ji($,!0);const Z=$.mergedAttrs;null!==Z&&fa(C,S,Z);const le=$.classes;null!==le&&Ph(C,S,le);const Re=$.styles;return null!==Re&&nd(C,S,Re),64!=(64&$.flags)&&Jc(p,l,S,$),0===function Co(){return An.lFrame.elementDepthCount}()&&Pr(S,l),function aa(){An.lFrame.elementDepthCount++}(),as($)&&(up(p,l,$),Gh(p,$,l)),null!==a&&lp(l,$),sh}function Ef(){let n=rr();Ws()?ua():(n=n.parent,ji(n,!1));const r=n;!function V(){An.lFrame.elementDepthCount--}();const s=Tt();return s.firstCreatePass&&($o(s,n),$i(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Bu(n){return 0!=(16&n.flags)}(r)&&jm(s,r,me(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Ba(n){return 0!=(32&n.flags)}(r)&&jm(s,r,me(),r.stylesWithoutHost,!1),Ef}function eg(n,r,s,a){return sh(n,r,s,a),Ef(),eg}function wf(n,r,s){const a=me(),l=Tt(),p=n+20,w=l.firstCreatePass?function T_(n,r,s,a,l){const p=r.consts,w=Lr(p,a),C=Cl(r,n,8,"ng-container",w);return null!==w&&nf(C,w,!0),dp(r,s,C,Lr(p,l)),null!==r.queries&&r.queries.elementStart(r,C),C}(p,l,a,r,s):l.data[p];ji(w,!0);const C=a[p]=a[11].createComment("");return Jc(l,a,C,w),Pr(C,a),as(w)&&(up(l,a,w),Gh(l,w,a)),null!=s&&lp(a,w),wf}function bf(){let n=rr();const r=Tt();return Ws()?ua():(n=n.parent,ji(n,!1)),r.firstCreatePass&&($o(r,n),$i(n)&&r.queries.elementEnd(n)),bf}function C_(){return me()}function tg(n){return!!n&&"function"==typeof n.then}function $m(n){return!!n&&"function"==typeof n.subscribe}const ng=$m;function Ou(n,r,s,a){const l=me(),p=Tt(),w=rr();return function oc(n,r,s,a,l,p,w,C){const S=as(a),Z=n.firstCreatePass&&tf(n),le=r[8],Re=Dc(r);let Qe=!0;if(3&a.type||C){const nn=ct(a,r),Dn=C?C(nn):nn,xt=Re.length,zn=C?$r=>C(k($r[a.index])):a.index;if(Mr(s)){let $r=null;if(!C&&S&&($r=function dl(n,r,s,a){const l=n.cleanup;if(null!=l)for(let p=0;p<l.length-1;p+=2){const w=l[p];if(w===s&&l[p+1]===a){const C=r[7],S=l[p+2];return C.length>S?C[S]:null}"string"==typeof w&&(p+=2)}return null}(n,r,l,a.index)),null!==$r)($r.__ngLastListenerFn__||$r).__ngNextListenerFn__=p,$r.__ngLastListenerFn__=p,Qe=!1;else{p=rg(a,r,le,p,!1);const Mi=s.listen(Dn,l,p);Re.push(p,Mi),Z&&Z.push(l,zn,xt,xt+1)}}else p=rg(a,r,le,p,!0),Dn.addEventListener(l,p,w),Re.push(p),Z&&Z.push(l,zn,xt,w)}else p=rg(a,r,le,p,!1);const vt=a.outputs;let qt;if(Qe&&null!==vt&&(qt=vt[l])){const nn=qt.length;if(nn)for(let Dn=0;Dn<nn;Dn+=2){const Nu=r[qt[Dn]][qt[Dn+1]].subscribe(p),yh=Re.length;Re.push(p,Nu),Z&&Z.push(l,a.index,yh,-(yh+1))}}}(p,l,l[11],w,n,r,!!s,a),Ou}function oh(n,r,s,a){try{return!1!==s(a)}catch(l){return lm(n,l),!1}}function rg(n,r,s,a,l){return function p(w){if(w===Function)return a;const C=2&n.flags?kn(n.index,r):r;0==(32&r[2])&&Xh(C);let S=oh(r,0,a,w),$=p.__ngNextListenerFn__;for(;$;)S=oh(r,0,$,w)&&S,$=$.__ngNextListenerFn__;return l&&!1===S&&(w.preventDefault(),w.returnValue=!1),S}}function Gm(n=1){return function _u(n){return(An.lFrame.contextLView=function Oo(n,r){for(;n>0;)r=r[15],n--;return r}(n,An.lFrame.contextLView))[8]}(n)}function sg(n,r,s,a,l){const p=n[s+1],w=null===r;let C=a?hu(p):ol(p),S=!1;for(;0!==C&&(!1===S||w);){const Z=n[C+1];Xm(n[C],r)&&(S=!0,n[C+1]=a?od(Z):sd(Z)),C=a?hu(Z):ol(Z)}S&&(n[s+1]=a?sd(p):od(p))}function Xm(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&mo(n,r)>=0}const $s={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Df(n){return n.substring($s.key,$s.keyEnd)}function uh(n,r){const s=$s.textEnd;return s===r?-1:(r=$s.keyEnd=function Nc(n,r,s){for(;r<s&&n.charCodeAt(r)>32;)r++;return r}(n,$s.key=r,s),Ml(n,r,s))}function Ml(n,r,s){for(;r<s&&n.charCodeAt(r)<=32;)r++;return r}function Sf(n,r,s){return Pu(n,r,s,!1),Sf}function kc(n,r){return Pu(n,r,null,!0),kc}function ry(n){!function gu(n,r,s,a){const l=Tt(),p=ds(2);l.firstUpdatePass&&sy(l,null,p,a);const w=me();if(s!==ur&&na(w,p,s)){const C=l.data[hs()];if(dy(C,a)&&!iy(l,p)){let S=a?C.classesWithoutHost:C.stylesWithoutHost;null!==S&&(s=je(S,s||"")),jm(l,C,w,s,a)}else!function ly(n,r,s,a,l,p,w,C){l===ur&&(l=ue);let S=0,$=0,Z=0<l.length?l[0]:null,le=0<p.length?p[0]:null;for(;null!==Z||null!==le;){const Re=S<l.length?l[S+1]:void 0,Qe=$<p.length?p[$+1]:void 0;let qt,vt=null;Z===le?(S+=2,$+=2,Re!==Qe&&(vt=le,qt=Qe)):null===le||null!==Z&&Z<le?(S+=2,vt=Z):($+=2,vt=le,qt=Qe),null!==vt&&ug(n,r,s,a,vt,qt,w,C),Z=S<l.length?l[S]:null,le=$<p.length?p[$]:null}}(l,C,w,w[11],w[p+1],w[p+1]=function uy(n,r,s){if(null==s||""===s)return ue;const a=[],l=Lo(s);if(Array.isArray(l))for(let p=0;p<l.length;p++)n(a,l[p],!0);else if("object"==typeof l)for(const p in l)l.hasOwnProperty(p)&&n(a,p,l[p]);else"string"==typeof l&&r(a,l);return a}(n,r,s),a,p)}}(yi,hl,n,!0)}function hl(n,r){for(let s=function Af(n){return function ty(n){$s.key=0,$s.keyEnd=0,$s.value=0,$s.valueEnd=0,$s.textEnd=n.length}(n),uh(n,Ml(n,0,$s.textEnd))}(r);s>=0;s=uh(r,s))yi(n,Df(r),!0)}function Pu(n,r,s,a){const l=me(),p=Tt(),w=ds(2);p.firstUpdatePass&&sy(p,n,w,a),r!==ur&&na(l,w,r)&&ug(p,p.data[hs()],l,l[11],n,l[w+1]=function Mf(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Oe(Lo(n)))),n}(r,s),a,w)}function iy(n,r){return r>=n.expandoStartIndex}function sy(n,r,s,a){const l=n.data;if(null===l[s+1]){const p=l[hs()],w=iy(n,s);dy(p,a)&&null===r&&!w&&(r=!1),r=function oy(n,r,s,a){const l=Ar(n);let p=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(s=lh(s=og(null,n,r,s,a),r.attrs,a),p=null);else{const w=r.directiveStylingLast;if(-1===w||n[w]!==l)if(s=og(l,n,r,s,a),null===p){let S=function R_(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==ol(a))return n[hu(a)]}(n,r,a);void 0!==S&&Array.isArray(S)&&(S=og(null,n,r,S[1],a),S=lh(S,r.attrs,a),function x_(n,r,s,a){n[hu(s?r.classBindings:r.styleBindings)]=a}(n,r,a,S))}else p=function ay(n,r,s){let a;const l=r.directiveEnd;for(let p=1+r.directiveStylingLast;p<l;p++)a=lh(a,n[p].hostAttrs,s);return lh(a,r.attrs,s)}(n,r,a)}return void 0!==p&&(a?r.residualClasses=p:r.residualStyles=p),s}(l,p,r,a),function Jm(n,r,s,a,l,p){let w=p?r.classBindings:r.styleBindings,C=hu(w),S=ol(w);n[a]=s;let Z,$=!1;if(Array.isArray(s)){const le=s;Z=le[1],(null===Z||mo(le,Z)>0)&&($=!0)}else Z=s;if(l)if(0!==S){const Re=hu(n[C+1]);n[a+1]=Fh(Re,C),0!==Re&&(n[Re+1]=ta(n[Re+1],a)),n[C+1]=function Lh(n,r){return 131071&n|r<<17}(n[C+1],a)}else n[a+1]=Fh(C,0),0!==C&&(n[C+1]=ta(n[C+1],a)),C=a;else n[a+1]=Fh(S,0),0===C?C=a:n[S+1]=ta(n[S+1],a),S=a;$&&(n[a+1]=sd(n[a+1])),sg(n,Z,a,!0),sg(n,Z,a,!1),function Pc(n,r,s,a,l){const p=l?n.residualClasses:n.residualStyles;null!=p&&"string"==typeof r&&mo(p,r)>=0&&(s[a+1]=od(s[a+1]))}(r,Z,n,a,p),w=Fh(C,S),p?r.classBindings=w:r.styleBindings=w}(l,p,r,s,w,a)}}function og(n,r,s,a,l){let p=null;const w=s.directiveEnd;let C=s.directiveStylingLast;for(-1===C?C=s.directiveStart:C++;C<w&&(p=r[C],a=lh(a,p.hostAttrs,l),p!==n);)C++;return null!==n&&(s.directiveStylingLast=C),a}function lh(n,r,s){const a=s?1:2;let l=-1;if(null!==r)for(let p=0;p<r.length;p++){const w=r[p];"number"==typeof w?l=w:l===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),yi(n,w,!!s||r[++p]))}return void 0===n?null:n}function ug(n,r,s,a,l,p,w,C){if(!(3&r.type))return;const S=n.data,$=S[C+1];Id(function ep(n){return 1==(1&n)}($)?cy(S,r,s,l,ol($),w):void 0)||(Id(p)||function id(n){return 2==(2&n)}($)&&(p=cy(S,null,s,l,C,w)),function td(n,r,s,a,l){const p=Mr(n);if(r)l?p?n.addClass(s,a):s.classList.add(a):p?n.removeClass(s,a):s.classList.remove(a);else{let w=-1===a.indexOf("-")?void 0:te.DashCase;if(null==l)p?n.removeStyle(s,a,w):s.style.removeProperty(a);else{const C="string"==typeof l&&l.endsWith("!important");C&&(l=l.slice(0,-10),w|=te.Important),p?n.setStyle(s,a,l,w):s.style.setProperty(a,l,C?"important":"")}}}(a,w,at(hs(),s),l,p))}function cy(n,r,s,a,l,p){const w=null===r;let C;for(;l>0;){const S=n[l],$=Array.isArray(S),Z=$?S[1]:S,le=null===Z;let Re=s[l+1];Re===ur&&(Re=le?ue:void 0);let Qe=le?Ma(Re,a):Z===a?Re:void 0;if($&&!Id(Qe)&&(Qe=Ma(S,a)),Id(Qe)&&(C=Qe,w))return C;const vt=n[l+1];l=w?hu(vt):ol(vt)}if(null!==r){let S=p?r.residualClasses:r.residualStyles;null!=S&&(C=Ma(S,a))}return C}function Id(n){return void 0!==n}function dy(n,r){return 0!=(n.flags&(r?16:32))}function lg(n,r=""){const s=me(),a=Tt(),l=n+20,p=a.firstCreatePass?Cl(a,l,1,r,null):a.data[l],w=s[l]=function Zc(n,r){return Mr(n)?n.createText(r):n.createTextNode(r)}(s[11],r);Jc(a,s,w,p),ji(p,!1)}function fl(n){return Rf("",n,""),fl}function Rf(n,r,s){const a=me(),l=function yd(n,r,s,a){return na(n,Ro(),s)?r+Ze(s)+a:ur}(a,n,r,s);return l!==ur&&ll(a,hs(),l),Rf}function Pf(n,r,s){const a=me();if(na(a,Ro(),r)){const p=Tt(),w=ai();ba(p,w,a,n,r,function um(n,r,s){return(null===n||us(n))&&(s=function J(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(s[r.index])),s[11]}(Ar(p.data),w,a),s,!0)}return Pf}const lc=void 0;var mu=["en",[["a","p"],["AM","PM"],lc],[["AM","PM"],lc,lc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lc,"{1} 'at' {0}",lc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Fc(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Xs={};function Nf(n){const r=function Ad(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=ia(r);if(s)return s;const a=r.split("-")[0];if(s=ia(a),s)return s;if("en"===a)return mu;throw new Error(`Missing locale data for the locale "${n}".`)}function Dd(n){return Nf(n)[Hn.PluralCase]}function ia(n){return n in Xs||(Xs[n]=bn.ng&&bn.ng.common&&bn.ng.common.locales&&bn.ng.common.locales[n]),Xs[n]}var Hn=(()=>((Hn=Hn||{})[Hn.LocaleId=0]="LocaleId",Hn[Hn.DayPeriodsFormat=1]="DayPeriodsFormat",Hn[Hn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Hn[Hn.DaysFormat=3]="DaysFormat",Hn[Hn.DaysStandalone=4]="DaysStandalone",Hn[Hn.MonthsFormat=5]="MonthsFormat",Hn[Hn.MonthsStandalone=6]="MonthsStandalone",Hn[Hn.Eras=7]="Eras",Hn[Hn.FirstDayOfWeek=8]="FirstDayOfWeek",Hn[Hn.WeekendRange=9]="WeekendRange",Hn[Hn.DateFormat=10]="DateFormat",Hn[Hn.TimeFormat=11]="TimeFormat",Hn[Hn.DateTimeFormat=12]="DateTimeFormat",Hn[Hn.NumberSymbols=13]="NumberSymbols",Hn[Hn.NumberFormats=14]="NumberFormats",Hn[Hn.CurrencyCode=15]="CurrencyCode",Hn[Hn.CurrencySymbol=16]="CurrencySymbol",Hn[Hn.CurrencyName=17]="CurrencyName",Hn[Hn.Currencies=18]="Currencies",Hn[Hn.Directionality=19]="Directionality",Hn[Hn.PluralCase=20]="PluralCase",Hn[Hn.ExtraData=21]="ExtraData",Hn))();const pl="en-US";let by=pl;function J_(n,r,s,a,l){if(n=Ve(n),Array.isArray(n))for(let p=0;p<n.length;p++)J_(n[p],r,s,a,l);else{const p=Tt(),w=me();let C=Xl(n)?n:Ve(n.provide),S=Cp(n);const $=rr(),Z=1048575&$.providerIndexes,le=$.directiveStart,Re=$.providerIndexes>>20;if(Xl(n)||!n.multi){const Qe=new lo(S,l,ih),vt=ev(C,r,l?Z:Z+Re,le);-1===vt?(T(bs($,w),p,C),X_(p,n,r.length),r.push(C),$.directiveStart++,$.directiveEnd++,l&&($.providerIndexes+=1048576),s.push(Qe),w.push(Qe)):(s[vt]=Qe,w[vt]=Qe)}else{const Qe=ev(C,r,Z+Re,le),vt=ev(C,r,Z,Z+Re),qt=Qe>=0&&s[Qe],nn=vt>=0&&s[vt];if(l&&!nn||!l&&!qt){T(bs($,w),p,C);const Dn=function uw(n,r,s,a,l){const p=new lo(n,s,ih);return p.multi=[],p.index=r,p.componentProviders=0,m0(p,l,a&&!s),p}(l?aw:ow,s.length,l,a,S);!l&&nn&&(s[vt].providerFactory=Dn),X_(p,n,r.length,0),r.push(C),$.directiveStart++,$.directiveEnd++,l&&($.providerIndexes+=1048576),s.push(Dn),w.push(Dn)}else X_(p,n,Qe>-1?Qe:vt,m0(s[l?vt:Qe],S,!l&&a));!l&&a&&nn&&s[vt].componentProviders++}}}function X_(n,r,s,a){const l=Xl(r),p=function Ap(n){return!!n.useClass}(r);if(l||p){const S=(p?Ve(r.useClass):r).prototype.ngOnDestroy;if(S){const $=n.destroyHooks||(n.destroyHooks=[]);if(!l&&r.multi){const Z=$.indexOf(s);-1===Z?$.push(s,[a,S]):$[Z+1].push(a,S)}else $.push(s,S)}}}function m0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function ev(n,r,s,a){for(let l=s;l<a;l++)if(r[l]===n)return l;return-1}function ow(n,r,s,a){return tv(this.multi,[])}function aw(n,r,s,a){const l=this.multi;let p;if(this.providerFactory){const w=this.providerFactory.componentProviders,C=$n(s,s[1],this.providerFactory.index,a);p=C.slice(0,w),tv(l,p);for(let S=w;S<C.length;S++)p.push(C[S])}else p=[],tv(l,p);return p}function tv(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function y0(n,r=[]){return s=>{s.providersResolver=(a,l)=>function sw(n,r,s){const a=Tt();if(a.firstCreatePass){const l=us(n);J_(s,a.data,a.blueprint,l,!0),J_(r,a.data,a.blueprint,l,!1)}}(a,l?l(n):n,r)}}class _0{}class dw{resolveComponentFactory(r){throw function cw(n){const r=Error(`No component factory found for ${Oe(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Ry=(()=>{class n{}return n.NULL=new dw,n})();function hw(){return Bf(rr(),me())}function Bf(n,r){return new Eg(ct(n,r))}let Eg=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=hw,n})();function fw(n){return n instanceof Eg?n.nativeElement:n}class E0{}let pw=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function mw(){const n=me(),s=kn(rr().index,n);return function gw(n){return n[11]}(ri(s)?s:n)}(),n})(),yw=(()=>{class n{}return n.\u0275prov=et({token:n,providedIn:"root",factory:()=>null}),n})();class w0{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const b0=new w0("13.3.7"),nv={};function xy(n,r,s,a,l=!1){for(;null!==s;){const p=r[s.index];if(null!==p&&a.push(k(p)),di(p))for(let C=10;C<p.length;C++){const S=p[C],$=S[1].firstChild;null!==$&&xy(S[1],S,$,a)}const w=s.type;if(8&w)xy(n,r,s.child,a);else if(32&w){const C=ut(s,r);let S;for(;S=C();)a.push(S)}else if(16&w){const C=xh(r,s);if(Array.isArray(C))a.push(...C);else{const S=En(r[16]);xy(S[1],S,C,a,!0)}}s=l?s.projectionNext:s.next}return a}class wg{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return xy(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(di(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Ah(r,a),go(s,a))}this._attachedToViewContainer=!1}Ag(this._lView[1],this._lView)}onDestroy(r){Yg(this._lView[1],this._lView,null,r)}markForCheck(){Xh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Ep(n,r,s){const a=r[10];a.begin&&a.begin();try{dd(n,r,n.template,s)}catch(l){throw lm(r,l),l}finally{a.end&&a.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ht(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zf(n,r){ed(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ht(902,"");this._appRef=r}}class _w extends wg{constructor(r){super(r),this._view=r}detectChanges(){ef(this._view)}checkNoChanges(){}get context(){return null}}class I0 extends Ry{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Le(r);return new rv(s,this.ngModule)}}function T0(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class rv extends _0{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function wc(n){return n.map(Ec).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return T0(this.componentDef.inputs)}get outputs(){return T0(this.componentDef.outputs)}create(r,s,a,l){const p=(l=l||this.ngModule)?function Ew(n,r){return{get:(s,a,l)=>{const p=n.get(s,nv,l);return p!==nv||a===nv?p:r.get(s,a,l)}}}(r,l.injector):r,w=p.get(E0,F),C=p.get(yw,null),S=w.createRenderer(null,this.componentDef),$=this.componentDef.selectors[0][0]||"div",Z=a?function Zg(n,r,s){if(Mr(n))return n.selectRootElement(r,s===He.ShadowDom);let a="string"==typeof r?n.querySelector(r):r;return a.textContent="",a}(S,a,this.componentDef.encapsulation):Qc(w.createRenderer(null,this.componentDef),$,function vw(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}($)),le=this.componentDef.onPush?576:528,Re=function Tm(n,r){return{components:[],scheduler:n||Kc,clean:am,playerHandler:r||null,flags:0}}(),Qe=Hs(0,null,null,1,0,null,null,null,null,null),vt=Tc(null,Qe,Re,le,null,null,w,S,C,p);let qt,nn;xo(vt);try{const Dn=function Im(n,r,s,a,l,p){const w=s[1];s[20]=n;const S=Cl(w,20,2,"#host",null),$=S.mergedAttrs=r.hostAttrs;null!==$&&(nf(S,$,!0),null!==n&&(fa(l,n,$),null!==S.classes&&Ph(l,n,S.classes),null!==S.styles&&nd(l,n,S.styles)));const Z=a.createRenderer(n,r),le=Tc(s,zh(r),null,r.onPush?64:16,s[20],S,a,Z,p||null,null);return w.firstCreatePass&&(T(bs(S,s),w,r.type),hd(w,S),rm(S,s.length,1)),Mu(s,le),s[20]=le}(Z,this.componentDef,vt,w,S);if(Z)if(a)fa(S,Z,["ng-version",b0.full]);else{const{attrs:xt,classes:zn}=function Ng(n){const r=[],s=[];let a=1,l=2;for(;a<n.length;){let p=n[a];if("string"==typeof p)2===l?""!==p&&r.push(p,n[++a]):8===l&&s.push(p);else{if(!wa(l))break;l=p}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);xt&&fa(S,Z,xt),zn&&zn.length>0&&Ph(S,Z,zn.join(" "))}if(nn=Vn(Qe,20),void 0!==s){const xt=nn.projection=[];for(let zn=0;zn<this.ngContentSelectors.length;zn++){const $r=s[zn];xt.push(null!=$r?Array.from($r):null)}}qt=function lf(n,r,s,a,l){const p=s[1],w=function tm(n,r,s){const a=rr();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),im(n,a,r,Cc(n,r,1,null),s));const l=$n(r,n,a.directiveStart,a);Pr(l,r);const p=ct(a,r);return p&&Pr(p,r),l}(p,s,r);if(a.components.push(w),n[8]=w,l&&l.forEach(S=>S(w,r)),r.contentQueries){const S=rr();r.contentQueries(1,w,S.directiveStart)}const C=rr();return!p.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(ha(C.index),hp(s[1],C,0,C.directiveStart,C.directiveEnd,r),fp(r,w)),w}(Dn,this.componentDef,vt,Re,[Np]),cd(Qe,vt,null)}finally{da()}return new bw(this.componentType,qt,Bf(nn,vt),vt,nn)}}class bw extends class lw{}{constructor(r,s,a,l,p){super(),this.location=a,this._rootLView=l,this._tNode=p,this.instance=s,this.hostView=this.changeDetectorRef=new _w(l),this.componentType=r}get injector(){return new Ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class jf{}class C0{}const Hf=new Map;class S0 extends jf{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new I0(this);const a=mn(r);this._bootstrapComponents=_(a.bootstrap),this._r3Injector=Sc(r,s,[{provide:jf,useValue:this},{provide:Ry,useValue:this.componentFactoryResolver}],Oe(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=fu.THROW_IF_NOT_FOUND,a=sn.Default){return r===fu||r===jf||r===Ip?this:this._r3Injector.get(r,s,a)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class iv extends C0{constructor(r){super(),this.moduleType=r,null!==mn(r)&&function Tw(n){const r=new Set;!function s(a){const l=mn(a,!0),p=l.id;null!==p&&(function D0(n,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${n} - ${Oe(r)} vs ${Oe(r.name)}`)}(p,Hf.get(p),a),Hf.set(p,a));const w=_(l.imports);for(const C of w)r.has(C)||(r.add(C),s(C))}(n)}(r)}create(r){return new S0(this.moduleType,r)}}function sv(n){return r=>{setTimeout(n,void 0,r)}}const cc=class Hw extends m.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){var l,p,w;let C=r,S=s||(()=>null),$=a;if(r&&"object"==typeof r){const le=r;C=null===(l=le.next)||void 0===l?void 0:l.bind(le),S=null===(p=le.error)||void 0===p?void 0:p.bind(le),$=null===(w=le.complete)||void 0===w?void 0:w.bind(le)}this.__isAsync&&(S=sv(S),C&&(C=sv(C)),$&&($=sv($)));const Z=super.subscribe({next:C,error:S,complete:$});return r instanceof O.w0&&r.add(Z),Z}};function $w(){return this._results[tc()]()}class ov{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=tc(),a=ov.prototype;a[s]||(a[s]=$w)}get changes(){return this._changes||(this._changes=new cc)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const l=Ps(r);(this._changesDetected=!function eu(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let l=n[a],p=r[a];if(s&&(l=s(l),p=s(p)),p!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Tg=(()=>{class n{}return n.__NG_ELEMENT_ID__=qw,n})();const Gw=Tg,zw=class extends Gw{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r){const s=this._declarationTContainer.tViews,a=Tc(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(a[19]=p.createEmbeddedView(s)),cd(s,a,r),new wg(a)}};function qw(){return Oy(rr(),me())}function Oy(n,r){return 4&n.type?new zw(r,n,Bf(n,r)):null}let Py=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ww,n})();function Ww(){return F0(rr(),me())}const Kw=Py,N0=class extends Kw{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Bf(this._hostTNode,this._hostLView)}get injector(){return new Ni(this._hostTNode,this._hostLView)}get parentInjector(){const r=D(this._hostTNode,this._hostLView);if(Go(r)){const s=Ai(r,this._hostLView),a=Do(r);return new Ni(s[1].data[a+8],s)}return new Ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=k0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){const l=r.createEmbeddedView(s||{});return this.insert(l,a),l}createComponent(r,s,a,l,p){const w=r&&!function ei(n){return"function"==typeof n}(r);let C;if(w)C=s;else{const le=s||{};C=le.index,a=le.injector,l=le.projectableNodes,p=le.ngModuleRef}const S=w?r:new rv(Le(r)),$=a||this.parentInjector;if(!p&&null==S.ngModule){const Re=(w?$:this.parentInjector).get(jf,null);Re&&(p=Re)}const Z=S.create($,l,void 0,p);return this.insert(Z.hostView,C),Z}insert(r,s){const a=r._lView,l=a[1];if(function Er(n){return di(n[3])}(a)){const Z=this.indexOf(r);if(-1!==Z)this.detach(Z);else{const le=a[3],Re=new N0(le,le[6],le[3]);Re.detach(Re.indexOf(r))}}const p=this._adjustIndex(s),w=this._lContainer;!function qf(n,r,s,a){const l=10+a,p=s.length;a>0&&(s[l-1][4]=r),a<p-10?(r[4]=s[l],ju(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const w=r[17];null!==w&&s!==w&&function Uy(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(w,r);const C=r[19];null!==C&&C.insertView(n),r[2]|=128}(l,a,w,p);const C=sl(p,w),S=a[11],$=il(S,w[7]);return null!==$&&function Dh(n,r,s,a,l,p){a[0]=l,a[6]=r,ed(n,a,s,1,l,p)}(l,w[6],S,a,$,C),r.attachToViewContainerRef(),ju(av(w),p,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=k0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Ah(this._lContainer,s);a&&(go(av(this._lContainer),s),Ag(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=Ah(this._lContainer,s);return a&&null!=go(av(this._lContainer),s)?new wg(a):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function k0(n){return n[8]}function av(n){return n[8]||(n[8]=[])}function F0(n,r){let s;const a=r[n.index];if(di(a))s=a;else{let l;if(8&n.type)l=k(a);else{const p=r[11];l=p.createComment("");const w=ct(n,r);rl(p,il(p,w),l,function jy(n,r){return Mr(n)?n.nextSibling(r):r.nextSibling}(p,w),!1)}r[n.index]=s=Yh(a,r,l,n),Mu(r,s)}return new N0(s,n,r)}class uv{constructor(r){this.queryList=r,this.matches=null}clone(){return new uv(this.queryList)}setDirty(){this.queryList.setDirty()}}class lv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let p=0;p<a;p++){const w=s.getByIndex(p);l.push(this.queries[w.indexInDeclarationView].clone())}return new lv(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==G0(r,s).matches&&this.queries[s].setDirty()}}class L0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class cv{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,p=this.getByIndex(a).embeddedTView(r,l);p&&(p.indexInDeclarationView=a,null!==s?s.push(p):s=[p])}return null!==s?new cv(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class dv{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new dv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const p=a[l];this.matchTNodeWithReadOption(r,s,Qw(s,p)),this.matchTNodeWithReadOption(r,s,en(s,r,p,!1,!1))}else a===Tg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,en(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===Eg||l===Py||l===Tg&&4&s.type)this.addMatch(s.index,-2);else{const p=en(s,r,l,!1,!1);null!==p&&this.addMatch(s.index,p)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function Qw(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function Xw(n,r,s,a){return-1===s?function Jw(n,r){return 11&n.type?Bf(n,r):4&n.type?Oy(n,r):null}(r,n):-2===s?function eb(n,r,s){return s===Eg?Bf(r,n):s===Tg?Oy(r,n):s===Py?F0(r,n):void 0}(n,r,a):$n(n,n[1],s,r)}function V0(n,r,s,a){const l=r[19].queries[a];if(null===l.matches){const p=n.data,w=s.matches,C=[];for(let S=0;S<w.length;S+=2){const $=w[S];C.push($<0?null:Xw(r,p[$],w[S+1],s.metadata.read))}l.matches=C}return l.matches}function hv(n,r,s,a){const l=n.queries.getByIndex(s),p=l.matches;if(null!==p){const w=V0(n,r,l,s);for(let C=0;C<p.length;C+=2){const S=p[C];if(S>0)a.push(w[C/2]);else{const $=p[C+1],Z=r[-S];for(let le=10;le<Z.length;le++){const Re=Z[le];Re[17]===Re[3]&&hv(Re[1],Re,$,a)}if(null!==Z[9]){const le=Z[9];for(let Re=0;Re<le.length;Re++){const Qe=le[Re];hv(Qe[1],Qe,$,a)}}}}}return a}function U0(n){const r=me(),s=Tt(),a=ir();ca(a+1);const l=G0(s,a);if(n.dirty&&qn(r)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const p=l.crossesNgTemplate?hv(s,r,a,[]):V0(s,r,l,a);n.reset(p,fw),n.notifyOnChanges()}return!0}return!1}function B0(n,r,s,a){const l=Tt();if(l.firstCreatePass){const p=rr();(function $0(n,r,s){null===n.queries&&(n.queries=new cv),n.queries.track(new dv(r,s))})(l,new L0(r,s,a),p.index),function rb(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(l,n),2==(2&s)&&(l.staticContentQueries=!0)}!function H0(n,r,s){const a=new ov(4==(4&s));Yg(n,r,a,a.destroy),null===r[19]&&(r[19]=new lv),r[19].queries.push(new uv(a))}(l,me(),s)}function j0(){return function nb(n,r){return n[19].queries[r].queryList}(me(),ir())}function G0(n,r){return n.queries.getByIndex(r)}function Fy(...n){}const aE=new Xr("Application Initializer");let _v=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Fy,this.reject=Fy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const p=this.appInits[l]();if(tg(p))s.push(p);else if(ng(p)){const w=new Promise((C,S)=>{p.subscribe({complete:C,error:S})});s.push(w)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(cn(aE,8))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uE=new Xr("AppId",{providedIn:"root",factory:function lE(){return`${vv()}${vv()}${vv()}`}});function vv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const cE=new Xr("Platform Initializer"),wb=new Xr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),dE=new Xr("appBootstrapListener");let bb=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ev=new Xr("LocaleId",{providedIn:"root",factory:()=>Sr(Ev,sn.Optional|sn.SkipSelf)||function Ib(){return"undefined"!=typeof $localize&&$localize.locale||pl}()}),Tb=new Xr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Cb{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let Db=(()=>{class n{compileModuleSync(s){return new iv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),p=_(mn(s).declarations).reduce((w,C)=>{const S=Le(C);return S&&w.push(new rv(S)),w},[]);return new Cb(a,p)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sb=(()=>Promise.resolve(0))();function wv(n){"undefined"==typeof Zone?Sb.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class xl{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new cc(!1),this.onMicrotaskEmpty=new cc(!1),this.onStable=new cc(!1),this.onError=new cc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function Mb(){let n=bn.requestAnimationFrame,r=bn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Ob(n){const r=()=>{!function xb(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(bn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Iv(n),n.isCheckStableRunning=!0,bv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Iv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,p,w,C)=>{try{return hE(n),s.invokeTask(l,p,w,C)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||n.shouldCoalesceRunChangeDetection)&&r(),fE(n)}},onInvoke:(s,a,l,p,w,C,S)=>{try{return hE(n),s.invoke(l,p,w,C,S)}finally{n.shouldCoalesceRunChangeDetection&&r(),fE(n)}},onHasTask:(s,a,l,p)=>{s.hasTask(l,p),a===l&&("microTask"==p.change?(n._hasPendingMicrotasks=p.microTask,Iv(n),bv(n)):"macroTask"==p.change&&(n.hasPendingMacrotasks=p.macroTask))},onHandleError:(s,a,l,p)=>(s.handleError(l,p),n.runOutsideAngular(()=>n.onError.emit(p)),!1)})}(l)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(xl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,l){const p=this._inner,w=p.scheduleEventTask("NgZoneEvent: "+l,r,Rb,Fy,Fy);try{return p.runTask(w,s,a)}finally{p.cancelTask(w)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const Rb={};function bv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Iv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function hE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function fE(n){n._nesting--,bv(n)}class Pb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new cc,this.onMicrotaskEmpty=new cc,this.onStable=new cc,this.onError=new cc}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,l){return r.apply(s,a)}}let pE=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xl.assertNotInAngularZone(),wv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let p=-1;a&&a>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==p),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:p,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,l){return[]}}return n.\u0275fac=function(s){return new(s||n)(cn(xl))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})(),Nb=(()=>{class n{constructor(){this._applications=new Map,Tv.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return Tv.findTestabilityInTree(this,s,a)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class kb{addToWindow(r){}findTestabilityInTree(r,s,a){return null}}function Fb(n){Tv=n}let Tv=new kb,gh=null;const gE=new Xr("AllowMultipleToken"),mE=new Xr("PlatformOnDestroy");class Ub{constructor(r,s){this.name=r,this.token=s}}function yE(n,r,s=[]){const a=`Platform: ${r}`,l=new Xr(a);return(p=[])=>{let w=Cv();if(!w||w.injector.get(gE,!1)){const C=[...s,...p,{provide:l,useValue:!0}];n?n(C):function Bb(n){if(gh&&!gh.get(gE,!1))throw new ht(400,"");gh=n;const r=n.get(_E),s=n.get(cE,null);s&&s.forEach(a=>a())}(function Hb(n=[],r){return fu.create({name:r,providers:[{provide:Tp,useValue:"platform"},{provide:mE,useValue:()=>gh=null},...n]})}(C,a))}return function jb(n){const r=Cv();if(!r)throw new ht(401,"");return r}()}}function Cv(){var n;return null!==(n=null==gh?void 0:gh.get(_E))&&void 0!==n?n:null}let _E=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const C=function $b(n,r){let s;return s="noop"===n?new Pb:("zone.js"===n?void 0:n)||new xl({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),S=[{provide:xl,useValue:C}];return C.run(()=>{const $=fu.create({providers:S,parent:this.injector,name:s.moduleType.name}),Z=s.create($),le=Z.injector.get(wl,null);if(!le)throw new ht(402,"");return C.runOutsideAngular(()=>{const Re=C.onError.subscribe({next:Qe=>{le.handleError(Qe)}});Z.onDestroy(()=>{Av(this._modules,Z),Re.unsubscribe()})}),function Gb(n,r,s){try{const a=s();return tg(a)?a.catch(l=>{throw r.runOutsideAngular(()=>n.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(le,C,()=>{const Re=Z.injector.get(_v);return Re.runInitializers(),Re.donePromise.then(()=>(function q_(n){Zt(n,"Expected localeId to be defined"),"string"==typeof n&&(by=n.toLowerCase().replace(/_/g,"-"))}(Z.injector.get(Ev,pl)||pl),this._moduleDoBootstrap(Z),Z))})})}bootstrapModule(s,a=[]){const l=vE({},a);return function Lb(n,r,s){const a=new iv(s);return Promise.resolve(a)}(0,0,s).then(p=>this.bootstrapModuleFactory(p,l))}_moduleDoBootstrap(s){const a=s.injector.get(Dv);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new ht(403,"");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ht(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(mE,null);null==s||s(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(cn(fu))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function vE(n,r){return Array.isArray(r)?r.reduce(vE,n):Object.assign(Object.assign({},n),r)}let Dv=(()=>{class n{constructor(s,a,l,p){this._zone=s,this._injector=a,this._exceptionHandler=l,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new X.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),C=new X.y(S=>{let $;this._zone.runOutsideAngular(()=>{$=this._zone.onStable.subscribe(()=>{xl.assertNotInAngularZone(),wv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const Z=this._zone.onUnstable.subscribe(()=>{xl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{$.unsubscribe(),Z.unsubscribe()}});this.isStable=(0,Te.T)(w,C.pipe((0,De.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new ht(405,"");let l;l=s instanceof _0?s:this._injector.get(Ry).resolveComponentFactory(s),this.componentTypes.push(l.componentType);const p=function Vb(n){return n.isBoundToModule}(l)?void 0:this._injector.get(jf),C=l.create(fu.NULL,[],a||l.selector,p),S=C.location.nativeElement,$=C.injector.get(pE,null),Z=$&&C.injector.get(Nb);return $&&Z&&Z.registerApplication(S,$),C.onDestroy(()=>{this.detachView(C.hostView),Av(this.components,C),Z&&Z.unregisterApplication(S)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new ht(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Av(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(dE,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(cn(xl),cn(fu),cn(wl),cn(_v))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Av(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let wE=!0,bE=!1;function qb(){return bE=!0,wE}function Wb(){if(bE)throw new Error("Cannot enable prod mode after platform setup.");wE=!1}let Kb=(()=>{class n{}return n.__NG_ELEMENT_ID__=Zb,n})();function Zb(n){return function Yb(n,r,s){if(Gs(n)&&!s){const a=kn(n.index,r);return new wg(a,a)}return 47&n.type?new wg(r[16],r):null}(rr(),me(),16==(16&n))}class DE{constructor(){}supports(r){return Qd(r)}create(r){return new nI(r)}}const tI=(n,r)=>r;class nI{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||tI}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,l=0,p=null;for(;s||a;){const w=!a||s&&s.currentIndex<SE(a,l,p)?s:a,C=SE(w,l,p),S=w.currentIndex;if(w===a)l--,a=a._nextRemoved;else if(s=s._next,null==w.previousIndex)l++;else{p||(p=[]);const $=C-l,Z=S-l;if($!=Z){for(let Re=0;Re<$;Re++){const Qe=Re<p.length?p[Re]:p[Re]=0,vt=Qe+Re;Z<=vt&&vt<$&&(p[Re]=Qe+1)}p[w.previousIndex]=Z-$}}C!==S&&r(w,C,S)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Qd(r))throw new ht(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,p,w,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let C=0;C<this.length;C++)p=r[C],w=this._trackByFn(C,p),null!==s&&Object.is(s.trackById,w)?(a&&(s=this._verifyReinsertion(s,p,w,C)),Object.is(s.item,p)||this._addIdentityChange(s,p)):(s=this._mismatch(s,p,w,C),a=!0),s=s._next}else l=0,function g_(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[tc()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,C=>{w=this._trackByFn(l,C),null!==s&&Object.is(s.trackById,w)?(a&&(s=this._verifyReinsertion(s,C,w,l)),Object.is(s.item,C)||this._addIdentityChange(s,C)):(s=this._mismatch(s,C,w,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,l){let p;return null===r?p=this._itTail:(p=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,p,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,p,l)):r=this._addAfter(new rI(s,a),p,l),r}_verifyReinsertion(r,s,a,l){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==p?r=this._reinsertAfter(p,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,p=r._nextRemoved;return null===l?this._removalsHead=p:l._nextRemoved=p,null===p?this._removalsTail=l:p._prevRemoved=l,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new AE),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new AE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class rI{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class AE{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new iI,this.map.set(s,a)),a.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function SE(n,r,s){const a=n.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+r+l}class ME{constructor(){}supports(r){return r instanceof Map||Jd(r)}create(){return new sI}}class sI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Jd(r)))throw new ht(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const p=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,p)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const p=l._prev,w=l._next;return p&&(p._next=w),w&&(w._prev=p),l._next=null,l._prev=null,l}const a=new oI(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class oI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function RE(){return new Ov([new DE])}let Ov=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||RE()),deps:[[n,new Oa,new vo]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new ht(901,"")}}return n.\u0275prov=et({token:n,providedIn:"root",factory:RE}),n})();function xE(){return new Pv([new ME])}let Pv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||xE()),deps:[[n,new Oa,new vo]]}}find(s){const a=this.factories.find(p=>p.supports(s));if(a)return a;throw new ht(901,"")}}return n.\u0275prov=et({token:n,providedIn:"root",factory:xE}),n})();const lI=yE(null,"core",[]);let cI=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(cn(Dv))},n.\u0275mod=qr({type:n}),n.\u0275inj=Be({}),n})()},2382:(jt,ze,U)=>{U.d(ze,{Fj:()=>oe,qu:()=>Co,u:()=>wi,sg:()=>Rs,u5:()=>An,JJ:()=>be,JL:()=>Se,On:()=>Gi,YN:()=>ro,wV:()=>Ie,UX:()=>Oi,kI:()=>Xe,_Y:()=>zs,Kr:()=>To});var m=U(5e3),O=U(9808),X=U(8306),Te=U(4742),De=U(8421),Ae=U(7669),Ue=U(5403),Oe=U(3268),je=U(1810),fe=U(8996),Ve=U(4004);let St=(()=>{class V{constructor(R,Y){this._renderer=R,this._elementRef=Y,this.onChange=me=>{},this.onTouched=()=>{}}setProperty(R,Y){this._renderer.setProperty(this._elementRef.nativeElement,R,Y)}registerOnTouched(R){this.onTouched=R}registerOnChange(R){this.onChange=R}setDisabledState(R){this.setProperty("disabled",R)}}return V.\u0275fac=function(R){return new(R||V)(m.Y36(m.Qsj),m.Y36(m.SBq))},V.\u0275dir=m.lG2({type:V}),V})(),it=(()=>{class V extends St{}return V.\u0275fac=function(){let N;return function(Y){return(N||(N=m.n5z(V)))(Y||V)}}(),V.\u0275dir=m.lG2({type:V,features:[m.qOj]}),V})();const ht=new m.OlP("NgValueAccessor"),dt={provide:ht,useExisting:(0,m.Gpc)(()=>oe),multi:!0},Ut=new m.OlP("CompositionEventMode");let oe=(()=>{class V extends St{constructor(R,Y,me){super(R,Y),this._compositionMode=me,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Vt(){const V=(0,O.q)()?(0,O.q)().getUserAgent():"";return/android (\d+)/.test(V.toLowerCase())}())}writeValue(R){this.setProperty("value",null==R?"":R)}_handleInput(R){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(R)}_compositionStart(){this._composing=!0}_compositionEnd(R){this._composing=!1,this._compositionMode&&this.onChange(R)}}return V.\u0275fac=function(R){return new(R||V)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(Ut,8))},V.\u0275dir=m.lG2({type:V,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(R,Y){1&R&&m.NdJ("input",function(Tt){return Y._handleInput(Tt.target.value)})("blur",function(){return Y.onTouched()})("compositionstart",function(){return Y._compositionStart()})("compositionend",function(Tt){return Y._compositionEnd(Tt.target.value)})},features:[m._Bn([dt]),m.qOj]}),V})();function ve(V){return null==V||0===V.length}function Ke(V){return null!=V&&"number"==typeof V.length}const Ge=new m.OlP("NgValidators"),ot=new m.OlP("NgAsyncValidators"),de=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Xe{static min(N){return function se(V){return N=>{if(ve(N.value)||ve(V))return null;const R=parseFloat(N.value);return!isNaN(R)&&R<V?{min:{min:V,actual:N.value}}:null}}(N)}static max(N){return function ke(V){return N=>{if(ve(N.value)||ve(V))return null;const R=parseFloat(N.value);return!isNaN(R)&&R>V?{max:{max:V,actual:N.value}}:null}}(N)}static required(N){return function _e(V){return ve(V.value)?{required:!0}:null}(N)}static requiredTrue(N){return function tt(V){return!0===V.value?null:{required:!0}}(N)}static email(N){return function We(V){return ve(V.value)||de.test(V.value)?null:{email:!0}}(N)}static minLength(N){return function It(V){return N=>ve(N.value)||!Ke(N.value)?null:N.value.length<V?{minlength:{requiredLength:V,actualLength:N.value.length}}:null}(N)}static maxLength(N){return function Nt(V){return N=>Ke(N.value)&&N.value.length>V?{maxlength:{requiredLength:V,actualLength:N.value.length}}:null}(N)}static pattern(N){return function Ot(V){if(!V)return Zt;let N,R;return"string"==typeof V?(R="","^"!==V.charAt(0)&&(R+="^"),R+=V,"$"!==V.charAt(V.length-1)&&(R+="$"),N=new RegExp(R)):(R=V.toString(),N=V),Y=>{if(ve(Y.value))return null;const me=Y.value;return N.test(me)?null:{pattern:{requiredPattern:R,actualValue:me}}}}(N)}static nullValidator(N){return null}static compose(N){return Be(N)}static composeAsync(N){return Ht(N)}}function Zt(V){return null}function Ct(V){return null!=V}function yn(V){const N=(0,m.QGY)(V)?(0,fe.D)(V):V;return(0,m.CqO)(N),N}function Qt(V){let N={};return V.forEach(R=>{N=null!=R?Object.assign(Object.assign({},N),R):N}),0===Object.keys(N).length?null:N}function nt(V,N){return N.map(R=>R(V))}function we(V){return V.map(N=>function et(V){return!V.validate}(N)?N:R=>N.validate(R))}function Be(V){if(!V)return null;const N=V.filter(Ct);return 0==N.length?null:function(R){return Qt(nt(R,N))}}function Dt(V){return null!=V?Be(we(V)):null}function Ht(V){if(!V)return null;const N=V.filter(Ct);return 0==N.length?null:function(R){return function pe(...V){const N=(0,Ae.jO)(V),{args:R,keys:Y}=(0,Te.D)(V),me=new X.y(Tt=>{const{length:or}=R;if(!or)return void Tt.complete();const rr=new Array(or);let Bi=or,Es=or;for(let ji=0;ji<or;ji++){let Ws=!1;(0,De.Xf)(R[ji]).subscribe((0,Ue.x)(Tt,ua=>{Ws||(Ws=!0,Es--),rr[ji]=ua},()=>Bi--,void 0,()=>{(!Bi||!Ws)&&(Es||Tt.next(Y?(0,je.n)(Y,rr):rr),Tt.complete())}))}});return N?me.pipe((0,Oe.Z)(N)):me}(nt(R,N).map(yn)).pipe((0,Ve.U)(Qt))}}function Pn(V){return null!=V?Ht(we(V)):null}function Wn(V,N){return null===V?[N]:Array.isArray(V)?[...V,N]:[V,N]}function Zn(V){return V._rawValidators}function pr(V){return V._rawAsyncValidators}function lr(V){return V?Array.isArray(V)?V:[V]:[]}function sr(V,N){return Array.isArray(V)?V.includes(N):V===N}function Xn(V,N){const R=lr(N);return lr(V).forEach(me=>{sr(R,me)||R.push(me)}),R}function sn(V,N){return lr(N).filter(R=>!sr(V,R))}class gn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(N){this._rawValidators=N||[],this._composedValidatorFn=Dt(this._rawValidators)}_setAsyncValidators(N){this._rawAsyncValidators=N||[],this._composedAsyncValidatorFn=Pn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(N){this._onDestroyCallbacks.push(N)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(N=>N()),this._onDestroyCallbacks=[]}reset(N){this.control&&this.control.reset(N)}hasError(N,R){return!!this.control&&this.control.hasError(N,R)}getError(N,R){return this.control?this.control.getError(N,R):null}}class Mn extends gn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wn extends gn{get formDirective(){return null}get path(){return null}}class _i{constructor(N){this._cd=N}is(N){var R,Y,me;return"submitted"===N?!!(null===(R=this._cd)||void 0===R?void 0:R.submitted):!!(null===(me=null===(Y=this._cd)||void 0===Y?void 0:Y.control)||void 0===me?void 0:me[N])}}let be=(()=>{class V extends _i{constructor(R){super(R)}}return V.\u0275fac=function(R){return new(R||V)(m.Y36(Mn,2))},V.\u0275dir=m.lG2({type:V,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(R,Y){2&R&&m.ekj("ng-untouched",Y.is("untouched"))("ng-touched",Y.is("touched"))("ng-pristine",Y.is("pristine"))("ng-dirty",Y.is("dirty"))("ng-valid",Y.is("valid"))("ng-invalid",Y.is("invalid"))("ng-pending",Y.is("pending"))},features:[m.qOj]}),V})(),Se=(()=>{class V extends _i{constructor(R){super(R)}}return V.\u0275fac=function(R){return new(R||V)(m.Y36(wn,10))},V.\u0275dir=m.lG2({type:V,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(R,Y){2&R&&m.ekj("ng-untouched",Y.is("untouched"))("ng-touched",Y.is("touched"))("ng-pristine",Y.is("pristine"))("ng-dirty",Y.is("dirty"))("ng-valid",Y.is("valid"))("ng-invalid",Y.is("invalid"))("ng-pending",Y.is("pending"))("ng-submitted",Y.is("submitted"))},features:[m.qOj]}),V})();function wt(V,N){return[...N.path,V]}function Bt(V,N){dn(V,N),N.valueAccessor.writeValue(V.value),function qr(V,N){N.valueAccessor.registerOnChange(R=>{V._pendingValue=R,V._pendingChange=!0,V._pendingDirty=!0,"change"===V.updateOn&&qe(V,N)})}(V,N),function Me(V,N){const R=(Y,me)=>{N.valueAccessor.writeValue(Y),me&&N.viewToModelUpdate(Y)};V.registerOnChange(R),N._registerOnDestroy(()=>{V._unregisterOnChange(R)})}(V,N),function Fi(V,N){N.valueAccessor.registerOnTouched(()=>{V._pendingTouched=!0,"blur"===V.updateOn&&V._pendingChange&&qe(V,N),"submit"!==V.updateOn&&V.markAsTouched()})}(V,N),function vr(V,N){if(N.valueAccessor.setDisabledState){const R=Y=>{N.valueAccessor.setDisabledState(Y)};V.registerOnDisabledChange(R),N._registerOnDestroy(()=>{V._unregisterOnDisabledChange(R)})}}(V,N)}function Wt(V,N,R=!0){const Y=()=>{};N.valueAccessor&&(N.valueAccessor.registerOnChange(Y),N.valueAccessor.registerOnTouched(Y)),Rr(V,N),V&&(N._invokeOnDestroyCallbacks(),V._registerOnCollectionChange(()=>{}))}function ln(V,N){V.forEach(R=>{R.registerOnValidatorChange&&R.registerOnValidatorChange(N)})}function dn(V,N){const R=Zn(V);null!==N.validator?V.setValidators(Wn(R,N.validator)):"function"==typeof R&&V.setValidators([R]);const Y=pr(V);null!==N.asyncValidator?V.setAsyncValidators(Wn(Y,N.asyncValidator)):"function"==typeof Y&&V.setAsyncValidators([Y]);const me=()=>V.updateValueAndValidity();ln(N._rawValidators,me),ln(N._rawAsyncValidators,me)}function Rr(V,N){let R=!1;if(null!==V){if(null!==N.validator){const me=Zn(V);if(Array.isArray(me)&&me.length>0){const Tt=me.filter(or=>or!==N.validator);Tt.length!==me.length&&(R=!0,V.setValidators(Tt))}}if(null!==N.asyncValidator){const me=pr(V);if(Array.isArray(me)&&me.length>0){const Tt=me.filter(or=>or!==N.asyncValidator);Tt.length!==me.length&&(R=!0,V.setAsyncValidators(Tt))}}}const Y=()=>{};return ln(N._rawValidators,Y),ln(N._rawAsyncValidators,Y),R}function qe(V,N){V._pendingDirty&&V.markAsDirty(),V.setValue(V._pendingValue,{emitModelToViewChange:!1}),N.viewToModelUpdate(V._pendingValue),V._pendingChange=!1}function Qr(V,N){if(!V.hasOwnProperty("model"))return!1;const R=V.model;return!!R.isFirstChange()||!Object.is(N,R.currentValue)}function li(V,N){if(!N)return null;let R,Y,me;return Array.isArray(N),N.forEach(Tt=>{Tt.constructor===oe?R=Tt:function Li(V){return Object.getPrototypeOf(V.constructor)===it}(Tt)?Y=Tt:me=Tt}),me||Y||R||null}function Gr(V,N){const R=V.indexOf(N);R>-1&&V.splice(R,1)}const $t="VALID",Gt="INVALID",Tn="PENDING",xr="DISABLED";function Qn(V){return(kr(V)?V.validators:V)||null}function Ei(V){return Array.isArray(V)?Dt(V):V||null}function cr(V,N){return(kr(N)?N.asyncValidators:V)||null}function ci(V){return Array.isArray(V)?Pn(V):V||null}function kr(V){return null!=V&&!Array.isArray(V)&&"object"==typeof V}const Nn=V=>V instanceof Wr,xi=V=>V instanceof nr,Ms=V=>V instanceof Kn;function os(V){return Nn(V)?V.value:V.getRawValue()}function Ci(V,N){const R=xi(V),Y=V.controls;if(!(R?Object.keys(Y):Y).length)throw new m.vHH(1e3,"");if(!Y[N])throw new m.vHH(1001,"")}function Ur(V,N){xi(V),V._forEachChild((Y,me)=>{if(void 0===N[me])throw new m.vHH(1002,"")})}class Br{constructor(N,R){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=N,this._rawAsyncValidators=R,this._composedValidatorFn=Ei(this._rawValidators),this._composedAsyncValidatorFn=ci(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(N){this._rawValidators=this._composedValidatorFn=N}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(N){this._rawAsyncValidators=this._composedAsyncValidatorFn=N}get parent(){return this._parent}get valid(){return this.status===$t}get invalid(){return this.status===Gt}get pending(){return this.status==Tn}get disabled(){return this.status===xr}get enabled(){return this.status!==xr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(N){this._rawValidators=N,this._composedValidatorFn=Ei(N)}setAsyncValidators(N){this._rawAsyncValidators=N,this._composedAsyncValidatorFn=ci(N)}addValidators(N){this.setValidators(Xn(N,this._rawValidators))}addAsyncValidators(N){this.setAsyncValidators(Xn(N,this._rawAsyncValidators))}removeValidators(N){this.setValidators(sn(N,this._rawValidators))}removeAsyncValidators(N){this.setAsyncValidators(sn(N,this._rawAsyncValidators))}hasValidator(N){return sr(this._rawValidators,N)}hasAsyncValidator(N){return sr(this._rawAsyncValidators,N)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(N={}){this.touched=!0,this._parent&&!N.onlySelf&&this._parent.markAsTouched(N)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(N=>N.markAllAsTouched())}markAsUntouched(N={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(R=>{R.markAsUntouched({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}markAsDirty(N={}){this.pristine=!1,this._parent&&!N.onlySelf&&this._parent.markAsDirty(N)}markAsPristine(N={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(R=>{R.markAsPristine({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}markAsPending(N={}){this.status=Tn,!1!==N.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!N.onlySelf&&this._parent.markAsPending(N)}disable(N={}){const R=this._parentMarkedDirty(N.onlySelf);this.status=xr,this.errors=null,this._forEachChild(Y=>{Y.disable(Object.assign(Object.assign({},N),{onlySelf:!0}))}),this._updateValue(),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},N),{skipPristineCheck:R})),this._onDisabledChange.forEach(Y=>Y(!0))}enable(N={}){const R=this._parentMarkedDirty(N.onlySelf);this.status=$t,this._forEachChild(Y=>{Y.enable(Object.assign(Object.assign({},N),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},N),{skipPristineCheck:R})),this._onDisabledChange.forEach(Y=>Y(!1))}_updateAncestors(N){this._parent&&!N.onlySelf&&(this._parent.updateValueAndValidity(N),N.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(N){this._parent=N}updateValueAndValidity(N={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$t||this.status===Tn)&&this._runAsyncValidator(N.emitEvent)),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!N.onlySelf&&this._parent.updateValueAndValidity(N)}_updateTreeValidity(N={emitEvent:!0}){this._forEachChild(R=>R._updateTreeValidity(N)),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xr:$t}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(N){if(this.asyncValidator){this.status=Tn,this._hasOwnPendingAsyncValidator=!0;const R=yn(this.asyncValidator(this));this._asyncValidationSubscription=R.subscribe(Y=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Y,{emitEvent:N})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(N,R={}){this.errors=N,this._updateControlsErrors(!1!==R.emitEvent)}get(N){return function Ri(V,N,R){if(null==N||(Array.isArray(N)||(N=N.split(R)),Array.isArray(N)&&0===N.length))return null;let Y=V;return N.forEach(me=>{Y=xi(Y)?Y.controls.hasOwnProperty(me)?Y.controls[me]:null:Ms(Y)&&Y.at(me)||null}),Y}(this,N,".")}getError(N,R){const Y=R?this.get(R):this;return Y&&Y.errors?Y.errors[N]:null}hasError(N,R){return!!this.getError(N,R)}get root(){let N=this;for(;N._parent;)N=N._parent;return N}_updateControlsErrors(N){this.status=this._calculateStatus(),N&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(N)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?xr:this.errors?Gt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Tn)?Tn:this._anyControlsHaveStatus(Gt)?Gt:$t}_anyControlsHaveStatus(N){return this._anyControls(R=>R.status===N)}_anyControlsDirty(){return this._anyControls(N=>N.dirty)}_anyControlsTouched(){return this._anyControls(N=>N.touched)}_updatePristine(N={}){this.pristine=!this._anyControlsDirty(),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}_updateTouched(N={}){this.touched=this._anyControlsTouched(),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}_isBoxedValue(N){return"object"==typeof N&&null!==N&&2===Object.keys(N).length&&"value"in N&&"disabled"in N}_registerOnCollectionChange(N){this._onCollectionChange=N}_setUpdateStrategy(N){kr(N)&&null!=N.updateOn&&(this._updateOn=N.updateOn)}_parentMarkedDirty(N){return!N&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Wr extends Br{constructor(N=null,R,Y){super(Qn(R),cr(Y,R)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(N),this._setUpdateStrategy(R),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kr(R)&&R.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(N)?N.value:N)}setValue(N,R={}){this.value=this._pendingValue=N,this._onChange.length&&!1!==R.emitModelToViewChange&&this._onChange.forEach(Y=>Y(this.value,!1!==R.emitViewToModelChange)),this.updateValueAndValidity(R)}patchValue(N,R={}){this.setValue(N,R)}reset(N=this.defaultValue,R={}){this._applyFormState(N),this.markAsPristine(R),this.markAsUntouched(R),this.setValue(this.value,R),this._pendingChange=!1}_updateValue(){}_anyControls(N){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(N){this._onChange.push(N)}_unregisterOnChange(N){Gr(this._onChange,N)}registerOnDisabledChange(N){this._onDisabledChange.push(N)}_unregisterOnDisabledChange(N){Gr(this._onDisabledChange,N)}_forEachChild(N){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(N){this._isBoxedValue(N)?(this.value=this._pendingValue=N.value,N.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=N}}class nr extends Br{constructor(N,R,Y){super(Qn(R),cr(Y,R)),this.controls=N,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(N,R){return this.controls[N]?this.controls[N]:(this.controls[N]=R,R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange),R)}addControl(N,R,Y={}){this.registerControl(N,R),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}removeControl(N,R={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}setControl(N,R,Y={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],R&&this.registerControl(N,R),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}contains(N){return this.controls.hasOwnProperty(N)&&this.controls[N].enabled}setValue(N,R={}){Ur(this,N),Object.keys(N).forEach(Y=>{Ci(this,Y),this.controls[Y].setValue(N[Y],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(N,R={}){null!=N&&(Object.keys(N).forEach(Y=>{this.controls[Y]&&this.controls[Y].patchValue(N[Y],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(N={},R={}){this._forEachChild((Y,me)=>{Y.reset(N[me],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this._reduceChildren({},(N,R,Y)=>(N[Y]=os(R),N))}_syncPendingControls(){let N=this._reduceChildren(!1,(R,Y)=>!!Y._syncPendingControls()||R);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){Object.keys(this.controls).forEach(R=>{const Y=this.controls[R];Y&&N(Y,R)})}_setUpControls(){this._forEachChild(N=>{N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(N){for(const R of Object.keys(this.controls)){const Y=this.controls[R];if(this.contains(R)&&N(Y))return!0}return!1}_reduceValue(){return this._reduceChildren({},(N,R,Y)=>((R.enabled||this.disabled)&&(N[Y]=R.value),N))}_reduceChildren(N,R){let Y=N;return this._forEachChild((me,Tt)=>{Y=R(Y,me,Tt)}),Y}_allControlsDisabled(){for(const N of Object.keys(this.controls))if(this.controls[N].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Kn extends Br{constructor(N,R,Y){super(Qn(R),cr(Y,R)),this.controls=N,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(N){return this.controls[N]}push(N,R={}){this.controls.push(N),this._registerControl(N),this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}insert(N,R,Y={}){this.controls.splice(N,0,R),this._registerControl(R),this.updateValueAndValidity({emitEvent:Y.emitEvent})}removeAt(N,R={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),this.controls.splice(N,1),this.updateValueAndValidity({emitEvent:R.emitEvent})}setControl(N,R,Y={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),this.controls.splice(N,1),R&&(this.controls.splice(N,0,R),this._registerControl(R)),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(N,R={}){Ur(this,N),N.forEach((Y,me)=>{Ci(this,me),this.at(me).setValue(Y,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(N,R={}){null!=N&&(N.forEach((Y,me)=>{this.at(me)&&this.at(me).patchValue(Y,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(N=[],R={}){this._forEachChild((Y,me)=>{Y.reset(N[me],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this.controls.map(N=>os(N))}clear(N={}){this.controls.length<1||(this._forEachChild(R=>R._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:N.emitEvent}))}_syncPendingControls(){let N=this.controls.reduce((R,Y)=>!!Y._syncPendingControls()||R,!1);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){this.controls.forEach((R,Y)=>{N(R,Y)})}_updateValue(){this.value=this.controls.filter(N=>N.enabled||this.disabled).map(N=>N.value)}_anyControls(N){return this.controls.some(R=>R.enabled&&N(R))}_setUpControls(){this._forEachChild(N=>this._registerControl(N))}_allControlsDisabled(){for(const N of this.controls)if(N.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(N){N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)}}const oa={provide:Mn,useExisting:(0,m.Gpc)(()=>Gi)},Dr=(()=>Promise.resolve(null))();let Gi=(()=>{class V extends Mn{constructor(R,Y,me,Tt,or){super(),this._changeDetectorRef=or,this.control=new Wr,this._registered=!1,this.update=new m.vpe,this._parent=R,this._setValidators(Y),this._setAsyncValidators(me),this.valueAccessor=li(0,Tt)}ngOnChanges(R){if(this._checkForErrors(),!this._registered||"name"in R){if(this._registered&&(this._checkName(),this.formDirective)){const Y=R.name.previousValue;this.formDirective.removeControl({name:Y,path:this._getPath(Y)})}this._setUpControl()}"isDisabled"in R&&this._updateDisabled(R),Qr(R,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Bt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(R){Dr.then(()=>{var Y;this.control.setValue(R,{emitViewToModelChange:!1}),null===(Y=this._changeDetectorRef)||void 0===Y||Y.markForCheck()})}_updateDisabled(R){const Y=R.isDisabled.currentValue,me=""===Y||Y&&"false"!==Y;Dr.then(()=>{var Tt;me&&!this.control.disabled?this.control.disable():!me&&this.control.disabled&&this.control.enable(),null===(Tt=this._changeDetectorRef)||void 0===Tt||Tt.markForCheck()})}_getPath(R){return this._parent?wt(R,this._parent):[R]}}return V.\u0275fac=function(R){return new(R||V)(m.Y36(wn,9),m.Y36(Ge,10),m.Y36(ot,10),m.Y36(ht,10),m.Y36(m.sBO,8))},V.\u0275dir=m.lG2({type:V,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m._Bn([oa]),m.qOj,m.TTD]}),V})(),zs=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275dir=m.lG2({type:V,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),V})();const Ne={provide:ht,useExisting:(0,m.Gpc)(()=>Ie),multi:!0};let Ie=(()=>{class V extends it{writeValue(R){this.setProperty("value",null==R?"":R)}registerOnChange(R){this.onChange=Y=>{R(""==Y?null:parseFloat(Y))}}}return V.\u0275fac=function(){let N;return function(Y){return(N||(N=m.n5z(V)))(Y||V)}}(),V.\u0275dir=m.lG2({type:V,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(R,Y){1&R&&m.NdJ("input",function(Tt){return Y.onChange(Tt.target.value)})("blur",function(){return Y.onTouched()})},features:[m._Bn([Ne]),m.qOj]}),V})(),Lt=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275mod=m.oAB({type:V}),V.\u0275inj=m.cJS({}),V})();const _s=new m.OlP("NgModelWithFormControlWarning"),bo={provide:wn,useExisting:(0,m.Gpc)(()=>Rs)};let Rs=(()=>{class V extends wn{constructor(R,Y){super(),this.validators=R,this.asyncValidators=Y,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.vpe,this._setValidators(R),this._setAsyncValidators(Y)}ngOnChanges(R){this._checkFormPresent(),R.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(R){const Y=this.form.get(R.path);return Bt(Y,R),Y.updateValueAndValidity({emitEvent:!1}),this.directives.push(R),Y}getControl(R){return this.form.get(R.path)}removeControl(R){Wt(R.control||null,R,!1),Gr(this.directives,R)}addFormGroup(R){this._setUpFormContainer(R)}removeFormGroup(R){this._cleanUpFormContainer(R)}getFormGroup(R){return this.form.get(R.path)}addFormArray(R){this._setUpFormContainer(R)}removeFormArray(R){this._cleanUpFormContainer(R)}getFormArray(R){return this.form.get(R.path)}updateModel(R,Y){this.form.get(R.path).setValue(Y)}onSubmit(R){return this.submitted=!0,function vi(V,N){V._syncPendingControls(),N.forEach(R=>{const Y=R.control;"submit"===Y.updateOn&&Y._pendingChange&&(R.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(R),!1}onReset(){this.resetForm()}resetForm(R){this.form.reset(R),this.submitted=!1}_updateDomValue(){this.directives.forEach(R=>{const Y=R.control,me=this.form.get(R.path);Y!==me&&(Wt(Y||null,R),Nn(me)&&(Bt(me,R),R.control=me))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(R){const Y=this.form.get(R.path);(function ie(V,N){dn(V,N)})(Y,R),Y.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(R){if(this.form){const Y=this.form.get(R.path);Y&&function Le(V,N){return Rr(V,N)}(Y,R)&&Y.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){dn(this.form,this),this._oldForm&&Rr(this._oldForm,this)}_checkFormPresent(){}}return V.\u0275fac=function(R){return new(R||V)(m.Y36(Ge,10),m.Y36(ot,10))},V.\u0275dir=m.lG2({type:V,selectors:[["","formGroup",""]],hostBindings:function(R,Y){1&R&&m.NdJ("submit",function(Tt){return Y.onSubmit(Tt)})("reset",function(){return Y.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([bo]),m.qOj,m.TTD]}),V})();const zi={provide:Mn,useExisting:(0,m.Gpc)(()=>wi)};let wi=(()=>{class V extends Mn{constructor(R,Y,me,Tt,or){super(),this._ngModelWarningConfig=or,this._added=!1,this.update=new m.vpe,this._ngModelWarningSent=!1,this._parent=R,this._setValidators(Y),this._setAsyncValidators(me),this.valueAccessor=li(0,Tt)}set isDisabled(R){}ngOnChanges(R){this._added||this._setUpControl(),Qr(R,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}get path(){return wt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return V._ngModelWarningSentOnce=!1,V.\u0275fac=function(R){return new(R||V)(m.Y36(wn,13),m.Y36(Ge,10),m.Y36(ot,10),m.Y36(ht,10),m.Y36(_s,8))},V.\u0275dir=m.lG2({type:V,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[m._Bn([zi]),m.qOj,m.TTD]}),V})();const Io={provide:ht,useExisting:(0,m.Gpc)(()=>Di),multi:!0};function xs(V,N){return null==V?`${N}`:(N&&"object"==typeof N&&(N="Object"),`${V}: ${N}`.slice(0,50))}let Di=(()=>{class V extends it{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(R){this._compareWith=R}writeValue(R){this.value=R;const me=xs(this._getOptionId(R),R);this.setProperty("value",me)}registerOnChange(R){this.onChange=Y=>{this.value=this._getOptionValue(Y),R(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(R){for(const Y of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Y),R))return Y;return null}_getOptionValue(R){const Y=function Bo(V){return V.split(":")[0]}(R);return this._optionMap.has(Y)?this._optionMap.get(Y):R}}return V.\u0275fac=function(){let N;return function(Y){return(N||(N=m.n5z(V)))(Y||V)}}(),V.\u0275dir=m.lG2({type:V,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(R,Y){1&R&&m.NdJ("change",function(Tt){return Y.onChange(Tt.target.value)})("blur",function(){return Y.onTouched()})},inputs:{compareWith:"compareWith"},features:[m._Bn([Io]),m.qOj]}),V})(),ro=(()=>{class V{constructor(R,Y,me){this._element=R,this._renderer=Y,this._select=me,this._select&&(this.id=this._select._registerOption())}set ngValue(R){null!=this._select&&(this._select._optionMap.set(this.id,R),this._setElementValue(xs(this.id,R)),this._select.writeValue(this._select.value))}set value(R){this._setElementValue(R),this._select&&this._select.writeValue(this._select.value)}_setElementValue(R){this._renderer.setProperty(this._element.nativeElement,"value",R)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return V.\u0275fac=function(R){return new(R||V)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(Di,9))},V.\u0275dir=m.lG2({type:V,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),V})();const fi={provide:ht,useExisting:(0,m.Gpc)(()=>Fr),multi:!0};function Mo(V,N){return null==V?`${N}`:("string"==typeof N&&(N=`'${N}'`),N&&"object"==typeof N&&(N="Object"),`${V}: ${N}`.slice(0,50))}let Fr=(()=>{class V extends it{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(R){this._compareWith=R}writeValue(R){let Y;if(this.value=R,Array.isArray(R)){const me=R.map(Tt=>this._getOptionId(Tt));Y=(Tt,or)=>{Tt._setSelected(me.indexOf(or.toString())>-1)}}else Y=(me,Tt)=>{me._setSelected(!1)};this._optionMap.forEach(Y)}registerOnChange(R){this.onChange=Y=>{const me=[],Tt=Y.selectedOptions;if(void 0!==Tt){const or=Tt;for(let rr=0;rr<or.length;rr++){const Es=this._getOptionValue(or[rr].value);me.push(Es)}}else{const or=Y.options;for(let rr=0;rr<or.length;rr++){const Bi=or[rr];if(Bi.selected){const Es=this._getOptionValue(Bi.value);me.push(Es)}}}this.value=me,R(me)}}_registerOption(R){const Y=(this._idCounter++).toString();return this._optionMap.set(Y,R),Y}_getOptionId(R){for(const Y of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Y)._value,R))return Y;return null}_getOptionValue(R){const Y=function si(V){return V.split(":")[0]}(R);return this._optionMap.has(Y)?this._optionMap.get(Y)._value:R}}return V.\u0275fac=function(){let N;return function(Y){return(N||(N=m.n5z(V)))(Y||V)}}(),V.\u0275dir=m.lG2({type:V,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(R,Y){1&R&&m.NdJ("change",function(Tt){return Y.onChange(Tt.target)})("blur",function(){return Y.onTouched()})},inputs:{compareWith:"compareWith"},features:[m._Bn([fi]),m.qOj]}),V})(),To=(()=>{class V{constructor(R,Y,me){this._element=R,this._renderer=Y,this._select=me,this._select&&(this.id=this._select._registerOption(this))}set ngValue(R){null!=this._select&&(this._value=R,this._setElementValue(Mo(this.id,R)),this._select.writeValue(this._select.value))}set value(R){this._select?(this._value=R,this._setElementValue(Mo(this.id,R)),this._select.writeValue(this._select.value)):this._setElementValue(R)}_setElementValue(R){this._renderer.setProperty(this._element.nativeElement,"value",R)}_setSelected(R){this._renderer.setProperty(this._element.nativeElement,"selected",R)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return V.\u0275fac=function(R){return new(R||V)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(Fr,9))},V.\u0275dir=m.lG2({type:V,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),V})(),Ui=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275mod=m.oAB({type:V}),V.\u0275inj=m.cJS({imports:[[Lt]]}),V})(),An=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275mod=m.oAB({type:V}),V.\u0275inj=m.cJS({imports:[Ui]}),V})(),Oi=(()=>{class V{static withConfig(R){return{ngModule:V,providers:[{provide:_s,useValue:R.warnOnNgModelWithFormControl}]}}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275mod=m.oAB({type:V}),V.\u0275inj=m.cJS({imports:[Ui]}),V})(),Co=(()=>{class V{group(R,Y=null){const me=this._reduceControls(R);let rr,Tt=null,or=null;return null!=Y&&(function Os(V){return void 0!==V.asyncValidators||void 0!==V.validators||void 0!==V.updateOn}(Y)?(Tt=null!=Y.validators?Y.validators:null,or=null!=Y.asyncValidators?Y.asyncValidators:null,rr=null!=Y.updateOn?Y.updateOn:void 0):(Tt=null!=Y.validator?Y.validator:null,or=null!=Y.asyncValidator?Y.asyncValidator:null)),new nr(me,{asyncValidators:or,updateOn:rr,validators:Tt})}control(R,Y,me){return new Wr(R,Y,me)}array(R,Y,me){const Tt=R.map(or=>this._createControl(or));return new Kn(Tt,Y,me)}_reduceControls(R){const Y={};return Object.keys(R).forEach(me=>{Y[me]=this._createControl(R[me])}),Y}_createControl(R){return Nn(R)||xi(R)||Ms(R)?R:Array.isArray(R)?this.control(R[0],R.length>1?R[1]:null,R.length>2?R[2]:null):this.control(R)}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275prov=m.Yz7({token:V,factory:V.\u0275fac,providedIn:Oi}),V})()},2313:(jt,ze,U)=>{U.d(ze,{H7:()=>dn,b2:()=>sr,q6:()=>pr,se:()=>tt});var m=U(9808),O=U(5e3);class X extends m.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Te extends X{static makeCurrent(){(0,m.HT)(new Te)}onAndCancel(Me,ie,Le){return Me.addEventListener(ie,Le,!1),()=>{Me.removeEventListener(ie,Le,!1)}}dispatchEvent(Me,ie){Me.dispatchEvent(ie)}remove(Me){Me.parentNode&&Me.parentNode.removeChild(Me)}createElement(Me,ie){return(ie=ie||this.getDefaultDocument()).createElement(Me)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Me){return Me.nodeType===Node.ELEMENT_NODE}isShadowRoot(Me){return Me instanceof DocumentFragment}getGlobalEventTarget(Me,ie){return"window"===ie?window:"document"===ie?Me:"body"===ie?Me.body:null}getBaseHref(Me){const ie=function Ae(){return De=De||document.querySelector("base"),De?De.getAttribute("href"):null}();return null==ie?null:function Oe(qe){Ue=Ue||document.createElement("a"),Ue.setAttribute("href",qe);const Me=Ue.pathname;return"/"===Me.charAt(0)?Me:`/${Me}`}(ie)}resetBaseElement(){De=null}getUserAgent(){return window.navigator.userAgent}getCookie(Me){return(0,m.Mx)(document.cookie,Me)}}let Ue,De=null;const je=new O.OlP("TRANSITION_ID"),fe=[{provide:O.ip1,useFactory:function pe(qe,Me,ie){return()=>{ie.get(O.CZH).donePromise.then(()=>{const Le=(0,m.q)(),ft=Me.querySelectorAll(`style[ng-transition="${qe}"]`);for(let tn=0;tn<ft.length;tn++)Le.remove(ft[tn])})}},deps:[je,m.K0,O.zs3],multi:!0}];class Ve{static init(){(0,O.VLi)(new Ve)}addToWindow(Me){O.dqk.getAngularTestability=(Le,ft=!0)=>{const tn=Me.findTestabilityInTree(Le,ft);if(null==tn)throw new Error("Could not find testability for element.");return tn},O.dqk.getAllAngularTestabilities=()=>Me.getAllTestabilities(),O.dqk.getAllAngularRootElements=()=>Me.getAllRootElements(),O.dqk.frameworkStabilizers||(O.dqk.frameworkStabilizers=[]),O.dqk.frameworkStabilizers.push(Le=>{const ft=O.dqk.getAllAngularTestabilities();let tn=ft.length,mn=!1;const gr=function(Qr){mn=mn||Qr,tn--,0==tn&&Le(mn)};ft.forEach(function(Qr){Qr.whenStable(gr)})})}findTestabilityInTree(Me,ie,Le){if(null==ie)return null;const ft=Me.getTestability(ie);return null!=ft?ft:Le?(0,m.q)().isShadowRoot(ie)?this.findTestabilityInTree(Me,ie.host,!0):this.findTestabilityInTree(Me,ie.parentElement,!0):null}}let St=(()=>{class qe{build(){return new XMLHttpRequest}}return qe.\u0275fac=function(ie){return new(ie||qe)},qe.\u0275prov=O.Yz7({token:qe,factory:qe.\u0275fac}),qe})();const it=new O.OlP("EventManagerPlugins");let ht=(()=>{class qe{constructor(ie,Le){this._zone=Le,this._eventNameToPlugin=new Map,ie.forEach(ft=>ft.manager=this),this._plugins=ie.slice().reverse()}addEventListener(ie,Le,ft){return this._findPluginFor(Le).addEventListener(ie,Le,ft)}addGlobalEventListener(ie,Le,ft){return this._findPluginFor(Le).addGlobalEventListener(ie,Le,ft)}getZone(){return this._zone}_findPluginFor(ie){const Le=this._eventNameToPlugin.get(ie);if(Le)return Le;const ft=this._plugins;for(let tn=0;tn<ft.length;tn++){const mn=ft[tn];if(mn.supports(ie))return this._eventNameToPlugin.set(ie,mn),mn}throw new Error(`No event manager plugin found for event ${ie}`)}}return qe.\u0275fac=function(ie){return new(ie||qe)(O.LFG(it),O.LFG(O.R0b))},qe.\u0275prov=O.Yz7({token:qe,factory:qe.\u0275fac}),qe})();class Mt{constructor(Me){this._doc=Me}addGlobalEventListener(Me,ie,Le){const ft=(0,m.q)().getGlobalEventTarget(this._doc,Me);if(!ft)throw new Error(`Unsupported event target ${ft} for event ${ie}`);return this.addEventListener(ft,ie,Le)}}let Ze=(()=>{class qe{constructor(){this._stylesSet=new Set}addStyles(ie){const Le=new Set;ie.forEach(ft=>{this._stylesSet.has(ft)||(this._stylesSet.add(ft),Le.add(ft))}),this.onStylesAdded(Le)}onStylesAdded(ie){}getAllStyles(){return Array.from(this._stylesSet)}}return qe.\u0275fac=function(ie){return new(ie||qe)},qe.\u0275prov=O.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),dt=(()=>{class qe extends Ze{constructor(ie){super(),this._doc=ie,this._hostNodes=new Map,this._hostNodes.set(ie.head,[])}_addStylesToHost(ie,Le,ft){ie.forEach(tn=>{const mn=this._doc.createElement("style");mn.textContent=tn,ft.push(Le.appendChild(mn))})}addHost(ie){const Le=[];this._addStylesToHost(this._stylesSet,ie,Le),this._hostNodes.set(ie,Le)}removeHost(ie){const Le=this._hostNodes.get(ie);Le&&Le.forEach(Vt),this._hostNodes.delete(ie)}onStylesAdded(ie){this._hostNodes.forEach((Le,ft)=>{this._addStylesToHost(ie,ft,Le)})}ngOnDestroy(){this._hostNodes.forEach(ie=>ie.forEach(Vt))}}return qe.\u0275fac=function(ie){return new(ie||qe)(O.LFG(m.K0))},qe.\u0275prov=O.Yz7({token:qe,factory:qe.\u0275fac}),qe})();function Vt(qe){(0,m.q)().remove(qe)}const Ut={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},oe=/%COMP%/g;function se(qe,Me,ie){for(let Le=0;Le<Me.length;Le++){let ft=Me[Le];Array.isArray(ft)?se(qe,ft,ie):(ft=ft.replace(oe,qe),ie.push(ft))}return ie}function ke(qe){return Me=>{if("__ngUnwrap__"===Me)return qe;!1===qe(Me)&&(Me.preventDefault(),Me.returnValue=!1)}}let tt=(()=>{class qe{constructor(ie,Le,ft){this.eventManager=ie,this.sharedStylesHost=Le,this.appId=ft,this.rendererByCompId=new Map,this.defaultRenderer=new We(ie)}createRenderer(ie,Le){if(!ie||!Le)return this.defaultRenderer;switch(Le.encapsulation){case O.ifc.Emulated:{let ft=this.rendererByCompId.get(Le.id);return ft||(ft=new Ot(this.eventManager,this.sharedStylesHost,Le,this.appId),this.rendererByCompId.set(Le.id,ft)),ft.applyToHost(ie),ft}case 1:case O.ifc.ShadowDom:return new Zt(this.eventManager,this.sharedStylesHost,ie,Le);default:if(!this.rendererByCompId.has(Le.id)){const ft=se(Le.id,Le.styles,[]);this.sharedStylesHost.addStyles(ft),this.rendererByCompId.set(Le.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return qe.\u0275fac=function(ie){return new(ie||qe)(O.LFG(ht),O.LFG(dt),O.LFG(O.AFp))},qe.\u0275prov=O.Yz7({token:qe,factory:qe.\u0275fac}),qe})();class We{constructor(Me){this.eventManager=Me,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Me,ie){return ie?document.createElementNS(Ut[ie]||ie,Me):document.createElement(Me)}createComment(Me){return document.createComment(Me)}createText(Me){return document.createTextNode(Me)}appendChild(Me,ie){Me.appendChild(ie)}insertBefore(Me,ie,Le){Me&&Me.insertBefore(ie,Le)}removeChild(Me,ie){Me&&Me.removeChild(ie)}selectRootElement(Me,ie){let Le="string"==typeof Me?document.querySelector(Me):Me;if(!Le)throw new Error(`The selector "${Me}" did not match any elements`);return ie||(Le.textContent=""),Le}parentNode(Me){return Me.parentNode}nextSibling(Me){return Me.nextSibling}setAttribute(Me,ie,Le,ft){if(ft){ie=ft+":"+ie;const tn=Ut[ft];tn?Me.setAttributeNS(tn,ie,Le):Me.setAttribute(ie,Le)}else Me.setAttribute(ie,Le)}removeAttribute(Me,ie,Le){if(Le){const ft=Ut[Le];ft?Me.removeAttributeNS(ft,ie):Me.removeAttribute(`${Le}:${ie}`)}else Me.removeAttribute(ie)}addClass(Me,ie){Me.classList.add(ie)}removeClass(Me,ie){Me.classList.remove(ie)}setStyle(Me,ie,Le,ft){ft&(O.JOm.DashCase|O.JOm.Important)?Me.style.setProperty(ie,Le,ft&O.JOm.Important?"important":""):Me.style[ie]=Le}removeStyle(Me,ie,Le){Le&O.JOm.DashCase?Me.style.removeProperty(ie):Me.style[ie]=""}setProperty(Me,ie,Le){Me[ie]=Le}setValue(Me,ie){Me.nodeValue=ie}listen(Me,ie,Le){return"string"==typeof Me?this.eventManager.addGlobalEventListener(Me,ie,ke(Le)):this.eventManager.addEventListener(Me,ie,ke(Le))}}class Ot extends We{constructor(Me,ie,Le,ft){super(Me),this.component=Le;const tn=se(ft+"-"+Le.id,Le.styles,[]);ie.addStyles(tn),this.contentAttr=function de(qe){return"_ngcontent-%COMP%".replace(oe,qe)}(ft+"-"+Le.id),this.hostAttr=function Xe(qe){return"_nghost-%COMP%".replace(oe,qe)}(ft+"-"+Le.id)}applyToHost(Me){super.setAttribute(Me,this.hostAttr,"")}createElement(Me,ie){const Le=super.createElement(Me,ie);return super.setAttribute(Le,this.contentAttr,""),Le}}class Zt extends We{constructor(Me,ie,Le,ft){super(Me),this.sharedStylesHost=ie,this.hostEl=Le,this.shadowRoot=Le.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const tn=se(ft.id,ft.styles,[]);for(let mn=0;mn<tn.length;mn++){const gr=document.createElement("style");gr.textContent=tn[mn],this.shadowRoot.appendChild(gr)}}nodeOrShadowRoot(Me){return Me===this.hostEl?this.shadowRoot:Me}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Me,ie){return super.appendChild(this.nodeOrShadowRoot(Me),ie)}insertBefore(Me,ie,Le){return super.insertBefore(this.nodeOrShadowRoot(Me),ie,Le)}removeChild(Me,ie){return super.removeChild(this.nodeOrShadowRoot(Me),ie)}parentNode(Me){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Me)))}}let Ct=(()=>{class qe extends Mt{constructor(ie){super(ie)}supports(ie){return!0}addEventListener(ie,Le,ft){return ie.addEventListener(Le,ft,!1),()=>this.removeEventListener(ie,Le,ft)}removeEventListener(ie,Le,ft){return ie.removeEventListener(Le,ft)}}return qe.\u0275fac=function(ie){return new(ie||qe)(O.LFG(m.K0))},qe.\u0275prov=O.Yz7({token:qe,factory:qe.\u0275fac}),qe})();const yn=["alt","control","meta","shift"],nt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},et={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},we={alt:qe=>qe.altKey,control:qe=>qe.ctrlKey,meta:qe=>qe.metaKey,shift:qe=>qe.shiftKey};let Be=(()=>{class qe extends Mt{constructor(ie){super(ie)}supports(ie){return null!=qe.parseEventName(ie)}addEventListener(ie,Le,ft){const tn=qe.parseEventName(Le),mn=qe.eventCallback(tn.fullKey,ft,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,m.q)().onAndCancel(ie,tn.domEventName,mn))}static parseEventName(ie){const Le=ie.toLowerCase().split("."),ft=Le.shift();if(0===Le.length||"keydown"!==ft&&"keyup"!==ft)return null;const tn=qe._normalizeKey(Le.pop());let mn="";if(yn.forEach(Qr=>{const Li=Le.indexOf(Qr);Li>-1&&(Le.splice(Li,1),mn+=Qr+".")}),mn+=tn,0!=Le.length||0===tn.length)return null;const gr={};return gr.domEventName=ft,gr.fullKey=mn,gr}static getEventFullKey(ie){let Le="",ft=function Dt(qe){let Me=qe.key;if(null==Me){if(Me=qe.keyIdentifier,null==Me)return"Unidentified";Me.startsWith("U+")&&(Me=String.fromCharCode(parseInt(Me.substring(2),16)),3===qe.location&&et.hasOwnProperty(Me)&&(Me=et[Me]))}return nt[Me]||Me}(ie);return ft=ft.toLowerCase()," "===ft?ft="space":"."===ft&&(ft="dot"),yn.forEach(tn=>{tn!=ft&&we[tn](ie)&&(Le+=tn+".")}),Le+=ft,Le}static eventCallback(ie,Le,ft){return tn=>{qe.getEventFullKey(tn)===ie&&ft.runGuarded(()=>Le(tn))}}static _normalizeKey(ie){return"esc"===ie?"escape":ie}}return qe.\u0275fac=function(ie){return new(ie||qe)(O.LFG(m.K0))},qe.\u0275prov=O.Yz7({token:qe,factory:qe.\u0275fac}),qe})();const pr=(0,O.eFA)(O._c5,"browser",[{provide:O.Lbi,useValue:m.bD},{provide:O.g9A,useValue:function Ht(){Te.makeCurrent(),Ve.init()},multi:!0},{provide:m.K0,useFactory:function Wn(){return(0,O.RDi)(document),document},deps:[]}]),lr=[{provide:O.zSh,useValue:"root"},{provide:O.qLn,useFactory:function Pn(){return new O.qLn},deps:[]},{provide:it,useClass:Ct,multi:!0,deps:[m.K0,O.R0b,O.Lbi]},{provide:it,useClass:Be,multi:!0,deps:[m.K0]},{provide:tt,useClass:tt,deps:[ht,dt,O.AFp]},{provide:O.FYo,useExisting:tt},{provide:Ze,useExisting:dt},{provide:dt,useClass:dt,deps:[m.K0]},{provide:O.dDg,useClass:O.dDg,deps:[O.R0b]},{provide:ht,useClass:ht,deps:[it,O.R0b]},{provide:m.JF,useClass:St,deps:[]}];let sr=(()=>{class qe{constructor(ie){if(ie)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(ie){return{ngModule:qe,providers:[{provide:O.AFp,useValue:ie.appId},{provide:je,useExisting:O.AFp},fe]}}}return qe.\u0275fac=function(ie){return new(ie||qe)(O.LFG(qe,12))},qe.\u0275mod=O.oAB({type:qe}),qe.\u0275inj=O.cJS({providers:lr,imports:[m.ez,O.hGG]}),qe})();"undefined"!=typeof window&&window;let dn=(()=>{class qe{}return qe.\u0275fac=function(ie){return new(ie||qe)},qe.\u0275prov=O.Yz7({token:qe,factory:function(ie){let Le=null;return Le=ie?new(ie||qe):O.LFG(qr),Le},providedIn:"root"}),qe})(),qr=(()=>{class qe extends dn{constructor(ie){super(),this._doc=ie}sanitize(ie,Le){if(null==Le)return null;switch(ie){case O.q3G.NONE:return Le;case O.q3G.HTML:return(0,O.qzn)(Le,"HTML")?(0,O.z3N)(Le):(0,O.EiD)(this._doc,String(Le)).toString();case O.q3G.STYLE:return(0,O.qzn)(Le,"Style")?(0,O.z3N)(Le):Le;case O.q3G.SCRIPT:if((0,O.qzn)(Le,"Script"))return(0,O.z3N)(Le);throw new Error("unsafe value used in a script context");case O.q3G.URL:return(0,O.yhl)(Le),(0,O.qzn)(Le,"URL")?(0,O.z3N)(Le):(0,O.mCW)(String(Le));case O.q3G.RESOURCE_URL:if((0,O.qzn)(Le,"ResourceURL"))return(0,O.z3N)(Le);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ie} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ie){return(0,O.JVY)(ie)}bypassSecurityTrustStyle(ie){return(0,O.L6k)(ie)}bypassSecurityTrustScript(ie){return(0,O.eBb)(ie)}bypassSecurityTrustUrl(ie){return(0,O.LAX)(ie)}bypassSecurityTrustResourceUrl(ie){return(0,O.pB0)(ie)}}return qe.\u0275fac=function(ie){return new(ie||qe)(O.LFG(m.K0))},qe.\u0275prov=O.Yz7({token:qe,factory:function(ie){let Le=null;return Le=ie?new ie:function Rr(qe){return new qr(qe.get(m.K0))}(O.LFG(O.zs3)),Le},providedIn:"root"}),qe})()},3809:(jt,ze,U)=>{U.d(ze,{F0:()=>yr,yS:()=>lo,Bz:()=>Go,lC:()=>so});var m=U(5e3),O=U(7579);class X extends O.x{constructor(T){super(),this._value=T}get value(){return this.getValue()}_subscribe(T){const E=super._subscribe(T);return!E.closed&&T.next(this._value),E}getValue(){const{hasError:T,thrownError:E,_value:M}=this;if(T)throw E;return this._throwIfClosed(),M}next(T){super.next(this._value=T)}}var Te=U(8306),De=U(4742),Ae=U(8996),Ue=U(4671),Oe=U(3268),je=U(7669),pe=U(1810),fe=U(5403),Ve=U(9672);function ht(D,T,E){D?(0,Ve.f)(E,D,T):T()}var Mt=U(576);function Ze(D,T){const E=(0,Mt.m)(D)?D:()=>D,M=B=>B.error(E());return new Te.y(T?B=>T.schedule(M,0,B):M)}var dt=U(8421);function Vt(D){return new Te.y(T=>{(0,dt.Xf)(D()).subscribe(T)})}var Ut=U(727),oe=U(4482);function ve(){return(0,oe.e)((D,T)=>{let E=null;D._refCount++;const M=(0,fe.x)(T,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(E=null);const B=D._connection,z=E;E=null,B&&(!z||B===z)&&B.unsubscribe(),T.unsubscribe()});D.subscribe(M),M.closed||(E=D.connect())})}class Ke extends Te.y{constructor(T,E){super(),this.source=T,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,oe.A)(T)&&(this.lift=T.lift)}_subscribe(T){return this.getSubject().subscribe(T)}getSubject(){const T=this._subject;return(!T||T.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:T}=this;this._subject=this._connection=null,null==T||T.unsubscribe()}connect(){let T=this._connection;if(!T){T=this._connection=new Ut.w0;const E=this.getSubject();T.add(this.source.subscribe((0,fe.x)(E,void 0,()=>{this._teardown(),E.complete()},M=>{this._teardown(),E.error(M)},()=>this._teardown()))),T.closed&&(this._connection=null,T=Ut.w0.EMPTY)}return T}refCount(){return ve()(this)}}var Ge=U(9646),ot=U(6805),de=U(7272),Xe=U(515);function se(D){return(0,oe.e)((T,E)=>{let z,M=null,B=!1;M=T.subscribe((0,fe.x)(E,void 0,void 0,q=>{z=(0,dt.Xf)(D(q,se(D)(T))),M?(M.unsubscribe(),M=null,z.subscribe(E)):B=!0})),B&&(M.unsubscribe(),M=null,z.subscribe(E))})}var ke=U(9300);function _e(D){return D<=0?()=>Xe.E:(0,oe.e)((T,E)=>{let M=[];T.subscribe((0,fe.x)(E,B=>{M.push(B),D<M.length&&M.shift()},()=>{for(const B of M)E.next(B);E.complete()},void 0,()=>{M=null}))})}var tt=U(8068),We=U(6590),Ot=U(4004),Zt=U(3900),Ct=U(5698),yn=U(8675),Qt=U(5026),nt=U(4351),et=U(590),we=U(5577),Be=U(8505),Dt=U(8189),Ht=U(9808);class Pn{constructor(T,E){this.id=T,this.url=E}}class Wn extends Pn{constructor(T,E,M="imperative",B=null){super(T,E),this.navigationTrigger=M,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zn extends Pn{constructor(T,E,M){super(T,E),this.urlAfterRedirects=M}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pr extends Pn{constructor(T,E,M){super(T,E),this.reason=M}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class lr extends Pn{constructor(T,E,M){super(T,E),this.error=M}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class sr extends Pn{constructor(T,E,M,B){super(T,E),this.urlAfterRedirects=M,this.state=B}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xn extends Pn{constructor(T,E,M,B){super(T,E),this.urlAfterRedirects=M,this.state=B}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sn extends Pn{constructor(T,E,M,B,z){super(T,E),this.urlAfterRedirects=M,this.state=B,this.shouldActivate=z}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gn extends Pn{constructor(T,E,M,B){super(T,E),this.urlAfterRedirects=M,this.state=B}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mn extends Pn{constructor(T,E,M,B){super(T,E),this.urlAfterRedirects=M,this.state=B}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wn{constructor(T){this.route=T}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _i{constructor(T){this.route=T}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ui{constructor(T){this.snapshot=T}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gt{constructor(T){this.snapshot=T}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class be{constructor(T){this.snapshot=T}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Se{constructor(T){this.snapshot=T}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Et{constructor(T,E,M){this.routerEvent=T,this.position=E,this.anchor=M}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const He="primary";class _t{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const E=this.params[T];return Array.isArray(E)?E[0]:E}return null}getAll(T){if(this.has(T)){const E=this.params[T];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function kt(D){return new _t(D)}const pn="ngNavigationCancelingError";function _n(D){const T=Error("NavigationCancelingError: "+D);return T[pn]=!0,T}function Yr(D,T,E){const M=E.path.split("/");if(M.length>D.length||"full"===E.pathMatch&&(T.hasChildren()||M.length<D.length))return null;const B={};for(let z=0;z<M.length;z++){const q=M[z],re=D[z];if(q.startsWith(":"))B[q.substring(1)]=re;else if(q!==re.path)return null}return{consumed:D.slice(0,M.length),posParams:B}}function Yn(D,T){const E=D?Object.keys(D):void 0,M=T?Object.keys(T):void 0;if(!E||!M||E.length!=M.length)return!1;let B;for(let z=0;z<E.length;z++)if(B=E[z],!ue(D[B],T[B]))return!1;return!0}function ue(D,T){if(Array.isArray(D)&&Array.isArray(T)){if(D.length!==T.length)return!1;const E=[...D].sort(),M=[...T].sort();return E.every((B,z)=>M[z]===B)}return D===T}function ge(D){return Array.prototype.concat.apply([],D)}function Ce(D){return D.length>0?D[D.length-1]:null}function he(D,T){for(const E in D)D.hasOwnProperty(E)&&T(D[E],E)}function Pe(D){return(0,m.CqO)(D)?D:(0,m.QGY)(D)?(0,Ae.D)(Promise.resolve(D)):(0,Ge.of)(D)}const Bt={exact:function dn(D,T,E){if(!tn(D.segments,T.segments)||!qe(D.segments,T.segments,E)||D.numberOfChildren!==T.numberOfChildren)return!1;for(const M in T.children)if(!D.children[M]||!dn(D.children[M],T.children[M],E))return!1;return!0},subset:qr},Wt={exact:function vr(D,T){return Yn(D,T)},subset:function Rr(D,T){return Object.keys(T).length<=Object.keys(D).length&&Object.keys(T).every(E=>ue(D[E],T[E]))},ignored:()=>!0};function ln(D,T,E){return Bt[E.paths](D.root,T.root,E.matrixParams)&&Wt[E.queryParams](D.queryParams,T.queryParams)&&!("exact"===E.fragment&&D.fragment!==T.fragment)}function qr(D,T,E){return Fi(D,T,T.segments,E)}function Fi(D,T,E,M){if(D.segments.length>E.length){const B=D.segments.slice(0,E.length);return!(!tn(B,E)||T.hasChildren()||!qe(B,E,M))}if(D.segments.length===E.length){if(!tn(D.segments,E)||!qe(D.segments,E,M))return!1;for(const B in T.children)if(!D.children[B]||!qr(D.children[B],T.children[B],M))return!1;return!0}{const B=E.slice(0,D.segments.length),z=E.slice(D.segments.length);return!!(tn(D.segments,B)&&qe(D.segments,B,M)&&D.children[He])&&Fi(D.children[He],T,z,M)}}function qe(D,T,E){return T.every((M,B)=>Wt[E](D[B].parameters,M.parameters))}class Me{constructor(T,E,M){this.root=T,this.queryParams=E,this.fragment=M}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kt(this.queryParams)),this._queryParamMap}toString(){return Li.serialize(this)}}class ie{constructor(T,E){this.segments=T,this.children=E,this.parent=null,he(E,(M,B)=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vi(this)}}class Le{constructor(T,E){this.path=T,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=kt(this.parameters)),this._parameterMap}toString(){return xr(this)}}function tn(D,T){return D.length===T.length&&D.every((E,M)=>E.path===T[M].path)}class gr{}class Qr{parse(T){const E=new Ms(T);return new Me(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(T){const E=`/${li(T.root,!0)}`,M=function Qn(D){const T=Object.keys(D).map(E=>{const M=D[E];return Array.isArray(M)?M.map(B=>`${Vi(E)}=${Vi(B)}`).join("&"):`${Vi(E)}=${Vi(M)}`}).filter(E=>!!E);return T.length?`?${T.join("&")}`:""}(T.queryParams);return`${E}${M}${"string"==typeof T.fragment?`#${function Ir(D){return encodeURI(D)}(T.fragment)}`:""}`}}const Li=new Qr;function vi(D){return D.segments.map(T=>xr(T)).join("/")}function li(D,T){if(!D.hasChildren())return vi(D);if(T){const E=D.children[He]?li(D.children[He],!1):"",M=[];return he(D.children,(B,z)=>{z!==He&&M.push(`${z}:${li(B,!1)}`)}),M.length>0?`${E}(${M.join("//")})`:E}{const E=function mn(D,T){let E=[];return he(D.children,(M,B)=>{B===He&&(E=E.concat(T(M,B)))}),he(D.children,(M,B)=>{B!==He&&(E=E.concat(T(M,B)))}),E}(D,(M,B)=>B===He?[li(D.children[He],!1)]:[`${B}:${li(M,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[He]?`${vi(D)}/${E[0]}`:`${vi(D)}/(${E.join("//")})`}}function Gr(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vi(D){return Gr(D).replace(/%3B/gi,";")}function $t(D){return Gr(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gt(D){return decodeURIComponent(D)}function Tn(D){return Gt(D.replace(/\+/g,"%20"))}function xr(D){return`${$t(D.path)}${function Ri(D){return Object.keys(D).map(T=>`;${$t(T)}=${$t(D[T])}`).join("")}(D.parameters)}`}const Ei=/^[^\/()?;=#]+/;function cr(D){const T=D.match(Ei);return T?T[0]:""}const ci=/^[^=?&#]+/,Nn=/^[^&#]+/;class Ms{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(T.length>0||Object.keys(E).length>0)&&(M[He]=new ie(T,E)),M}parseSegment(){const T=cr(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(T),new Le(Gt(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const E=cr(this.remaining);if(!E)return;this.capture(E);let M="";if(this.consumeOptional("=")){const B=cr(this.remaining);B&&(M=B,this.capture(M))}T[Gt(E)]=Gt(M)}parseQueryParam(T){const E=function kr(D){const T=D.match(ci);return T?T[0]:""}(this.remaining);if(!E)return;this.capture(E);let M="";if(this.consumeOptional("=")){const q=function xi(D){const T=D.match(Nn);return T?T[0]:""}(this.remaining);q&&(M=q,this.capture(M))}const B=Tn(E),z=Tn(M);if(T.hasOwnProperty(B)){let q=T[B];Array.isArray(q)||(q=[q],T[B]=q),q.push(z)}else T[B]=z}parseParens(T){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=cr(this.remaining),B=this.remaining[M.length];if("/"!==B&&")"!==B&&";"!==B)throw new Error(`Cannot parse url '${this.url}'`);let z;M.indexOf(":")>-1?(z=M.substr(0,M.indexOf(":")),this.capture(z),this.capture(":")):T&&(z=He);const q=this.parseChildren();E[z]=1===Object.keys(q).length?q[He]:new ie([],q),this.consumeOptional("//")}return E}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new Error(`Expected "${T}".`)}}class os{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const E=this.pathFromRoot(T);return E.length>1?E[E.length-2]:null}children(T){const E=Ci(T,this._root);return E?E.children.map(M=>M.value):[]}firstChild(T){const E=Ci(T,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(T){const E=Ur(T,this._root);return E.length<2?[]:E[E.length-2].children.map(B=>B.value).filter(B=>B!==T)}pathFromRoot(T){return Ur(T,this._root).map(E=>E.value)}}function Ci(D,T){if(D===T.value)return T;for(const E of T.children){const M=Ci(D,E);if(M)return M}return null}function Ur(D,T){if(D===T.value)return[T];for(const E of T.children){const M=Ur(D,E);if(M.length)return M.unshift(T),M}return[]}class Br{constructor(T,E){this.value=T,this.children=E}toString(){return`TreeNode(${this.value})`}}function Wr(D){const T={};return D&&D.children.forEach(E=>T[E.value.outlet]=E),T}class nr extends os{constructor(T,E){super(T),this.snapshot=E,as(this,T)}toString(){return this.snapshot.toString()}}function Kn(D,T){const E=function ys(D,T){const q=new $i([],{},{},"",{},He,T,null,D.root,-1,{});return new Gs("",new Br(q,[]))}(D,T),M=new X([new Le("",{})]),B=new X({}),z=new X({}),q=new X({}),re=new X(""),st=new ni(M,B,q,re,z,He,T,E.root);return st.snapshot=E.root,new nr(new Br(st,[]),E)}class ni{constructor(T,E,M,B,z,q,re,st){this.url=T,this.params=E,this.queryParams=M,this.fragment=B,this.data=z,this.outlet=q,this.component=re,this._futureSnapshot=st}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ot.U)(T=>kt(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ot.U)(T=>kt(T)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ri(D,T="emptyOnly"){const E=D.pathFromRoot;let M=0;if("always"!==T)for(M=E.length-1;M>=1;){const B=E[M],z=E[M-1];if(B.routeConfig&&""===B.routeConfig.path)M--;else{if(z.component)break;M--}}return function di(D){return D.reduce((T,E)=>({params:Object.assign(Object.assign({},T.params),E.params),data:Object.assign(Object.assign({},T.data),E.data),resolve:Object.assign(Object.assign({},T.resolve),E._resolvedData)}),{params:{},data:{},resolve:{}})}(E.slice(M))}class $i{constructor(T,E,M,B,z,q,re,st,en,$n,an){this.url=T,this.params=E,this.queryParams=M,this.fragment=B,this.data=z,this.outlet=q,this.component=re,this.routeConfig=st,this._urlSegment=en,this._lastPathIndex=$n,this._resolve=an}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=kt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Gs extends os{constructor(T,E){super(E),this.url=T,as(this,E)}toString(){return us(this._root)}}function as(D,T){T.value._routerState=D,T.children.forEach(E=>as(D,E))}function us(D){const T=D.children.length>0?` { ${D.children.map(us).join(", ")} } `:"";return`${D.value}${T}`}function ls(D){if(D.snapshot){const T=D.snapshot,E=D._futureSnapshot;D.snapshot=E,Yn(T.queryParams,E.queryParams)||D.queryParams.next(E.queryParams),T.fragment!==E.fragment&&D.fragment.next(E.fragment),Yn(T.params,E.params)||D.params.next(E.params),function br(D,T){if(D.length!==T.length)return!1;for(let E=0;E<D.length;++E)if(!Yn(D[E],T[E]))return!1;return!0}(T.url,E.url)||D.url.next(E.url),Yn(T.data,E.data)||D.data.next(E.data)}else D.snapshot=D._futureSnapshot,D.data.next(D._futureSnapshot.data)}function Uo(D,T){const E=Yn(D.params,T.params)&&function ft(D,T){return tn(D,T)&&D.every((E,M)=>Yn(E.parameters,T[M].parameters))}(D.url,T.url);return E&&!(!D.parent!=!T.parent)&&(!D.parent||Uo(D.parent,T.parent))}function Dr(D,T,E){if(E&&D.shouldReuseRoute(T.value,E.value.snapshot)){const M=E.value;M._futureSnapshot=T.value;const B=function Gi(D,T,E){return T.children.map(M=>{for(const B of E.children)if(D.shouldReuseRoute(M.value,B.value.snapshot))return Dr(D,M,B);return Dr(D,M)})}(D,T,E);return new Br(M,B)}{if(D.shouldAttach(T.value)){const z=D.retrieve(T.value);if(null!==z){const q=z.route;return q.value._futureSnapshot=T.value,q.children=T.children.map(re=>Dr(D,re)),q}}const M=function zs(D){return new ni(new X(D.url),new X(D.params),new X(D.queryParams),new X(D.fragment),new X(D.data),D.outlet,D.component,D)}(T.value),B=T.children.map(z=>Dr(D,z));return new Br(M,B)}}function Ie(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Je(D){return"object"==typeof D&&null!=D&&D.outlets}function mt(D,T,E,M,B){let z={};if(M&&he(M,(re,st)=>{z[st]=Array.isArray(re)?re.map(en=>`${en}`):`${re}`}),D===T)return new Me(E,z,B);const q=Lt(D,T,E);return new Me(q,z,B)}function Lt(D,T,E){const M={};return he(D.children,(B,z)=>{M[z]=B===T?E:Lt(B,T,E)}),new ie(D.segments,M)}class Jt{constructor(T,E,M){if(this.isAbsolute=T,this.numberOfDoubleDots=E,this.commands=M,T&&M.length>0&&Ie(M[0]))throw new Error("Root segment cannot have matrix parameters");const B=M.find(Je);if(B&&B!==Ce(M))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jn{constructor(T,E,M){this.segmentGroup=T,this.processChildren=E,this.index=M}}function Jr(D,T,E){if(D||(D=new ie([],{})),0===D.segments.length&&D.hasChildren())return bo(D,T,E);const M=function Rs(D,T,E){let M=0,B=T;const z={match:!1,pathIndex:0,commandIndex:0};for(;B<D.segments.length;){if(M>=E.length)return z;const q=D.segments[B],re=E[M];if(Je(re))break;const st=`${re}`,en=M<E.length-1?E[M+1]:null;if(B>0&&void 0===st)break;if(st&&en&&"object"==typeof en&&void 0===en.outlets){if(!ii(st,en,q))return z;M+=2}else{if(!ii(st,{},q))return z;M++}B++}return{match:!0,pathIndex:B,commandIndex:M}}(D,T,E),B=E.slice(M.commandIndex);if(M.match&&M.pathIndex<D.segments.length){const z=new ie(D.segments.slice(0,M.pathIndex),{});return z.children[He]=new ie(D.segments.slice(M.pathIndex),D.children),bo(z,0,B)}return M.match&&0===B.length?new ie(D.segments,{}):M.match&&!D.hasChildren()?hi(D,T,E):M.match?bo(D,0,B):hi(D,T,E)}function bo(D,T,E){if(0===E.length)return new ie(D.segments,{});{const M=function vs(D){return Je(D[0])?D[0].outlets:{[He]:D}}(E),B={};return he(M,(z,q)=>{"string"==typeof z&&(z=[z]),null!==z&&(B[q]=Jr(D.children[q],T,z))}),he(D.children,(z,q)=>{void 0===M[q]&&(B[q]=z)}),new ie(D.segments,B)}}function hi(D,T,E){const M=D.segments.slice(0,T);let B=0;for(;B<E.length;){const z=E[B];if(Je(z)){const st=to(z.outlets);return new ie(M,st)}if(0===B&&Ie(E[0])){M.push(new Le(D.segments[T].path,no(E[0]))),B++;continue}const q=Je(z)?z.outlets[He]:`${z}`,re=B<E.length-1?E[B+1]:null;q&&re&&Ie(re)?(M.push(new Le(q,no(re))),B+=2):(M.push(new Le(q,{})),B++)}return new ie(M,{})}function to(D){const T={};return he(D,(E,M)=>{"string"==typeof E&&(E=[E]),null!==E&&(T[M]=hi(new ie([],{}),0,E))}),T}function no(D){const T={};return he(D,(E,M)=>T[M]=`${E}`),T}function ii(D,T,E){return D==E.path&&Yn(T,E.parameters)}class zi{constructor(T,E,M,B){this.routeReuseStrategy=T,this.futureState=E,this.currState=M,this.forwardEvent=B}activate(T){const E=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,M,T),ls(this.futureState.root),this.activateChildRoutes(E,M,T)}deactivateChildRoutes(T,E,M){const B=Wr(E);T.children.forEach(z=>{const q=z.value.outlet;this.deactivateRoutes(z,B[q],M),delete B[q]}),he(B,(z,q)=>{this.deactivateRouteAndItsChildren(z,M)})}deactivateRoutes(T,E,M){const B=T.value,z=E?E.value:null;if(B===z)if(B.component){const q=M.getContext(B.outlet);q&&this.deactivateChildRoutes(T,E,q.children)}else this.deactivateChildRoutes(T,E,M);else z&&this.deactivateRouteAndItsChildren(E,M)}deactivateRouteAndItsChildren(T,E){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,E):this.deactivateRouteAndOutlet(T,E)}detachAndStoreRouteSubtree(T,E){const M=E.getContext(T.value.outlet),B=M&&T.value.component?M.children:E,z=Wr(T);for(const q of Object.keys(z))this.deactivateRouteAndItsChildren(z[q],B);if(M&&M.outlet){const q=M.outlet.detach(),re=M.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:q,route:T,contexts:re})}}deactivateRouteAndOutlet(T,E){const M=E.getContext(T.value.outlet),B=M&&T.value.component?M.children:E,z=Wr(T);for(const q of Object.keys(z))this.deactivateRouteAndItsChildren(z[q],B);M&&M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated(),M.attachRef=null,M.resolver=null,M.route=null)}activateChildRoutes(T,E,M){const B=Wr(E);T.children.forEach(z=>{this.activateRoutes(z,B[z.value.outlet],M),this.forwardEvent(new Se(z.value.snapshot))}),T.children.length&&this.forwardEvent(new gt(T.value.snapshot))}activateRoutes(T,E,M){const B=T.value,z=E?E.value:null;if(ls(B),B===z)if(B.component){const q=M.getOrCreateContext(B.outlet);this.activateChildRoutes(T,E,q.children)}else this.activateChildRoutes(T,E,M);else if(B.component){const q=M.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const re=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),q.children.onOutletReAttached(re.contexts),q.attachRef=re.componentRef,q.route=re.route.value,q.outlet&&q.outlet.attach(re.componentRef,re.route.value),ls(re.route.value),this.activateChildRoutes(T,null,q.children)}else{const re=function wi(D){for(let T=D.parent;T;T=T.parent){const E=T.routeConfig;if(E&&E._loadedConfig)return E._loadedConfig;if(E&&E.component)return null}return null}(B.snapshot),st=re?re.module.componentFactoryResolver:null;q.attachRef=null,q.route=B,q.resolver=st,q.outlet&&q.outlet.activateWith(B,st),this.activateChildRoutes(T,null,q.children)}}else this.activateChildRoutes(T,null,M)}}class Io{constructor(T,E){this.routes=T,this.module=E}}function xs(D){return"function"==typeof D}function Di(D){return D instanceof Me}const qi=Symbol("INITIAL_VALUE");function Fr(){return(0,Zt.w)(D=>function St(...D){const T=(0,je.yG)(D),E=(0,je.jO)(D),{args:M,keys:B}=(0,De.D)(D);if(0===M.length)return(0,Ae.D)([],T);const z=new Te.y(function it(D,T,E=Ue.y){return M=>{ht(T,()=>{const{length:B}=D,z=new Array(B);let q=B,re=B;for(let st=0;st<B;st++)ht(T,()=>{const en=(0,Ae.D)(D[st],T);let $n=!1;en.subscribe((0,fe.x)(M,an=>{z[st]=an,$n||($n=!0,re--),re||M.next(E(z.slice()))},()=>{--q||M.complete()}))},M)},M)}}(M,T,B?q=>(0,pe.n)(B,q):Ue.y));return E?z.pipe((0,Oe.Z)(E)):z}(D.map(T=>T.pipe((0,Ct.q)(1),(0,yn.O)(qi)))).pipe((0,Qt.R)((T,E)=>{let M=!1;return E.reduce((B,z,q)=>B!==qi?B:(z===qi&&(M=!0),M||!1!==z&&q!==E.length-1&&!Di(z)?B:z),T)},qi),(0,ke.h)(T=>T!==qi),(0,Ot.U)(T=>Di(T)?T:!0===T),(0,Ct.q)(1)))}class To{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new io,this.attachRef=null}}class io{constructor(){this.contexts=new Map}onChildOutletCreated(T,E){const M=this.getOrCreateContext(T);M.outlet=E,this.contexts.set(T,M)}onChildOutletDestroyed(T){const E=this.getContext(T);E&&(E.outlet=null,E.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let E=this.getContext(T);return E||(E=new To,this.contexts.set(T,E)),E}getContext(T){return this.contexts.get(T)||null}}let so=(()=>{class D{constructor(E,M,B,z,q){this.parentContexts=E,this.location=M,this.resolver=B,this.changeDetector=q,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.name=z||He,E.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const E=this.parentContexts.getContext(this.name);E&&E.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,M){this.activated=E,this._activatedRoute=M,this.location.insert(E.hostView),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,M){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=E;const q=(M=M||this.resolver).resolveComponentFactory(E._futureSnapshot.routeConfig.component),re=this.parentContexts.getOrCreateContext(this.name).children,st=new Wi(E,re,this.location.injector);this.activated=this.location.createComponent(q,this.location.length,st),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return D.\u0275fac=function(E){return new(E||D)(m.Y36(io),m.Y36(m.s_b),m.Y36(m._Vd),m.$8M("name"),m.Y36(m.sBO))},D.\u0275dir=m.lG2({type:D,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),D})();class Wi{constructor(T,E,M){this.route=T,this.childContexts=E,this.parent=M}get(T,E){return T===ni?this.route:T===io?this.childContexts:this.parent.get(T,E)}}let cs=(()=>{class D{}return D.\u0275fac=function(E){return new(E||D)},D.\u0275cmp=m.Xpm({type:D,selectors:[["ng-component"]],decls:1,vars:0,template:function(E,M){1&E&&m._UZ(0,"router-outlet")},directives:[so],encapsulation:2}),D})();function bi(D,T=""){for(let E=0;E<D.length;E++){const M=D[E];jo(M,Mr(T,M))}}function jo(D,T){D.children&&bi(D.children,T)}function Mr(D,T){return T?D||T.path?D&&!T.path?`${D}/`:!D&&T.path?T.path:`${D}/${T.path}`:"":D}function F(D){const T=D.children&&D.children.map(F),E=T?Object.assign(Object.assign({},D),{children:T}):Object.assign({},D);return!E.component&&(T||E.loadChildren)&&E.outlet&&E.outlet!==He&&(E.component=cs),E}function W(D){return D.outlet||He}function k(D,T){const E=D.filter(M=>W(M)===T);return E.push(...D.filter(M=>W(M)!==T)),E}const J={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ee(D,T,E){var M;if(""===T.path)return"full"===T.pathMatch&&(D.hasChildren()||E.length>0)?Object.assign({},J):{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const z=(T.matcher||Yr)(E,D,T);if(!z)return Object.assign({},J);const q={};he(z.posParams,(st,en)=>{q[en]=st.path});const re=z.consumed.length>0?Object.assign(Object.assign({},q),z.consumed[z.consumed.length-1].parameters):q;return{matched:!0,consumedSegments:z.consumed,remainingSegments:E.slice(z.consumed.length),parameters:re,positionalParamSegments:null!==(M=z.posParams)&&void 0!==M?M:{}}}function at(D,T,E,M,B="corrected"){if(E.length>0&&function Vn(D,T,E){return E.some(M=>kn(D,T,M)&&W(M)!==He)}(D,E,M)){const q=new ie(T,function on(D,T,E,M){const B={};B[He]=M,M._sourceSegment=D,M._segmentIndexShift=T.length;for(const z of E)if(""===z.path&&W(z)!==He){const q=new ie([],{});q._sourceSegment=D,q._segmentIndexShift=T.length,B[W(z)]=q}return B}(D,T,M,new ie(E,D.children)));return q._sourceSegment=D,q._segmentIndexShift=T.length,{segmentGroup:q,slicedSegments:[]}}if(0===E.length&&function dr(D,T,E){return E.some(M=>kn(D,T,M))}(D,E,M)){const q=new ie(D.segments,function ct(D,T,E,M,B,z){const q={};for(const re of M)if(kn(D,E,re)&&!B[W(re)]){const st=new ie([],{});st._sourceSegment=D,st._segmentIndexShift="legacy"===z?D.segments.length:T.length,q[W(re)]=st}return Object.assign(Object.assign({},B),q)}(D,T,E,M,D.children,B));return q._sourceSegment=D,q._segmentIndexShift=T.length,{segmentGroup:q,slicedSegments:E}}const z=new ie(D.segments,D.children);return z._sourceSegment=D,z._segmentIndexShift=T.length,{segmentGroup:z,slicedSegments:E}}function kn(D,T,E){return(!(D.hasChildren()||T.length>0)||"full"!==E.pathMatch)&&""===E.path}function qn(D,T,E,M){return!!(W(D)===M||M!==He&&kn(T,E,D))&&("**"===D.path||Ee(T,D,E).matched)}function jr(D,T,E){return 0===T.length&&!D.children[E]}class Er{constructor(T){this.segmentGroup=T||null}}class Lr{constructor(T){this.urlTree=T}}function Ki(D){return Ze(new Er(D))}function Ui(D){return Ze(new Lr(D))}class Co{constructor(T,E,M,B,z){this.configLoader=E,this.urlSerializer=M,this.urlTree=B,this.config=z,this.allowRedirects=!0,this.ngModule=T.get(m.h0i)}apply(){const T=at(this.urlTree.root,[],[],this.config).segmentGroup,E=new ie(T.segments,T.children);return this.expandSegmentGroup(this.ngModule,this.config,E,He).pipe((0,Ot.U)(z=>this.createUrlTree(V(z),this.urlTree.queryParams,this.urlTree.fragment))).pipe(se(z=>{if(z instanceof Lr)return this.allowRedirects=!1,this.match(z.urlTree);throw z instanceof Er?this.noMatchError(z):z}))}match(T){return this.expandSegmentGroup(this.ngModule,this.config,T.root,He).pipe((0,Ot.U)(B=>this.createUrlTree(V(B),T.queryParams,T.fragment))).pipe(se(B=>{throw B instanceof Er?this.noMatchError(B):B}))}noMatchError(T){return new Error(`Cannot match any routes. URL Segment: '${T.segmentGroup}'`)}createUrlTree(T,E,M){const B=T.segments.length>0?new ie([],{[He]:T}):T;return new Me(B,E,M)}expandSegmentGroup(T,E,M,B){return 0===M.segments.length&&M.hasChildren()?this.expandChildren(T,E,M).pipe((0,Ot.U)(z=>new ie([],z))):this.expandSegment(T,M,E,M.segments,B,!0)}expandChildren(T,E,M){const B=[];for(const z of Object.keys(M.children))"primary"===z?B.unshift(z):B.push(z);return(0,Ae.D)(B).pipe((0,nt.b)(z=>{const q=M.children[z],re=k(E,z);return this.expandSegmentGroup(T,re,q,z).pipe((0,Ot.U)(st=>({segment:st,outlet:z})))}),(0,Qt.R)((z,q)=>(z[q.outlet]=q.segment,z),{}),function It(D,T){const E=arguments.length>=2;return M=>M.pipe(D?(0,ke.h)((B,z)=>D(B,z,M)):Ue.y,_e(1),E?(0,We.d)(T):(0,tt.T)(()=>new ot.K))}())}expandSegment(T,E,M,B,z,q){return(0,Ae.D)(M).pipe((0,nt.b)(re=>this.expandSegmentAgainstRoute(T,E,M,re,B,z,q).pipe(se(en=>{if(en instanceof Er)return(0,Ge.of)(null);throw en}))),(0,et.P)(re=>!!re),se((re,st)=>{if(re instanceof ot.K||"EmptyError"===re.name)return jr(E,B,z)?(0,Ge.of)(new ie([],{})):Ki(E);throw re}))}expandSegmentAgainstRoute(T,E,M,B,z,q,re){return qn(B,E,z,q)?void 0===B.redirectTo?this.matchSegmentAgainstRoute(T,E,B,z,q):re&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,E,M,B,z,q):Ki(E):Ki(E)}expandSegmentAgainstRouteUsingRedirect(T,E,M,B,z,q){return"**"===B.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,M,B,q):this.expandRegularSegmentAgainstRouteUsingRedirect(T,E,M,B,z,q)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,E,M,B){const z=this.applyRedirectCommands([],M.redirectTo,{});return M.redirectTo.startsWith("/")?Ui(z):this.lineralizeSegments(M,z).pipe((0,we.z)(q=>{const re=new ie(q,{});return this.expandSegment(T,re,E,q,B,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,E,M,B,z,q){const{matched:re,consumedSegments:st,remainingSegments:en,positionalParamSegments:$n}=Ee(E,B,z);if(!re)return Ki(E);const an=this.applyRedirectCommands(st,B.redirectTo,$n);return B.redirectTo.startsWith("/")?Ui(an):this.lineralizeSegments(B,an).pipe((0,we.z)(hr=>this.expandSegment(T,E,M,hr.concat(en),q,!1)))}matchSegmentAgainstRoute(T,E,M,B,z){if("**"===M.path)return M.loadChildren?(M._loadedConfig?(0,Ge.of)(M._loadedConfig):this.configLoader.load(T.injector,M)).pipe((0,Ot.U)(an=>(M._loadedConfig=an,new ie(B,{})))):(0,Ge.of)(new ie(B,{}));const{matched:q,consumedSegments:re,remainingSegments:st}=Ee(E,M,B);return q?this.getChildConfig(T,M,B).pipe((0,we.z)($n=>{const an=$n.module,hr=$n.routes,{segmentGroup:Tr,slicedSegments:Ni}=at(E,re,st,hr),Zi=new ie(Tr.segments,Tr.children);if(0===Ni.length&&Zi.hasChildren())return this.expandChildren(an,hr,Zi).pipe((0,Ot.U)(po=>new ie(re,po)));if(0===hr.length&&0===Ni.length)return(0,Ge.of)(new ie(re,{}));const No=W(M)===z;return this.expandSegment(an,Zi,hr,Ni,No?He:z,!0).pipe((0,Ot.U)(Kr=>new ie(re.concat(Kr.segments),Kr.children)))})):Ki(E)}getChildConfig(T,E,M){return E.children?(0,Ge.of)(new Io(E.children,T)):E.loadChildren?void 0!==E._loadedConfig?(0,Ge.of)(E._loadedConfig):this.runCanLoadGuards(T.injector,E,M).pipe((0,we.z)(B=>B?this.configLoader.load(T.injector,E).pipe((0,Ot.U)(z=>(E._loadedConfig=z,z))):function Oi(D){return Ze(_n(`Cannot load children because the guard of the route "path: '${D.path}'" returned false`))}(E))):(0,Ge.of)(new Io([],T))}runCanLoadGuards(T,E,M){const B=E.canLoad;if(!B||0===B.length)return(0,Ge.of)(!0);const z=B.map(q=>{const re=T.get(q);let st;if(function ro(D){return D&&xs(D.canLoad)}(re))st=re.canLoad(E,M);else{if(!xs(re))throw new Error("Invalid CanLoad guard");st=re(E,M)}return Pe(st)});return(0,Ge.of)(z).pipe(Fr(),(0,Be.b)(q=>{if(!Di(q))return;const re=_n(`Redirecting to "${this.urlSerializer.serialize(q)}"`);throw re.url=q,re}),(0,Ot.U)(q=>!0===q))}lineralizeSegments(T,E){let M=[],B=E.root;for(;;){if(M=M.concat(B.segments),0===B.numberOfChildren)return(0,Ge.of)(M);if(B.numberOfChildren>1||!B.children[He])return Ze(new Error(`Only absolute redirects can have named outlets. redirectTo: '${T.redirectTo}'`));B=B.children[He]}}applyRedirectCommands(T,E,M){return this.applyRedirectCreatreUrlTree(E,this.urlSerializer.parse(E),T,M)}applyRedirectCreatreUrlTree(T,E,M,B){const z=this.createSegmentGroup(T,E.root,M,B);return new Me(z,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(T,E){const M={};return he(T,(B,z)=>{if("string"==typeof B&&B.startsWith(":")){const re=B.substring(1);M[z]=E[re]}else M[z]=B}),M}createSegmentGroup(T,E,M,B){const z=this.createSegments(T,E.segments,M,B);let q={};return he(E.children,(re,st)=>{q[st]=this.createSegmentGroup(T,re,M,B)}),new ie(z,q)}createSegments(T,E,M,B){return E.map(z=>z.path.startsWith(":")?this.findPosParam(T,z,B):this.findOrReturn(z,M))}findPosParam(T,E,M){const B=M[E.path.substring(1)];if(!B)throw new Error(`Cannot redirect to '${T}'. Cannot find '${E.path}'.`);return B}findOrReturn(T,E){let M=0;for(const B of E){if(B.path===T.path)return E.splice(M),B;M++}return T}}function V(D){const T={};for(const M of Object.keys(D.children)){const z=V(D.children[M]);(z.segments.length>0||z.hasChildren())&&(T[M]=z)}return function aa(D){if(1===D.numberOfChildren&&D.children[He]){const T=D.children[He];return new ie(D.segments.concat(T.segments),T.children)}return D}(new ie(D.segments,T))}class R{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class Y{constructor(T,E){this.component=T,this.route=E}}function me(D,T,E){const M=D._root;return Bi(M,T?T._root:null,E,[M.value])}function or(D,T,E){const M=function rr(D){if(!D)return null;for(let T=D.parent;T;T=T.parent){const E=T.routeConfig;if(E&&E._loadedConfig)return E._loadedConfig}return null}(T);return(M?M.module.injector:E).get(D)}function Bi(D,T,E,M,B={canDeactivateChecks:[],canActivateChecks:[]}){const z=Wr(T);return D.children.forEach(q=>{(function Es(D,T,E,M,B={canDeactivateChecks:[],canActivateChecks:[]}){const z=D.value,q=T?T.value:null,re=E?E.getContext(D.value.outlet):null;if(q&&z.routeConfig===q.routeConfig){const st=function ji(D,T,E){if("function"==typeof E)return E(D,T);switch(E){case"pathParamsChange":return!tn(D.url,T.url);case"pathParamsOrQueryParamsChange":return!tn(D.url,T.url)||!Yn(D.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Uo(D,T)||!Yn(D.queryParams,T.queryParams);default:return!Uo(D,T)}}(q,z,z.routeConfig.runGuardsAndResolvers);st?B.canActivateChecks.push(new R(M)):(z.data=q.data,z._resolvedData=q._resolvedData),Bi(D,T,z.component?re?re.children:null:E,M,B),st&&re&&re.outlet&&re.outlet.isActivated&&B.canDeactivateChecks.push(new Y(re.outlet.component,q))}else q&&Ws(T,re,B),B.canActivateChecks.push(new R(M)),Bi(D,null,z.component?re?re.children:null:E,M,B)})(q,z[q.value.outlet],E,M.concat([q.value]),B),delete z[q.value.outlet]}),he(z,(q,re)=>Ws(q,E.getContext(re),B)),B}function Ws(D,T,E){const M=Wr(D),B=D.value;he(M,(z,q)=>{Ws(z,B.component?T?T.children.getContext(q):null:T,E)}),E.canDeactivateChecks.push(new Y(B.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,B))}class Ro{}function ds(D){return new Te.y(T=>T.error(D))}class yu{constructor(T,E,M,B,z,q){this.rootComponentType=T,this.config=E,this.urlTree=M,this.url=B,this.paramsInheritanceStrategy=z,this.relativeLinkResolution=q}recognize(){const T=at(this.urlTree.root,[],[],this.config.filter(q=>void 0===q.redirectTo),this.relativeLinkResolution).segmentGroup,E=this.processSegmentGroup(this.config,T,He);if(null===E)return null;const M=new $i([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},He,this.rootComponentType,null,this.urlTree.root,-1,{}),B=new Br(M,E),z=new Gs(this.url,B);return this.inheritParamsAndData(z._root),z}inheritParamsAndData(T){const E=T.value,M=ri(E,this.paramsInheritanceStrategy);E.params=Object.freeze(M.params),E.data=Object.freeze(M.data),T.children.forEach(B=>this.inheritParamsAndData(B))}processSegmentGroup(T,E,M){return 0===E.segments.length&&E.hasChildren()?this.processChildren(T,E):this.processSegment(T,E,E.segments,M)}processChildren(T,E){const M=[];for(const z of Object.keys(E.children)){const q=E.children[z],re=k(T,z),st=this.processSegmentGroup(re,q,z);if(null===st)return null;M.push(...st)}const B=Ar(M);return function oi(D){D.sort((T,E)=>T.value.outlet===He?-1:E.value.outlet===He?1:T.value.outlet.localeCompare(E.value.outlet))}(B),B}processSegment(T,E,M,B){for(const z of T){const q=this.processSegmentAgainstRoute(z,E,M,B);if(null!==q)return q}return jr(E,M,B)?[]:null}processSegmentAgainstRoute(T,E,M,B){if(T.redirectTo||!qn(T,E,M,B))return null;let z,q=[],re=[];if("**"===T.path){const Tr=M.length>0?Ce(M).parameters:{};z=new $i(M,Tr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ca(T),W(T),T.component,T,ca(E),Ta(E)+M.length,xo(T))}else{const Tr=Ee(E,T,M);if(!Tr.matched)return null;q=Tr.consumedSegments,re=Tr.remainingSegments,z=new $i(q,Tr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ca(T),W(T),T.component,T,ca(E),Ta(E)+q.length,xo(T))}const st=function Ka(D){return D.children?D.children:D.loadChildren?D._loadedConfig.routes:[]}(T),{segmentGroup:en,slicedSegments:$n}=at(E,q,re,st.filter(Tr=>void 0===Tr.redirectTo),this.relativeLinkResolution);if(0===$n.length&&en.hasChildren()){const Tr=this.processChildren(st,en);return null===Tr?null:[new Br(z,Tr)]}if(0===st.length&&0===$n.length)return[new Br(z,[])];const an=W(T)===B,hr=this.processSegment(st,en,$n,an?He:B);return null===hr?null:[new Br(z,hr)]}}function Fa(D){const T=D.value.routeConfig;return T&&""===T.path&&void 0===T.redirectTo}function Ar(D){const T=[],E=new Set;for(const M of D){if(!Fa(M)){T.push(M);continue}const B=T.find(z=>M.value.routeConfig===z.value.routeConfig);void 0!==B?(B.children.push(...M.children),E.add(B)):T.push(M)}for(const M of E){const B=Ar(M.children);T.push(new Br(M.value,B))}return T.filter(M=>!E.has(M))}function ca(D){let T=D;for(;T._sourceSegment;)T=T._sourceSegment;return T}function Ta(D){let T=D,E=T._segmentIndexShift?T._segmentIndexShift:0;for(;T._sourceSegment;)T=T._sourceSegment,E+=T._segmentIndexShift?T._segmentIndexShift:0;return E-1}function Ca(D){return D.data||{}}function xo(D){return D.resolve||{}}function da(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}function Oo(D){return(0,Zt.w)(T=>{const E=D(T);return E?(0,Ae.D)(E).pipe((0,Ot.U)(()=>T)):(0,Ge.of)(T)})}class ai extends class ha{shouldDetach(T){return!1}store(T,E){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,E){return T.routeConfig===E.routeConfig}}{}const Va=new m.OlP("ROUTES");class Lu{constructor(T,E,M,B){this.injector=T,this.compiler=E,this.onLoadStartListener=M,this.onLoadEndListener=B}load(T,E){if(E._loader$)return E._loader$;this.onLoadStartListener&&this.onLoadStartListener(E);const B=this.loadModuleFactory(E.loadChildren).pipe((0,Ot.U)(z=>{this.onLoadEndListener&&this.onLoadEndListener(E);const q=z.create(T);return new Io(ge(q.injector.get(Va,void 0,m.XFs.Self|m.XFs.Optional)).map(F),q)}),se(z=>{throw E._loader$=void 0,z}));return E._loader$=new Ke(B,()=>new O.x).pipe(ve()),E._loader$}loadModuleFactory(T){return Pe(T()).pipe((0,we.z)(E=>E instanceof m.YKP?(0,Ge.of)(E):(0,Ae.D)(this.compiler.compileModuleAsync(E))))}}class vu{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,E){return T}}function gl(D){throw D}function Ya(D,T,E){return T.parse("/")}function $o(D,T){return(0,Ge.of)(null)}const ao={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Po={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yr=(()=>{class D{constructor(E,M,B,z,q,re,st){this.rootComponentType=E,this.urlSerializer=M,this.rootContexts=B,this.location=z,this.config=st,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new O.x,this.errorHandler=gl,this.malformedUriErrorHandler=Ya,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:$o,afterPreactivation:$o},this.urlHandlingStrategy=new vu,this.routeReuseStrategy=new ai,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=q.get(m.h0i),this.console=q.get(m.c2e);const an=q.get(m.R0b);this.isNgZoneEnabled=an instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(st),this.currentUrlTree=function wt(){return new Me(new ie([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Lu(q,re,hr=>this.triggerEvent(new wn(hr)),hr=>this.triggerEvent(new _i(hr))),this.routerState=Kn(this.currentUrlTree,this.rootComponentType),this.transitions=new X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var E;return null===(E=this.location.getState())||void 0===E?void 0:E.\u0275routerPageId}setupNavigations(E){const M=this.events;return E.pipe((0,ke.h)(B=>0!==B.id),(0,Ot.U)(B=>Object.assign(Object.assign({},B),{extractedUrl:this.urlHandlingStrategy.extract(B.rawUrl)})),(0,Zt.w)(B=>{let z=!1,q=!1;return(0,Ge.of)(B).pipe((0,Be.b)(re=>{this.currentNavigation={id:re.id,initialUrl:re.currentRawUrl,extractedUrl:re.extractedUrl,trigger:re.source,extras:re.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Zt.w)(re=>{const st=this.browserUrlTree.toString(),en=!this.navigated||re.extractedUrl.toString()!==st||st!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||en)&&this.urlHandlingStrategy.shouldProcessUrl(re.rawUrl))return Ua(re.source)&&(this.browserUrlTree=re.extractedUrl),(0,Ge.of)(re).pipe((0,Zt.w)(an=>{const hr=this.transitions.getValue();return M.next(new Wn(an.id,this.serializeUrl(an.extractedUrl),an.source,an.restoredState)),hr!==this.transitions.getValue()?Xe.E:Promise.resolve(an)}),function N(D,T,E,M){return(0,Zt.w)(B=>function Os(D,T,E,M,B){return new Co(D,T,E,M,B).apply()}(D,T,E,B.extractedUrl,M).pipe((0,Ot.U)(z=>Object.assign(Object.assign({},B),{urlAfterRedirects:z}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Be.b)(an=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:an.urlAfterRedirects})}),function La(D,T,E,M,B){return(0,we.z)(z=>function la(D,T,E,M,B="emptyOnly",z="legacy"){try{const q=new yu(D,T,E,M,B,z).recognize();return null===q?ds(new Ro):(0,Ge.of)(q)}catch(q){return ds(q)}}(D,T,z.urlAfterRedirects,E(z.urlAfterRedirects),M,B).pipe((0,Ot.U)(q=>Object.assign(Object.assign({},z),{targetSnapshot:q}))))}(this.rootComponentType,this.config,an=>this.serializeUrl(an),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Be.b)(an=>{if("eager"===this.urlUpdateStrategy){if(!an.extras.skipLocationChange){const Tr=this.urlHandlingStrategy.merge(an.urlAfterRedirects,an.rawUrl);this.setBrowserUrl(Tr,an)}this.browserUrlTree=an.urlAfterRedirects}const hr=new sr(an.id,this.serializeUrl(an.extractedUrl),this.serializeUrl(an.urlAfterRedirects),an.targetSnapshot);M.next(hr)}));if(en&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:hr,extractedUrl:Tr,source:Ni,restoredState:Zi,extras:No}=re,pa=new Wn(hr,this.serializeUrl(Tr),Ni,Zi);M.next(pa);const Kr=Kn(Tr,this.rootComponentType).snapshot;return(0,Ge.of)(Object.assign(Object.assign({},re),{targetSnapshot:Kr,urlAfterRedirects:Tr,extras:Object.assign(Object.assign({},No),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=re.rawUrl,re.resolve(null),Xe.E}),Oo(re=>{const{targetSnapshot:st,id:en,extractedUrl:$n,rawUrl:an,extras:{skipLocationChange:hr,replaceUrl:Tr}}=re;return this.hooks.beforePreactivation(st,{navigationId:en,appliedUrlTree:$n,rawUrlTree:an,skipLocationChange:!!hr,replaceUrl:!!Tr})}),(0,Be.b)(re=>{const st=new Xn(re.id,this.serializeUrl(re.extractedUrl),this.serializeUrl(re.urlAfterRedirects),re.targetSnapshot);this.triggerEvent(st)}),(0,Ot.U)(re=>Object.assign(Object.assign({},re),{guards:me(re.targetSnapshot,re.currentSnapshot,this.rootContexts)})),function ua(D,T){return(0,we.z)(E=>{const{targetSnapshot:M,currentSnapshot:B,guards:{canActivateChecks:z,canDeactivateChecks:q}}=E;return 0===q.length&&0===z.length?(0,Ge.of)(Object.assign(Object.assign({},E),{guardsResult:!0})):function ku(D,T,E,M){return(0,Ae.D)(D).pipe((0,we.z)(B=>function Ia(D,T,E,M,B){const z=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!z||0===z.length)return(0,Ge.of)(!0);const q=z.map(re=>{const st=or(re,T,B);let en;if(function si(D){return D&&xs(D.canDeactivate)}(st))en=Pe(st.canDeactivate(D,T,E,M));else{if(!xs(st))throw new Error("Invalid CanDeactivate guard");en=Pe(st(D,T,E,M))}return en.pipe((0,et.P)())});return(0,Ge.of)(q).pipe(Fr())}(B.component,B.route,E,T,M)),(0,et.P)(B=>!0!==B,!0))}(q,M,B,D).pipe((0,we.z)(re=>re&&function Bo(D){return"boolean"==typeof D}(re)?function Fu(D,T,E,M){return(0,Ae.D)(T).pipe((0,nt.b)(B=>(0,de.z)(function Ks(D,T){return null!==D&&T&&T(new ui(D)),(0,Ge.of)(!0)}(B.route.parent,M),function Ol(D,T){return null!==D&&T&&T(new be(D)),(0,Ge.of)(!0)}(B.route,M),function ws(D,T,E){const M=T[T.length-1],z=T.slice(0,T.length-1).reverse().map(q=>function Tt(D){const T=D.routeConfig?D.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:D,guards:T}:null}(q)).filter(q=>null!==q).map(q=>Vt(()=>{const re=q.guards.map(st=>{const en=or(st,q.node,E);let $n;if(function Mo(D){return D&&xs(D.canActivateChild)}(en))$n=Pe(en.canActivateChild(M,D));else{if(!xs(en))throw new Error("Invalid CanActivateChild guard");$n=Pe(en(M,D))}return $n.pipe((0,et.P)())});return(0,Ge.of)(re).pipe(Fr())}));return(0,Ge.of)(z).pipe(Fr())}(D,B.path,E),function pi(D,T,E){const M=T.routeConfig?T.routeConfig.canActivate:null;if(!M||0===M.length)return(0,Ge.of)(!0);const B=M.map(z=>Vt(()=>{const q=or(z,T,E);let re;if(function fi(D){return D&&xs(D.canActivate)}(q))re=Pe(q.canActivate(T,D));else{if(!xs(q))throw new Error("Invalid CanActivate guard");re=Pe(q(T,D))}return re.pipe((0,et.P)())}));return(0,Ge.of)(B).pipe(Fr())}(D,B.route,E))),(0,et.P)(B=>!0!==B,!0))}(M,z,D,T):(0,Ge.of)(re)),(0,Ot.U)(re=>Object.assign(Object.assign({},E),{guardsResult:re})))})}(this.ngModule.injector,re=>this.triggerEvent(re)),(0,Be.b)(re=>{if(Di(re.guardsResult)){const en=_n(`Redirecting to "${this.serializeUrl(re.guardsResult)}"`);throw en.url=re.guardsResult,en}const st=new sn(re.id,this.serializeUrl(re.extractedUrl),this.serializeUrl(re.urlAfterRedirects),re.targetSnapshot,!!re.guardsResult);this.triggerEvent(st)}),(0,ke.h)(re=>!!re.guardsResult||(this.restoreHistory(re),this.cancelNavigationTransition(re,""),!1)),Oo(re=>{if(re.guards.canActivateChecks.length)return(0,Ge.of)(re).pipe((0,Be.b)(st=>{const en=new gn(st.id,this.serializeUrl(st.extractedUrl),this.serializeUrl(st.urlAfterRedirects),st.targetSnapshot);this.triggerEvent(en)}),(0,Zt.w)(st=>{let en=!1;return(0,Ge.of)(st).pipe(function Ho(D,T){return(0,we.z)(E=>{const{targetSnapshot:M,guards:{canActivateChecks:B}}=E;if(!B.length)return(0,Ge.of)(E);let z=0;return(0,Ae.D)(B).pipe((0,nt.b)(q=>function oo(D,T,E,M){return function Za(D,T,E,M){const B=da(D);if(0===B.length)return(0,Ge.of)({});const z={};return(0,Ae.D)(B).pipe((0,we.z)(q=>function _u(D,T,E,M){const B=or(D,T,M);return Pe(B.resolve?B.resolve(T,E):B(T,E))}(D[q],T,E,M).pipe((0,Be.b)(re=>{z[q]=re}))),_e(1),(0,we.z)(()=>da(z).length===B.length?(0,Ge.of)(z):Xe.E))}(D._resolve,D,T,M).pipe((0,Ot.U)(z=>(D._resolvedData=z,D.data=Object.assign(Object.assign({},D.data),ri(D,E).resolve),null)))}(q.route,M,D,T)),(0,Be.b)(()=>z++),_e(1),(0,we.z)(q=>z===B.length?(0,Ge.of)(E):Xe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Be.b)({next:()=>en=!0,complete:()=>{en||(this.restoreHistory(st),this.cancelNavigationTransition(st,"At least one route resolver didn't emit any value."))}}))}),(0,Be.b)(st=>{const en=new Mn(st.id,this.serializeUrl(st.extractedUrl),this.serializeUrl(st.urlAfterRedirects),st.targetSnapshot);this.triggerEvent(en)}))}),Oo(re=>{const{targetSnapshot:st,id:en,extractedUrl:$n,rawUrl:an,extras:{skipLocationChange:hr,replaceUrl:Tr}}=re;return this.hooks.afterPreactivation(st,{navigationId:en,appliedUrlTree:$n,rawUrlTree:an,skipLocationChange:!!hr,replaceUrl:!!Tr})}),(0,Ot.U)(re=>{const st=function oa(D,T,E){const M=Dr(D,T._root,E?E._root:void 0);return new nr(M,T)}(this.routeReuseStrategy,re.targetSnapshot,re.currentRouterState);return Object.assign(Object.assign({},re),{targetRouterState:st})}),(0,Be.b)(re=>{this.currentUrlTree=re.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(re.urlAfterRedirects,re.rawUrl),this.routerState=re.targetRouterState,"deferred"===this.urlUpdateStrategy&&(re.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,re),this.browserUrlTree=re.urlAfterRedirects)}),((D,T,E)=>(0,Ot.U)(M=>(new zi(T,M.targetRouterState,M.currentRouterState,E).activate(D),M)))(this.rootContexts,this.routeReuseStrategy,re=>this.triggerEvent(re)),(0,Be.b)({next(){z=!0},complete(){z=!0}}),function Nt(D){return(0,oe.e)((T,E)=>{try{T.subscribe(E)}finally{E.add(D)}})}(()=>{var re;z||q||this.cancelNavigationTransition(B,`Navigation ID ${B.id} is not equal to the current navigation id ${this.navigationId}`),(null===(re=this.currentNavigation)||void 0===re?void 0:re.id)===B.id&&(this.currentNavigation=null)}),se(re=>{if(q=!0,function bn(D){return D&&D[pn]}(re)){const st=Di(re.url);st||(this.navigated=!0,this.restoreHistory(B,!0));const en=new pr(B.id,this.serializeUrl(B.extractedUrl),re.message);M.next(en),st?setTimeout(()=>{const $n=this.urlHandlingStrategy.merge(re.url,this.rawUrlTree),an={skipLocationChange:B.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ua(B.source)};this.scheduleNavigation($n,"imperative",null,an,{resolve:B.resolve,reject:B.reject,promise:B.promise})},0):B.resolve(!1)}else{this.restoreHistory(B,!0);const st=new lr(B.id,this.serializeUrl(B.extractedUrl),re);M.next(st);try{B.resolve(this.errorHandler(re))}catch(en){B.reject(en)}}return Xe.E}))}))}resetRootComponentType(E){this.rootComponentType=E,this.routerState.root.component=this.rootComponentType}setTransition(E){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),E))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const M="popstate"===E.type?"popstate":"hashchange";"popstate"===M&&setTimeout(()=>{var B;const z={replaceUrl:!0},q=(null===(B=E.state)||void 0===B?void 0:B.navigationId)?E.state:null;if(q){const st=Object.assign({},q);delete st.navigationId,delete st.\u0275routerPageId,0!==Object.keys(st).length&&(z.state=st)}const re=this.parseUrl(E.url);this.scheduleNavigation(re,M,q,z)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(E){this.events.next(E)}resetConfig(E){bi(E),this.config=E.map(F),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,M={}){const{relativeTo:B,queryParams:z,fragment:q,queryParamsHandling:re,preserveFragment:st}=M,en=B||this.routerState.root,$n=st?this.currentUrlTree.fragment:q;let an=null;switch(re){case"merge":an=Object.assign(Object.assign({},this.currentUrlTree.queryParams),z);break;case"preserve":an=this.currentUrlTree.queryParams;break;default:an=z||null}return null!==an&&(an=this.removeEmptyProps(an)),function Ne(D,T,E,M,B){if(0===E.length)return mt(T.root,T.root,T.root,M,B);const z=function mr(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new Jt(!0,0,D);let T=0,E=!1;const M=D.reduce((B,z,q)=>{if("object"==typeof z&&null!=z){if(z.outlets){const re={};return he(z.outlets,(st,en)=>{re[en]="string"==typeof st?st.split("/"):st}),[...B,{outlets:re}]}if(z.segmentPath)return[...B,z.segmentPath]}return"string"!=typeof z?[...B,z]:0===q?(z.split("/").forEach((re,st)=>{0==st&&"."===re||(0==st&&""===re?E=!0:".."===re?T++:""!=re&&B.push(re))}),B):[...B,z]},[]);return new Jt(E,T,M)}(E);if(z.toRoot())return mt(T.root,T.root,new ie([],{}),M,B);const q=function tr(D,T,E){if(D.isAbsolute)return new Jn(T.root,!0,0);if(-1===E.snapshot._lastPathIndex){const z=E.snapshot._urlSegment;return new Jn(z,z===T.root,0)}const M=Ie(D.commands[0])?0:1;return function _s(D,T,E){let M=D,B=T,z=E;for(;z>B;){if(z-=B,M=M.parent,!M)throw new Error("Invalid number of '../'");B=M.segments.length}return new Jn(M,!1,B-z)}(E.snapshot._urlSegment,E.snapshot._lastPathIndex+M,D.numberOfDoubleDots)}(z,T,D),re=q.processChildren?bo(q.segmentGroup,q.index,z.commands):Jr(q.segmentGroup,q.index,z.commands);return mt(T.root,q.segmentGroup,re,M,B)}(en,this.currentUrlTree,E,an,null!=$n?$n:null)}navigateByUrl(E,M={skipLocationChange:!1}){const B=Di(E)?E:this.parseUrl(E),z=this.urlHandlingStrategy.merge(B,this.rawUrlTree);return this.scheduleNavigation(z,"imperative",null,M)}navigate(E,M={skipLocationChange:!1}){return function Qa(D){for(let T=0;T<D.length;T++){const E=D[T];if(null==E)throw new Error(`The requested path contains ${E} segment at index ${T}`)}}(E),this.navigateByUrl(this.createUrlTree(E,M),M)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let M;try{M=this.urlSerializer.parse(E)}catch(B){M=this.malformedUriErrorHandler(B,this.urlSerializer,E)}return M}isActive(E,M){let B;if(B=!0===M?Object.assign({},ao):!1===M?Object.assign({},Po):M,Di(E))return ln(this.currentUrlTree,E,B);const z=this.parseUrl(E);return ln(this.currentUrlTree,z,B)}removeEmptyProps(E){return Object.keys(E).reduce((M,B)=>{const z=E[B];return null!=z&&(M[B]=z),M},{})}processNavigations(){this.navigations.subscribe(E=>{this.navigated=!0,this.lastSuccessfulId=E.id,this.currentPageId=E.targetPageId,this.events.next(new Zn(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,E.resolve(!0)},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)})}scheduleNavigation(E,M,B,z,q){var re,st;if(this.disposed)return Promise.resolve(!1);let en,$n,an;q?(en=q.resolve,$n=q.reject,an=q.promise):an=new Promise((Ni,Zi)=>{en=Ni,$n=Zi});const hr=++this.navigationId;let Tr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(B=this.location.getState()),Tr=B&&B.\u0275routerPageId?B.\u0275routerPageId:z.replaceUrl||z.skipLocationChange?null!==(re=this.browserPageId)&&void 0!==re?re:0:(null!==(st=this.browserPageId)&&void 0!==st?st:0)+1):Tr=0,this.setTransition({id:hr,targetPageId:Tr,source:M,restoredState:B,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:E,extras:z,resolve:en,reject:$n,promise:an,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),an.catch(Ni=>Promise.reject(Ni))}setBrowserUrl(E,M){const B=this.urlSerializer.serialize(E),z=Object.assign(Object.assign({},M.extras.state),this.generateNgRouterState(M.id,M.targetPageId));this.location.isCurrentPathEqualTo(B)||M.extras.replaceUrl?this.location.replaceState(B,"",z):this.location.go(B,"",z)}restoreHistory(E,M=!1){var B,z;if("computed"===this.canceledNavigationResolution){const q=this.currentPageId-E.targetPageId;"popstate"!==E.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(B=this.currentNavigation)||void 0===B?void 0:B.finalUrl)||0===q?this.currentUrlTree===(null===(z=this.currentNavigation)||void 0===z?void 0:z.finalUrl)&&0===q&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(q)}else"replace"===this.canceledNavigationResolution&&(M&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(E,M){const B=new pr(E.id,this.serializeUrl(E.extractedUrl),M);this.triggerEvent(B),E.resolve(!1)}generateNgRouterState(E,M){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:M}:{navigationId:E}}}return D.\u0275fac=function(E){m.$Z()},D.\u0275prov=m.Yz7({token:D,factory:D.\u0275fac}),D})();function Ua(D){return"imperative"!==D}let lo=(()=>{class D{constructor(E,M,B){this.router=E,this.route=M,this.locationStrategy=B,this.commands=null,this.href=null,this.onChanges=new O.x,this.subscription=E.events.subscribe(z=>{z instanceof Zn&&this.updateTargetUrlAndHref()})}set routerLink(E){this.commands=null!=E?Array.isArray(E)?E:[E]:null}ngOnChanges(E){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(E,M,B,z,q){if(0!==E||M||B||z||q||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const re={skipLocationChange:fs(this.skipLocationChange),replaceUrl:fs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,re),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:fs(this.preserveFragment)})}}return D.\u0275fac=function(E){return new(E||D)(m.Y36(yr),m.Y36(ni),m.Y36(Ht.S$))},D.\u0275dir=m.lG2({type:D,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(E,M){1&E&&m.NdJ("click",function(z){return M.onClick(z.button,z.ctrlKey,z.shiftKey,z.altKey,z.metaKey)}),2&E&&m.uIk("target",M.target)("href",M.href,m.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[m.TTD]}),D})();function fs(D){return""===D||!!D}class Da{}class Ba{preload(T,E){return(0,Ge.of)(null)}}let Fs=(()=>{class D{constructor(E,M,B,z){this.router=E,this.injector=B,this.preloadingStrategy=z,this.loader=new Lu(B,M,st=>E.triggerEvent(new wn(st)),st=>E.triggerEvent(new _i(st)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ke.h)(E=>E instanceof Zn),(0,nt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const E=this.injector.get(m.h0i);return this.processRoutes(E,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,M){const B=[];for(const z of M)if(z.loadChildren&&!z.canLoad&&z._loadedConfig){const q=z._loadedConfig;B.push(this.processRoutes(q.module,q.routes))}else z.loadChildren&&!z.canLoad?B.push(this.preloadConfig(E,z)):z.children&&B.push(this.processRoutes(E,z.children));return(0,Ae.D)(B).pipe((0,Dt.J)(),(0,Ot.U)(z=>{}))}preloadConfig(E,M){return this.preloadingStrategy.preload(M,()=>(M._loadedConfig?(0,Ge.of)(M._loadedConfig):this.loader.load(E.injector,M)).pipe((0,we.z)(z=>(M._loadedConfig=z,this.processRoutes(z.module,z.routes)))))}}return D.\u0275fac=function(E){return new(E||D)(m.LFG(yr),m.LFG(m.Sil),m.LFG(m.zs3),m.LFG(Da))},D.\u0275prov=m.Yz7({token:D,factory:D.\u0275fac}),D})(),Ls=(()=>{class D{constructor(E,M,B={}){this.router=E,this.viewportScroller=M,this.options=B,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},B.scrollPositionRestoration=B.scrollPositionRestoration||"disabled",B.anchorScrolling=B.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(E=>{E instanceof Wn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof Zn&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.router.parseUrl(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(E=>{E instanceof Et&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,M){this.router.triggerEvent(new Et(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,M))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return D.\u0275fac=function(E){m.$Z()},D.\u0275prov=m.Yz7({token:D,factory:D.\u0275fac}),D})();const Zs=new m.OlP("ROUTER_CONFIGURATION"),Vs=new m.OlP("ROUTER_FORROOT_GUARD"),Ys=[Ht.Ye,{provide:gr,useClass:Qr},{provide:yr,useFactory:function zo(D,T,E,M,B,z,q={},re,st){const en=new yr(null,D,T,E,M,B,ge(z));return re&&(en.urlHandlingStrategy=re),st&&(en.routeReuseStrategy=st),function Ja(D,T){D.errorHandler&&(T.errorHandler=D.errorHandler),D.malformedUriErrorHandler&&(T.malformedUriErrorHandler=D.malformedUriErrorHandler),D.onSameUrlNavigation&&(T.onSameUrlNavigation=D.onSameUrlNavigation),D.paramsInheritanceStrategy&&(T.paramsInheritanceStrategy=D.paramsInheritanceStrategy),D.relativeLinkResolution&&(T.relativeLinkResolution=D.relativeLinkResolution),D.urlUpdateStrategy&&(T.urlUpdateStrategy=D.urlUpdateStrategy),D.canceledNavigationResolution&&(T.canceledNavigationResolution=D.canceledNavigationResolution)}(q,en),q.enableTracing&&en.events.subscribe($n=>{var an,hr;null===(an=console.group)||void 0===an||an.call(console,`Router Event: ${$n.constructor.name}`),console.log($n.toString()),console.log($n),null===(hr=console.groupEnd)||void 0===hr||hr.call(console)}),en},deps:[gr,io,Ht.Ye,m.zs3,m.Sil,Va,Zs,[class Vu{},new m.FiY],[class hs{},new m.FiY]]},io,{provide:ni,useFactory:function Pi(D){return D.routerState.root},deps:[yr]},Fs,Ba,class Bu{preload(T,E){return E().pipe(se(()=>(0,Ge.of)(null)))}},{provide:Zs,useValue:{enableTracing:!1}}];function ja(){return new m.PXZ("Router",yr)}let Go=(()=>{class D{constructor(E,M){}static forRoot(E,M){return{ngModule:D,providers:[Ys,ho(E),{provide:Vs,useFactory:Ai,deps:[[yr,new m.FiY,new m.tp0]]},{provide:Zs,useValue:M||{}},{provide:Ht.S$,useFactory:gi,deps:[Ht.lw,[new m.tBr(Ht.mr),new m.FiY],Zs]},{provide:Ls,useFactory:Do,deps:[yr,Ht.EM,Zs]},{provide:Da,useExisting:M&&M.preloadingStrategy?M.preloadingStrategy:Ba},{provide:m.PXZ,multi:!0,useFactory:ja},[fo,{provide:m.ip1,multi:!0,useFactory:qo,deps:[fo]},{provide:bs,useFactory:Ha,deps:[fo]},{provide:m.tb,multi:!0,useExisting:bs}]]}}static forChild(E){return{ngModule:D,providers:[ho(E)]}}}return D.\u0275fac=function(E){return new(E||D)(m.LFG(Vs,8),m.LFG(yr,8))},D.\u0275mod=m.oAB({type:D}),D.\u0275inj=m.cJS({}),D})();function Do(D,T,E){return E.scrollOffset&&T.setOffset(E.scrollOffset),new Ls(D,T,E)}function gi(D,T,E={}){return E.useHash?new Ht.Do(D,T):new Ht.b0(D,T)}function Ai(D){return"guarded"}function ho(D){return[{provide:m.deG,multi:!0,useValue:D},{provide:Va,multi:!0,useValue:D}]}let fo=(()=>{class D{constructor(E){this.injector=E,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new O.x}appInitializer(){return this.injector.get(Ht.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let M=null;const B=new Promise(re=>M=re),z=this.injector.get(yr),q=this.injector.get(Zs);return"disabled"===q.initialNavigation?(z.setUpLocationChangeListener(),M(!0)):"enabled"===q.initialNavigation||"enabledBlocking"===q.initialNavigation?(z.hooks.afterPreactivation=()=>this.initNavigation?(0,Ge.of)(null):(this.initNavigation=!0,M(!0),this.resultOfPreactivationDone),z.initialNavigation()):M(!0),B})}bootstrapListener(E){const M=this.injector.get(Zs),B=this.injector.get(Fs),z=this.injector.get(Ls),q=this.injector.get(yr),re=this.injector.get(m.z2F);E===re.components[0]&&(("enabledNonBlocking"===M.initialNavigation||void 0===M.initialNavigation)&&q.initialNavigation(),B.setUpPreloading(),z.init(),q.resetRootComponentType(re.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return D.\u0275fac=function(E){return new(E||D)(m.LFG(m.zs3))},D.\u0275prov=m.Yz7({token:D,factory:D.\u0275fac}),D})();function qo(D){return D.appInitializer.bind(D)}function Ha(D){return D.bootstrapListener.bind(D)}const bs=new m.OlP("Router Initializer")},3942:(jt,ze,U)=>{U.d(ze,{Z:()=>ht});var m=U(2090),O=U(4859),X=U(9681),Te=U(1877);class De{constructor(Ze,dt){this._delegate=Ze,this.firebase=dt,(0,X._addComponent)(Ze,new O.wA("app-compat",()=>this,"PUBLIC")),this.container=Ze.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ze){this._delegate.automaticDataCollectionEnabled=Ze}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ze=>{this._delegate.checkDestroyed(),Ze()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,X.deleteApp)(this._delegate)))}_getService(Ze,dt=X._DEFAULT_ENTRY_NAME){var Vt;this._delegate.checkDestroyed();const Ut=this._delegate.container.getProvider(Ze);return!Ut.isInitialized()&&"EXPLICIT"===(null===(Vt=Ut.getComponent())||void 0===Vt?void 0:Vt.instantiationMode)&&Ut.initialize(),Ut.getImmediate({identifier:dt})}_removeServiceInstance(Ze,dt=X._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ze).clearInstance(dt)}_addComponent(Ze){(0,X._addComponent)(this._delegate,Ze)}_addOrOverwriteComponent(Ze){(0,X._addOrOverwriteComponent)(this._delegate,Ze)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ue=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),pe=function je(){const Mt=function Oe(Mt){const Ze={},dt={__esModule:!0,initializeApp:function oe(ot,de={}){const Xe=X.initializeApp(ot,de);if((0,m.r3)(Ze,Xe.name))return Ze[Xe.name];const se=new Mt(Xe,dt);return Ze[Xe.name]=se,se},app:Ut,registerVersion:X.registerVersion,setLogLevel:X.setLogLevel,onLog:X.onLog,apps:null,SDK_VERSION:X.SDK_VERSION,INTERNAL:{registerComponent:function Ke(ot){const de=ot.name,Xe=de.replace("-compat","");if(X._registerComponent(ot)&&"PUBLIC"===ot.type){const se=(ke=Ut())=>{if("function"!=typeof ke[Xe])throw Ue.create("invalid-app-argument",{appName:de});return ke[Xe]()};void 0!==ot.serviceProps&&(0,m.ZB)(se,ot.serviceProps),dt[Xe]=se,Mt.prototype[Xe]=function(...ke){return this._getService.bind(this,de).apply(this,ot.multipleInstances?ke:[])}}return"PUBLIC"===ot.type?dt[Xe]:null},removeApp:function Vt(ot){delete Ze[ot]},useAsService:function Ge(ot,de){return"serverAuth"===de?null:de},modularAPIs:X}};function Ut(ot){if(!(0,m.r3)(Ze,ot=ot||X._DEFAULT_ENTRY_NAME))throw Ue.create("no-app",{appName:ot});return Ze[ot]}return dt.default=dt,Object.defineProperty(dt,"apps",{get:function ve(){return Object.keys(Ze).map(ot=>Ze[ot])}}),Ut.App=Mt,dt}(De);return Mt.INTERNAL=Object.assign(Object.assign({},Mt.INTERNAL),{createFirebaseNamespace:je,extendNamespace:function Ze(dt){(0,m.ZB)(Mt,dt)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),Mt}(),fe=new Te.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){fe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Mt=self.firebase.SDK_VERSION;Mt&&Mt.indexOf("LITE")>=0&&fe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ht=pe;!function it(Mt){(0,X.registerVersion)("@firebase/app-compat","0.1.25",Mt)}()},9681:(jt,ze,U)=>{U.r(ze),U.d(ze,{FirebaseError:()=>Te.ZR,SDK_VERSION:()=>pr,_DEFAULT_ENTRY_NAME:()=>Zt,_addComponent:()=>nt,_addOrOverwriteComponent:()=>et,_apps:()=>yn,_clearComponents:()=>Ht,_components:()=>Qt,_getProvider:()=>Be,_registerComponent:()=>we,_removeServiceInstance:()=>Dt,deleteApp:()=>sn,getApp:()=>sr,getApps:()=>Xn,initializeApp:()=>lr,onLog:()=>wn,registerVersion:()=>Mn,setLogLevel:()=>_i});var m=U(5861),O=U(4859),X=U(1877),Te=U(2090),De=U(8766);class Ae{constructor(Pe){this.container=Pe}getPlatformInfoString(){return this.container.getProviders().map(wt=>{if(function Ue(he){const Pe=he.getComponent();return"VERSION"===(null==Pe?void 0:Pe.type)}(wt)){const Bt=wt.getImmediate();return`${Bt.library}/${Bt.version}`}return null}).filter(wt=>wt).join(" ")}}const Oe="@firebase/app",pe=new X.Yd("@firebase/app"),Zt="[DEFAULT]",Ct={[Oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yn=new Map,Qt=new Map;function nt(he,Pe){try{he.container.addComponent(Pe)}catch(wt){pe.debug(`Component ${Pe.name} failed to register with FirebaseApp ${he.name}`,wt)}}function et(he,Pe){he.container.addOrOverwriteComponent(Pe)}function we(he){const Pe=he.name;if(Qt.has(Pe))return pe.debug(`There were multiple attempts to register component ${Pe}.`),!1;Qt.set(Pe,he);for(const wt of yn.values())nt(wt,he);return!0}function Be(he,Pe){const wt=he.container.getProvider("heartbeat").getImmediate({optional:!0});return wt&&wt.triggerHeartbeat(),he.container.getProvider(Pe)}function Dt(he,Pe,wt=Zt){Be(he,Pe).clearInstance(wt)}function Ht(){Qt.clear()}const Wn=new Te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Zn{constructor(Pe,wt,Bt){this._isDeleted=!1,this._options=Object.assign({},Pe),this._config=Object.assign({},wt),this._name=wt.name,this._automaticDataCollectionEnabled=wt.automaticDataCollectionEnabled,this._container=Bt,this.container.addComponent(new O.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Pe){this._isDeleted=Pe}checkDestroyed(){if(this.isDeleted)throw Wn.create("app-deleted",{appName:this._name})}}const pr="9.8.1";function lr(he,Pe={}){"object"!=typeof Pe&&(Pe={name:Pe});const wt=Object.assign({name:Zt,automaticDataCollectionEnabled:!1},Pe),Bt=wt.name;if("string"!=typeof Bt||!Bt)throw Wn.create("bad-app-name",{appName:String(Bt)});const Wt=yn.get(Bt);if(Wt){if((0,Te.vZ)(he,Wt.options)&&(0,Te.vZ)(wt,Wt.config))return Wt;throw Wn.create("duplicate-app",{appName:Bt})}const ln=new O.H0(Bt);for(const dn of Qt.values())ln.addComponent(dn);const vr=new Zn(he,wt,ln);return yn.set(Bt,vr),vr}function sr(he=Zt){const Pe=yn.get(he);if(!Pe)throw Wn.create("no-app",{appName:he});return Pe}function Xn(){return Array.from(yn.values())}function sn(he){return gn.apply(this,arguments)}function gn(){return(gn=(0,m.Z)(function*(he){const Pe=he.name;yn.has(Pe)&&(yn.delete(Pe),yield Promise.all(he.container.getProviders().map(wt=>wt.delete())),he.isDeleted=!0)})).apply(this,arguments)}function Mn(he,Pe,wt){var Bt;let Wt=null!==(Bt=Ct[he])&&void 0!==Bt?Bt:he;wt&&(Wt+=`-${wt}`);const ln=Wt.match(/\s|\//),vr=Pe.match(/\s|\//);if(ln||vr){const dn=[`Unable to register library "${Wt}" with version "${Pe}":`];return ln&&dn.push(`library name "${Wt}" contains illegal characters (whitespace or "/")`),ln&&vr&&dn.push("and"),vr&&dn.push(`version name "${Pe}" contains illegal characters (whitespace or "/")`),void pe.warn(dn.join(" "))}we(new O.wA(`${Wt}-version`,()=>({library:Wt,version:Pe}),"VERSION"))}function wn(he,Pe){if(null!==he&&"function"!=typeof he)throw Wn.create("invalid-log-argument");(0,X.Am)(he,Pe)}function _i(he){(0,X.Ub)(he)}const be="firebase-heartbeat-store";let Se=null;function Et(){return Se||(Se=(0,De.X3)("firebase-heartbeat-database",1,{upgrade:(he,Pe)=>{0===Pe&&he.createObjectStore(be)}}).catch(he=>{throw Wn.create("storage-open",{originalErrorMessage:he.message})})),Se}function _t(){return(_t=(0,m.Z)(function*(he){try{return(yield Et()).transaction(be).objectStore(be).get(_n(he))}catch(Pe){throw Wn.create("storage-get",{originalErrorMessage:Pe.message})}})).apply(this,arguments)}function kt(he,Pe){return pn.apply(this,arguments)}function pn(){return(pn=(0,m.Z)(function*(he,Pe){try{const Bt=(yield Et()).transaction(be,"readwrite");return yield Bt.objectStore(be).put(Pe,_n(he)),Bt.done}catch(wt){throw Wn.create("storage-set",{originalErrorMessage:wt.message})}})).apply(this,arguments)}function _n(he){return`${he.name}!${he.options.appId}`}class br{constructor(Pe){this.container=Pe,this._heartbeatsCache=null;const wt=this.container.getProvider("app").getImmediate();this._storage=new ge(wt),this._heartbeatsCachePromise=this._storage.read().then(Bt=>(this._heartbeatsCache=Bt,Bt))}triggerHeartbeat(){var Pe=this;return(0,m.Z)(function*(){const Bt=Pe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Wt=Yn();if(null===Pe._heartbeatsCache&&(Pe._heartbeatsCache=yield Pe._heartbeatsCachePromise),Pe._heartbeatsCache.lastSentHeartbeatDate!==Wt&&!Pe._heartbeatsCache.heartbeats.some(ln=>ln.date===Wt))return Pe._heartbeatsCache.heartbeats.push({date:Wt,agent:Bt}),Pe._heartbeatsCache.heartbeats=Pe._heartbeatsCache.heartbeats.filter(ln=>{const vr=new Date(ln.date).valueOf();return Date.now()-vr<=2592e6}),Pe._storage.overwrite(Pe._heartbeatsCache)})()}getHeartbeatsHeader(){var Pe=this;return(0,m.Z)(function*(){if(null===Pe._heartbeatsCache&&(yield Pe._heartbeatsCachePromise),null===Pe._heartbeatsCache||0===Pe._heartbeatsCache.heartbeats.length)return"";const wt=Yn(),{heartbeatsToSend:Bt,unsentEntries:Wt}=function ue(he,Pe=1024){const wt=[];let Bt=he.slice();for(const Wt of he){const ln=wt.find(vr=>vr.agent===Wt.agent);if(ln){if(ln.dates.push(Wt.date),Ce(wt)>Pe){ln.dates.pop();break}}else if(wt.push({agent:Wt.agent,dates:[Wt.date]}),Ce(wt)>Pe){wt.pop();break}Bt=Bt.slice(1)}return{heartbeatsToSend:wt,unsentEntries:Bt}}(Pe._heartbeatsCache.heartbeats),ln=(0,Te.L)(JSON.stringify({version:2,heartbeats:Bt}));return Pe._heartbeatsCache.lastSentHeartbeatDate=wt,Wt.length>0?(Pe._heartbeatsCache.heartbeats=Wt,yield Pe._storage.overwrite(Pe._heartbeatsCache)):(Pe._heartbeatsCache.heartbeats=[],Pe._storage.overwrite(Pe._heartbeatsCache)),ln})()}}function Yn(){return(new Date).toISOString().substring(0,10)}class ge{constructor(Pe){this.app=Pe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,Te.hl)()&&(0,Te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Pe=this;return(0,m.Z)(function*(){return(yield Pe._canUseIndexedDBPromise)&&(yield function He(he){return _t.apply(this,arguments)}(Pe.app))||{heartbeats:[]}})()}overwrite(Pe){var wt=this;return(0,m.Z)(function*(){var Bt;if(yield wt._canUseIndexedDBPromise){const ln=yield wt.read();return kt(wt.app,{lastSentHeartbeatDate:null!==(Bt=Pe.lastSentHeartbeatDate)&&void 0!==Bt?Bt:ln.lastSentHeartbeatDate,heartbeats:Pe.heartbeats})}})()}add(Pe){var wt=this;return(0,m.Z)(function*(){var Bt;if(yield wt._canUseIndexedDBPromise){const ln=yield wt.read();return kt(wt.app,{lastSentHeartbeatDate:null!==(Bt=Pe.lastSentHeartbeatDate)&&void 0!==Bt?Bt:ln.lastSentHeartbeatDate,heartbeats:[...ln.heartbeats,...Pe.heartbeats]})}})()}}function Ce(he){return(0,Te.L)(JSON.stringify({version:2,heartbeats:he})).length}!function yt(he){we(new O.wA("platform-logger",Pe=>new Ae(Pe),"PRIVATE")),we(new O.wA("heartbeat",Pe=>new br(Pe),"PRIVATE")),Mn(Oe,"0.7.24",he),Mn(Oe,"0.7.24","esm2017"),Mn("fire-js","")}("")},4859:(jt,ze,U)=>{U.d(ze,{H0:()=>Oe,wA:()=>X});var m=U(5861),O=U(2090);class X{constructor(pe,fe,Ve){this.name=pe,this.instanceFactory=fe,this.type=Ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(pe){return this.instantiationMode=pe,this}setMultipleInstances(pe){return this.multipleInstances=pe,this}setServiceProps(pe){return this.serviceProps=pe,this}setInstanceCreatedCallback(pe){return this.onInstanceCreated=pe,this}}const Te="[DEFAULT]";class De{constructor(pe,fe){this.name=pe,this.container=fe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(pe){const fe=this.normalizeInstanceIdentifier(pe);if(!this.instancesDeferred.has(fe)){const Ve=new O.BH;if(this.instancesDeferred.set(fe,Ve),this.isInitialized(fe)||this.shouldAutoInitialize())try{const St=this.getOrInitializeService({instanceIdentifier:fe});St&&Ve.resolve(St)}catch(St){}}return this.instancesDeferred.get(fe).promise}getImmediate(pe){var fe;const Ve=this.normalizeInstanceIdentifier(null==pe?void 0:pe.identifier),St=null!==(fe=null==pe?void 0:pe.optional)&&void 0!==fe&&fe;if(!this.isInitialized(Ve)&&!this.shouldAutoInitialize()){if(St)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ve})}catch(it){if(St)return null;throw it}}getComponent(){return this.component}setComponent(pe){if(pe.name!==this.name)throw Error(`Mismatching Component ${pe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=pe,this.shouldAutoInitialize()){if(function Ue(je){return"EAGER"===je.instantiationMode}(pe))try{this.getOrInitializeService({instanceIdentifier:Te})}catch(fe){}for(const[fe,Ve]of this.instancesDeferred.entries()){const St=this.normalizeInstanceIdentifier(fe);try{const it=this.getOrInitializeService({instanceIdentifier:St});Ve.resolve(it)}catch(it){}}}}clearInstance(pe=Te){this.instancesDeferred.delete(pe),this.instancesOptions.delete(pe),this.instances.delete(pe)}delete(){var pe=this;return(0,m.Z)(function*(){const fe=Array.from(pe.instances.values());yield Promise.all([...fe.filter(Ve=>"INTERNAL"in Ve).map(Ve=>Ve.INTERNAL.delete()),...fe.filter(Ve=>"_delete"in Ve).map(Ve=>Ve._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(pe=Te){return this.instances.has(pe)}getOptions(pe=Te){return this.instancesOptions.get(pe)||{}}initialize(pe={}){const{options:fe={}}=pe,Ve=this.normalizeInstanceIdentifier(pe.instanceIdentifier);if(this.isInitialized(Ve))throw Error(`${this.name}(${Ve}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const St=this.getOrInitializeService({instanceIdentifier:Ve,options:fe});for(const[it,ht]of this.instancesDeferred.entries())Ve===this.normalizeInstanceIdentifier(it)&&ht.resolve(St);return St}onInit(pe,fe){var Ve;const St=this.normalizeInstanceIdentifier(fe),it=null!==(Ve=this.onInitCallbacks.get(St))&&void 0!==Ve?Ve:new Set;it.add(pe),this.onInitCallbacks.set(St,it);const ht=this.instances.get(St);return ht&&pe(ht,St),()=>{it.delete(pe)}}invokeOnInitCallbacks(pe,fe){const Ve=this.onInitCallbacks.get(fe);if(Ve)for(const St of Ve)try{St(pe,fe)}catch(it){}}getOrInitializeService({instanceIdentifier:pe,options:fe={}}){let Ve=this.instances.get(pe);if(!Ve&&this.component&&(Ve=this.component.instanceFactory(this.container,{instanceIdentifier:(je=pe,je===Te?void 0:je),options:fe}),this.instances.set(pe,Ve),this.instancesOptions.set(pe,fe),this.invokeOnInitCallbacks(Ve,pe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,pe,Ve)}catch(St){}var je;return Ve||null}normalizeInstanceIdentifier(pe=Te){return this.component?this.component.multipleInstances?pe:Te:pe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Oe{constructor(pe){this.name=pe,this.providers=new Map}addComponent(pe){const fe=this.getProvider(pe.name);if(fe.isComponentSet())throw new Error(`Component ${pe.name} has already been registered with ${this.name}`);fe.setComponent(pe)}addOrOverwriteComponent(pe){this.getProvider(pe.name).isComponentSet()&&this.providers.delete(pe.name),this.addComponent(pe)}getProvider(pe){if(this.providers.has(pe))return this.providers.get(pe);const fe=new De(pe,this);return this.providers.set(pe,fe),fe}getProviders(){return Array.from(this.providers.values())}}},1877:(jt,ze,U)=>{U.d(ze,{Am:()=>je,Ub:()=>Oe,Yd:()=>Ue,in:()=>O});const m=[];var O=(()=>{return(pe=O||(O={}))[pe.DEBUG=0]="DEBUG",pe[pe.VERBOSE=1]="VERBOSE",pe[pe.INFO=2]="INFO",pe[pe.WARN=3]="WARN",pe[pe.ERROR=4]="ERROR",pe[pe.SILENT=5]="SILENT",O;var pe})();const X={debug:O.DEBUG,verbose:O.VERBOSE,info:O.INFO,warn:O.WARN,error:O.ERROR,silent:O.SILENT},Te=O.INFO,De={[O.DEBUG]:"log",[O.VERBOSE]:"log",[O.INFO]:"info",[O.WARN]:"warn",[O.ERROR]:"error"},Ae=(pe,fe,...Ve)=>{if(fe<pe.logLevel)return;const St=(new Date).toISOString(),it=De[fe];if(!it)throw new Error(`Attempted to log a message with an invalid logType (value: ${fe})`);console[it](`[${St}]  ${pe.name}:`,...Ve)};class Ue{constructor(fe){this.name=fe,this._logLevel=Te,this._logHandler=Ae,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(fe){if(!(fe in O))throw new TypeError(`Invalid value "${fe}" assigned to \`logLevel\``);this._logLevel=fe}setLogLevel(fe){this._logLevel="string"==typeof fe?X[fe]:fe}get logHandler(){return this._logHandler}set logHandler(fe){if("function"!=typeof fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=fe}get userLogHandler(){return this._userLogHandler}set userLogHandler(fe){this._userLogHandler=fe}debug(...fe){this._userLogHandler&&this._userLogHandler(this,O.DEBUG,...fe),this._logHandler(this,O.DEBUG,...fe)}log(...fe){this._userLogHandler&&this._userLogHandler(this,O.VERBOSE,...fe),this._logHandler(this,O.VERBOSE,...fe)}info(...fe){this._userLogHandler&&this._userLogHandler(this,O.INFO,...fe),this._logHandler(this,O.INFO,...fe)}warn(...fe){this._userLogHandler&&this._userLogHandler(this,O.WARN,...fe),this._logHandler(this,O.WARN,...fe)}error(...fe){this._userLogHandler&&this._userLogHandler(this,O.ERROR,...fe),this._logHandler(this,O.ERROR,...fe)}}function Oe(pe){m.forEach(fe=>{fe.setLogLevel(pe)})}function je(pe,fe){for(const Ve of m){let St=null;fe&&fe.level&&(St=X[fe.level]),Ve.userLogHandler=null===pe?null:(it,ht,...Mt)=>{const Ze=Mt.map(dt=>{if(null==dt)return null;if("string"==typeof dt)return dt;if("number"==typeof dt||"boolean"==typeof dt)return dt.toString();if(dt instanceof Error)return dt.message;try{return JSON.stringify(dt)}catch(Vt){return null}}).filter(dt=>dt).join(" ");ht>=(null!=St?St:it.logLevel)&&pe({level:O[ht].toLowerCase(),message:Ze,args:Mt,type:it.name})}}}},8766:(jt,ze,U)=>{U.d(ze,{Lj:()=>oe,X3:()=>Ut});var m=U(5861);let X,Te;const Ue=new WeakMap,Oe=new WeakMap,je=new WeakMap,pe=new WeakMap,fe=new WeakMap;let it={get(de,Xe,se){if(de instanceof IDBTransaction){if("done"===Xe)return Oe.get(de);if("objectStoreNames"===Xe)return de.objectStoreNames||je.get(de);if("store"===Xe)return se.objectStoreNames[1]?void 0:se.objectStore(se.objectStoreNames[0])}return dt(de[Xe])},set:(de,Xe,se)=>(de[Xe]=se,!0),has:(de,Xe)=>de instanceof IDBTransaction&&("done"===Xe||"store"===Xe)||Xe in de};function Ze(de){return"function"==typeof de?function Mt(de){return de!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ae(){return Te||(Te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(de)?function(...Xe){return de.apply(Vt(this),Xe),dt(Ue.get(this))}:function(...Xe){return dt(de.apply(Vt(this),Xe))}:function(Xe,...se){const ke=de.call(Vt(this),Xe,...se);return je.set(ke,Xe.sort?Xe.sort():[Xe]),dt(ke)}}(de):(de instanceof IDBTransaction&&function St(de){if(Oe.has(de))return;const Xe=new Promise((se,ke)=>{const _e=()=>{de.removeEventListener("complete",tt),de.removeEventListener("error",We),de.removeEventListener("abort",We)},tt=()=>{se(),_e()},We=()=>{ke(de.error||new DOMException("AbortError","AbortError")),_e()};de.addEventListener("complete",tt),de.addEventListener("error",We),de.addEventListener("abort",We)});Oe.set(de,Xe)}(de),((de,Xe)=>Xe.some(se=>de instanceof se))(de,function De(){return X||(X=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(de,it):de)}function dt(de){if(de instanceof IDBRequest)return function Ve(de){const Xe=new Promise((se,ke)=>{const _e=()=>{de.removeEventListener("success",tt),de.removeEventListener("error",We)},tt=()=>{se(dt(de.result)),_e()},We=()=>{ke(de.error),_e()};de.addEventListener("success",tt),de.addEventListener("error",We)});return Xe.then(se=>{se instanceof IDBCursor&&Ue.set(se,de)}).catch(()=>{}),fe.set(Xe,de),Xe}(de);if(pe.has(de))return pe.get(de);const Xe=Ze(de);return Xe!==de&&(pe.set(de,Xe),fe.set(Xe,de)),Xe}const Vt=de=>fe.get(de);function Ut(de,Xe,{blocked:se,upgrade:ke,blocking:_e,terminated:tt}={}){const We=indexedDB.open(de,Xe),It=dt(We);return ke&&We.addEventListener("upgradeneeded",Nt=>{ke(dt(We.result),Nt.oldVersion,Nt.newVersion,dt(We.transaction))}),se&&We.addEventListener("blocked",()=>se()),It.then(Nt=>{tt&&Nt.addEventListener("close",()=>tt()),_e&&Nt.addEventListener("versionchange",()=>_e())}).catch(()=>{}),It}function oe(de,{blocked:Xe}={}){const se=indexedDB.deleteDatabase(de);return Xe&&se.addEventListener("blocked",()=>Xe()),dt(se).then(()=>{})}const ve=["get","getKey","getAll","getAllKeys","count"],Ke=["put","add","delete","clear"],Ge=new Map;function ot(de,Xe){if(!(de instanceof IDBDatabase)||Xe in de||"string"!=typeof Xe)return;if(Ge.get(Xe))return Ge.get(Xe);const se=Xe.replace(/FromIndex$/,""),ke=Xe!==se,_e=Ke.includes(se);if(!(se in(ke?IDBIndex:IDBObjectStore).prototype)||!_e&&!ve.includes(se))return;const tt=function(){var We=(0,m.Z)(function*(It,...Nt){const Ot=this.transaction(It,_e?"readwrite":"readonly");let Zt=Ot.store;return ke&&(Zt=Zt.index(Nt.shift())),(yield Promise.all([Zt[se](...Nt),_e&&Ot.done]))[0]});return function(Nt){return We.apply(this,arguments)}}();return Ge.set(Xe,tt),tt}!function ht(de){it=de(it)}(de=>kE(NE({},de),{get:(Xe,se,ke)=>ot(Xe,se)||de.get(Xe,se,ke),has:(Xe,se)=>!!ot(Xe,se)||de.has(Xe,se)}))},2290:(jt,ze,U)=>{U.d(ze,{Rh:()=>Ot,_W:()=>We});var m=U(5e3),O=U(1777),X=U(7579),Te=U(9808),De=U(2313);const Ae=["toast-component",""];function Ue(nt,et){if(1&nt){const we=m.EpF();m.TgZ(0,"button",5),m.NdJ("click",function(){return m.CHM(we),m.oxw().remove()}),m.TgZ(1,"span",6),m._uU(2,"\xd7"),m.qZA()()}}function Oe(nt,et){if(1&nt&&(m.ynx(0),m._uU(1),m.BQk()),2&nt){const we=m.oxw(2);m.xp6(1),m.hij("[",we.duplicatesCount+1,"]")}}function je(nt,et){if(1&nt&&(m.TgZ(0,"div"),m._uU(1),m.YNc(2,Oe,2,1,"ng-container",4),m.qZA()),2&nt){const we=m.oxw();m.Tol(we.options.titleClass),m.uIk("aria-label",we.title),m.xp6(1),m.hij(" ",we.title," "),m.xp6(1),m.Q6J("ngIf",we.duplicatesCount)}}function pe(nt,et){if(1&nt&&m._UZ(0,"div",7),2&nt){const we=m.oxw();m.Tol(we.options.messageClass),m.Q6J("innerHTML",we.message,m.oJD)}}function fe(nt,et){if(1&nt&&(m.TgZ(0,"div",8),m._uU(1),m.qZA()),2&nt){const we=m.oxw();m.Tol(we.options.messageClass),m.uIk("aria-label",we.message),m.xp6(1),m.hij(" ",we.message," ")}}function Ve(nt,et){if(1&nt&&(m.TgZ(0,"div"),m._UZ(1,"div",9),m.qZA()),2&nt){const we=m.oxw();m.xp6(1),m.Udp("width",we.width+"%")}}function St(nt,et){if(1&nt){const we=m.EpF();m.TgZ(0,"button",5),m.NdJ("click",function(){return m.CHM(we),m.oxw().remove()}),m.TgZ(1,"span",6),m._uU(2,"\xd7"),m.qZA()()}}function it(nt,et){if(1&nt&&(m.ynx(0),m._uU(1),m.BQk()),2&nt){const we=m.oxw(2);m.xp6(1),m.hij("[",we.duplicatesCount+1,"]")}}function ht(nt,et){if(1&nt&&(m.TgZ(0,"div"),m._uU(1),m.YNc(2,it,2,1,"ng-container",4),m.qZA()),2&nt){const we=m.oxw();m.Tol(we.options.titleClass),m.uIk("aria-label",we.title),m.xp6(1),m.hij(" ",we.title," "),m.xp6(1),m.Q6J("ngIf",we.duplicatesCount)}}function Mt(nt,et){if(1&nt&&m._UZ(0,"div",7),2&nt){const we=m.oxw();m.Tol(we.options.messageClass),m.Q6J("innerHTML",we.message,m.oJD)}}function Ze(nt,et){if(1&nt&&(m.TgZ(0,"div",8),m._uU(1),m.qZA()),2&nt){const we=m.oxw();m.Tol(we.options.messageClass),m.uIk("aria-label",we.message),m.xp6(1),m.hij(" ",we.message," ")}}function dt(nt,et){if(1&nt&&(m.TgZ(0,"div"),m._UZ(1,"div",9),m.qZA()),2&nt){const we=m.oxw();m.xp6(1),m.Udp("width",we.width+"%")}}class oe{constructor(et,we){this.component=et,this.injector=we}attach(et,we){return this._attachedHost=et,et.attach(this,we)}detach(){const et=this._attachedHost;if(et)return this._attachedHost=void 0,et.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(et){this._attachedHost=et}}class Ke{constructor(et,we,Be,Dt,Ht,Pn){this.toastId=et,this.config=we,this.message=Be,this.title=Dt,this.toastType=Ht,this.toastRef=Pn,this._onTap=new X.x,this._onAction=new X.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(et){this._onAction.next(et)}onAction(){return this._onAction.asObservable()}}const Ge={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},ot=new m.OlP("ToastConfig");class de{constructor(et){this._overlayRef=et,this.duplicatesCount=0,this._afterClosed=new X.x,this._activate=new X.x,this._manualClose=new X.x,this._resetTimeout=new X.x,this._countDuplicate=new X.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(et,we){et&&this._resetTimeout.next(),we&&this._countDuplicate.next(++this.duplicatesCount)}}class Xe{constructor(et,we){this._toastPackage=et,this._parentInjector=we}get(et,we,Be){return et===Ke?this._toastPackage:this._parentInjector.get(et,we,Be)}}class se extends class ve{attach(et,we){return this._attachedPortal=et,this.attachComponentPortal(et,we)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(et){this._disposeFn=et}}{constructor(et,we,Be){super(),this._hostDomElement=et,this._componentFactoryResolver=we,this._appRef=Be}attachComponentPortal(et,we){const Be=this._componentFactoryResolver.resolveComponentFactory(et.component);let Dt;return Dt=Be.create(et.injector),this._appRef.attachView(Dt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Dt.hostView),Dt.destroy()}),we?this._hostDomElement.insertBefore(this._getComponentRootNode(Dt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Dt)),Dt}_getComponentRootNode(et){return et.hostView.rootNodes[0]}}class ke{constructor(et){this._portalHost=et}attach(et,we=!0){return this._portalHost.attach(et,we)}detach(){return this._portalHost.detach()}}let _e=(()=>{class nt{constructor(we){this._document=we}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const we=this._document.createElement("div");we.classList.add("overlay-container"),we.setAttribute("aria-live","polite"),this._document.body.appendChild(we),this._containerElement=we}}return nt.\u0275fac=function(we){return new(we||nt)(m.LFG(Te.K0))},nt.\u0275prov=m.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})(),tt=(()=>{class nt{constructor(we,Be,Dt,Ht){this._overlayContainer=we,this._componentFactoryResolver=Be,this._appRef=Dt,this._document=Ht,this._paneElements=new Map}create(we,Be){return this._createOverlayRef(this.getPaneElement(we,Be))}getPaneElement(we="",Be){return this._paneElements.get(Be)||this._paneElements.set(Be,{}),this._paneElements.get(Be)[we]||(this._paneElements.get(Be)[we]=this._createPaneElement(we,Be)),this._paneElements.get(Be)[we]}_createPaneElement(we,Be){const Dt=this._document.createElement("div");return Dt.id="toast-container",Dt.classList.add(we),Dt.classList.add("toast-container"),Be?Be.getContainerElement().appendChild(Dt):this._overlayContainer.getContainerElement().appendChild(Dt),Dt}_createPortalHost(we){return new se(we,this._componentFactoryResolver,this._appRef)}_createOverlayRef(we){return new ke(this._createPortalHost(we))}}return nt.\u0275fac=function(we){return new(we||nt)(m.LFG(_e),m.LFG(m._Vd),m.LFG(m.z2F),m.LFG(Te.K0))},nt.\u0275prov=m.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})(),We=(()=>{class nt{constructor(we,Be,Dt,Ht,Pn){this.overlay=Be,this._injector=Dt,this.sanitizer=Ht,this.ngZone=Pn,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},we.default),we.config),we.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},we.default.iconClasses),we.config.iconClasses))}show(we,Be,Dt={},Ht=""){return this._preBuildNotification(Ht,we,Be,this.applyConfig(Dt))}success(we,Be,Dt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",we,Be,this.applyConfig(Dt))}error(we,Be,Dt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",we,Be,this.applyConfig(Dt))}info(we,Be,Dt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",we,Be,this.applyConfig(Dt))}warning(we,Be,Dt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",we,Be,this.applyConfig(Dt))}clear(we){for(const Be of this.toasts)if(void 0!==we){if(Be.toastId===we)return void Be.toastRef.manualClose()}else Be.toastRef.manualClose()}remove(we){const Be=this._findToast(we);if(!Be||(Be.activeToast.toastRef.close(),this.toasts.splice(Be.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Dt=this.toasts[this.currentlyActive].toastRef;Dt.isInactive()||(this.currentlyActive=this.currentlyActive+1,Dt.activate())}return!0}findDuplicate(we="",Be="",Dt,Ht){const{includeTitleDuplicates:Pn}=this.toastrConfig;for(const Wn of this.toasts){const Zn=Pn&&Wn.title===we;if((!Pn||Zn)&&Wn.message===Be)return Wn.toastRef.onDuplicate(Dt,Ht),Wn}return null}applyConfig(we={}){return Object.assign(Object.assign({},this.toastrConfig),we)}_findToast(we){for(let Be=0;Be<this.toasts.length;Be++)if(this.toasts[Be].toastId===we)return{index:Be,activeToast:this.toasts[Be]};return null}_preBuildNotification(we,Be,Dt,Ht){return Ht.onActivateTick?this.ngZone.run(()=>this._buildNotification(we,Be,Dt,Ht)):this._buildNotification(we,Be,Dt,Ht)}_buildNotification(we,Be,Dt,Ht){if(!Ht.toastComponent)throw new Error("toastComponent required");const Pn=this.findDuplicate(Dt,Be,this.toastrConfig.resetTimeoutOnDuplicate&&Ht.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Dt||Be)&&this.toastrConfig.preventDuplicates&&null!==Pn)return Pn;this.previousToastMessage=Be;let Wn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Wn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Zn=this.overlay.create(Ht.positionClass,this.overlayContainer);this.index=this.index+1;let pr=Be;Be&&Ht.enableHtml&&(pr=this.sanitizer.sanitize(m.q3G.HTML,Be));const lr=new de(Zn),sr=new Ke(this.index,Ht,pr,Dt,we,lr),Xn=new Xe(sr,this._injector),sn=new oe(Ht.toastComponent,Xn),gn=Zn.attach(sn,this.toastrConfig.newestOnTop);lr.componentInstance=gn.instance;const Mn={toastId:this.index,title:Dt||"",message:Be||"",toastRef:lr,onShown:lr.afterActivate(),onHidden:lr.afterClosed(),onTap:sr.onTap(),onAction:sr.onAction(),portal:gn};return Wn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Mn.toastRef.activate()})),this.toasts.push(Mn),Mn}}return nt.\u0275fac=function(we){return new(we||nt)(m.LFG(ot),m.LFG(tt),m.LFG(m.zs3),m.LFG(De.H7),m.LFG(m.R0b))},nt.\u0275prov=m.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})(),It=(()=>{class nt{constructor(we,Be,Dt){this.toastrService=we,this.toastPackage=Be,this.ngZone=Dt,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Be.message,this.title=Be.title,this.options=Be.config,this.originalTimeout=Be.config.timeOut,this.toastClasses=`${Be.toastType} ${Be.config.toastClass}`,this.sub=Be.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Be.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Be.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Be.toastRef.countDuplicate().subscribe(Ht=>{this.duplicatesCount=Ht})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const we=(new Date).getTime();this.width=(this.hideTime-we)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(we,Be){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(we),Be)):this.timeout=setTimeout(()=>we(),Be)}outsideInterval(we,Be){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(we),Be)):this.intervalId=setInterval(()=>we(),Be)}runInsideAngular(we){this.ngZone?this.ngZone.run(()=>we()):we()}}return nt.\u0275fac=function(we){return new(we||nt)(m.Y36(We),m.Y36(Ke),m.Y36(m.R0b))},nt.\u0275cmp=m.Xpm({type:nt,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(we,Be){1&we&&m.NdJ("click",function(){return Be.tapToast()})("mouseenter",function(){return Be.stickAround()})("mouseleave",function(){return Be.delayedHideToast()}),2&we&&(m.d8E("@flyInOut",Be.state),m.Tol(Be.toastClasses),m.Udp("display",Be.displayStyle))},attrs:Ae,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(we,Be){1&we&&(m.YNc(0,Ue,3,0,"button",0),m.YNc(1,je,3,5,"div",1),m.YNc(2,pe,1,3,"div",2),m.YNc(3,fe,2,4,"div",3),m.YNc(4,Ve,2,2,"div",4)),2&we&&(m.Q6J("ngIf",Be.options.closeButton),m.xp6(1),m.Q6J("ngIf",Be.title),m.xp6(1),m.Q6J("ngIf",Be.message&&Be.options.enableHtml),m.xp6(1),m.Q6J("ngIf",Be.message&&!Be.options.enableHtml),m.xp6(1),m.Q6J("ngIf",Be.options.progressBar))},directives:[Te.O5],encapsulation:2,data:{animation:[(0,O.X$)("flyInOut",[(0,O.SB)("inactive",(0,O.oB)({opacity:0})),(0,O.SB)("active",(0,O.oB)({opacity:1})),(0,O.SB)("removed",(0,O.oB)({opacity:0})),(0,O.eR)("inactive => active",(0,O.jt)("{{ easeTime }}ms {{ easing }}")),(0,O.eR)("active => removed",(0,O.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),nt})();const Nt=Object.assign(Object.assign({},Ge),{toastComponent:It});let Ot=(()=>{class nt{static forRoot(we={}){return{ngModule:nt,providers:[{provide:ot,useValue:{default:Nt,config:we}}]}}}return nt.\u0275fac=function(we){return new(we||nt)},nt.\u0275mod=m.oAB({type:nt}),nt.\u0275inj=m.cJS({imports:[[Te.ez]]}),nt})(),Ct=(()=>{class nt{constructor(we,Be,Dt){this.toastrService=we,this.toastPackage=Be,this.appRef=Dt,this.width=-1,this.toastClasses="",this.state="inactive",this.message=Be.message,this.title=Be.title,this.options=Be.config,this.originalTimeout=Be.config.timeOut,this.toastClasses=`${Be.toastType} ${Be.config.toastClass}`,this.sub=Be.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Be.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Be.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Be.toastRef.countDuplicate().subscribe(Ht=>{this.duplicatesCount=Ht})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const we=(new Date).getTime();this.width=(this.hideTime-we)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return nt.\u0275fac=function(we){return new(we||nt)(m.Y36(We),m.Y36(Ke),m.Y36(m.z2F))},nt.\u0275cmp=m.Xpm({type:nt,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(we,Be){1&we&&m.NdJ("click",function(){return Be.tapToast()})("mouseenter",function(){return Be.stickAround()})("mouseleave",function(){return Be.delayedHideToast()}),2&we&&(m.Tol(Be.toastClasses),m.Udp("display",Be.displayStyle))},attrs:Ae,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(we,Be){1&we&&(m.YNc(0,St,3,0,"button",0),m.YNc(1,ht,3,5,"div",1),m.YNc(2,Mt,1,3,"div",2),m.YNc(3,Ze,2,4,"div",3),m.YNc(4,dt,2,2,"div",4)),2&we&&(m.Q6J("ngIf",Be.options.closeButton),m.xp6(1),m.Q6J("ngIf",Be.title),m.xp6(1),m.Q6J("ngIf",Be.message&&Be.options.enableHtml),m.xp6(1),m.Q6J("ngIf",Be.message&&!Be.options.enableHtml),m.xp6(1),m.Q6J("ngIf",Be.options.progressBar))},directives:[Te.O5],encapsulation:2}),nt})();Object.assign(Object.assign({},Ge),{toastComponent:Ct})},5861:(jt,ze,U)=>{function m(X,Te,De,Ae,Ue,Oe,je){try{var pe=X[Oe](je),fe=pe.value}catch(Ve){return void De(Ve)}pe.done?Te(fe):Promise.resolve(fe).then(Ae,Ue)}function O(X){return function(){var Te=this,De=arguments;return new Promise(function(Ae,Ue){var Oe=X.apply(Te,De);function je(fe){m(Oe,Ae,Ue,je,pe,"next",fe)}function pe(fe){m(Oe,Ae,Ue,je,pe,"throw",fe)}je(void 0)})}}U.d(ze,{Z:()=>O})}},jt=>{jt(jt.s=6282)}]);